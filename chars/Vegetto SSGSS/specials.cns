
;-----------------------------------------------------------------------------------------------------------------------------------------------
;Lateral Kick A - 1°
[Statedef 1000]
type = A
movetype= A
physics = S
anim = 1000
;velset = 0,0
ctrl = 0
poweradd = 50
juggle = 4
facep2 = 0
hitdefpersist = 0
movehitpersist = 0
hitcountpersist = 0
sprpriority = 2

[State 440, 1]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
hitflag = MAFD
guardflag = M
animtype = medium
air.animtype = medium
priority = 5, Hit
damage = 28
pausetime = 12,12
guard.pausetime	= 6,8
sparkno = var(4) := 7001
guard.sparkno = -1
sparkxy = var(52):= 4, var(53):= -56
hitsound = S1, 7
guardsound = S0, 9
ground.type = High
ground.slidetime = 13
ground.hittime = 14
ground.velocity = -2,-4.5
air.velocity = -2,-4.5
snap = 15,0
fall = 1
fall.recovertime=80
envshake.time   = 10
envshake.freq   = 140
envshake.ampl   = -3
envshake.phase  = 90

[State 1000, 1]
type = veladd
trigger1 = animelem = 1
trigger2 = animelem = 2
trigger3 = animelem = 3
x = 4

[State 1000, 1]
type = veladd
trigger1 = animelem = 2
y = -2.2

[State 1000, 1]
type = PlaySnd
trigger1 = AnimElem = 2
value = S2, 7

[State 100, 1]
type = Explod
trigger1 = !time
Anim = 9912
ID = 9912
pos = 0,floor(-pos y)
sprpriority = 3
scale = .5,.3
supermovetime = -1
pausemovetime = -1
ownpal = 1

[State 0, AfterImage]
type = AfterImage
trigger1 = !time
time = 2
palbright = 0,0,0;90,90,90
palcontrast = 192,192,192;220,220,220
;paladd = 32,96,128
;palmul = .64,.64,.64
length = 5
timegap = 1
framegap = 1
trans = add

[State 1000, AfterImageTime]
type = AfterImageTime
trigger1 = 1
time = 2
ignorehitpause = 1

[State 1000, End]
type = ChangeState
trigger1 = (!AnimTime)
value = 50
ctrl = 0

;------------------------------------------------------------------------------------------------------------------
;Lateral Kick A - 2°
[Statedef 1001]
type = A
movetype= A
physics = S
anim = 1001
;velset = 0,0
ctrl = 0
poweradd = 50
juggle = 4
facep2 = 0
hitdefpersist = 0
movehitpersist = 0
hitcountpersist = 0
sprpriority = 2

[State 450, 1]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
hitflag = MAF
guardflag = M
animtype = medium
air.animtype =medium
priority = 5, Hit
damage = 28
pausetime = 12,12
guard.pausetime	= 6,8
sparkno = var(4) := 7001
guard.sparkno = -1
sparkxy = var(52):= 14, var(53):= -48
hitsound = S1, 7
guardsound = S0, 9
ground.type = High
ground.slidetime = 13
ground.hittime = 14
ground.velocity = -2,-6.2
air.velocity = -2,-6.2
snap = 15,0
fall = 1
fall.recovertime=160
envshake.time   = 5
envshake.freq   = 140
envshake.ampl   = -3
envshake.phase  = 90

[State 440, 1]
type = veladd
trigger1 = animelem = 1
trigger2 = animelem = 2
trigger3 = animelem = 3
x = 4

[State 440, 1]
type = veladd
trigger1 = animelem = 2
y = -2.2

[State 440, 1]
type = PlaySnd
trigger1 = AnimElem = 2
value = S2, 7

[State 0, AfterImageTime]
type = AfterImageTime
trigger1 = 1
time = 2
ignorehitpause = 1

[State 450, End]
type            = ChangeState
trigger1        = (!AnimTime)
value           = 50
ctrl            = 0

;-------------------------------------------------------------------------------------------------------
;Lateral Kick A - 3°
[Statedef 1002]
type = A
movetype= A
physics = S
anim = 1002
;velset = 0,0
ctrl = 0
poweradd = 50
juggle = 4
facep2 = 0
hitdefpersist = 0
movehitpersist = 0
hitcountpersist = 0
sprpriority = 2

[State 440, 1]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
hitflag = MAFD
guardflag = M
animtype = medium
priority = 5, Hit
damage = 28
pausetime = 12,12
guard.pausetime	= 12,12
sparkno = var(4) := 7001
guard.sparkno = -1
sparkxy = var(52):= 4, var(53):= -56
hitsound = S1, 7
guardsound = S0, 9
ground.type = High
ground.slidetime = 13
ground.hittime = 14
ground.velocity = -2,-4.5
air.velocity = -2,-4.5
snap = 15,0
fall = 1
fall.recovertime = 80
envshake.time   = 10
envshake.freq   = 140
envshake.ampl   = -3
envshake.phase  = 90

[State 440, 1]
type = veladd
trigger1 = animelem = 1
trigger2 = animelem = 2
trigger3 = animelem = 3
x = 6

[State 440, 1]
type = veladd
trigger1 = animelem = 2
y = -2.2

[State 0, VelSet]
type = VelSet
trigger1 = movehit
x = 2
y = -2

[State 440, 1]
type = PlaySnd
trigger1 = AnimElem = 2
value = S2, 7

[State 100, 1]
type = Explod
trigger1 = !time
Anim = 9100
pos = 0,floor(-pos y)
Id = 9100
sprpriority = 3
;removeongethit = 1
removetime = -2
scale=.5,.5
;bindtime = -1
Postype = p1
SuperMovetime = -1
ownpal = 1

[State 0, AfterImageTime]
type = AfterImageTime
trigger1 = 1
time = 2
ignorehitpause = 1

[State 440, End]
type            = ChangeState
trigger1        = (!AnimTime)
value           = 50
ctrl            = 1

;-------------------------------------------------------------------------
;Lateral Kick B - 1°
[Statedef 1010]
type = A
movetype= A
physics = S
anim = 1010
;velset = 0,0
ctrl = 0
poweradd = 50
juggle = 4
facep2 = 0
hitdefpersist = 0
movehitpersist = 0
hitcountpersist = 0
sprpriority = 2

[State 1010, 1]
type = HitDef
trigger1 = AnimElem = 3
attr = S, NA
hitflag = MAFD
guardflag = M
animtype = heavy
air.animtype = Back
priority = 5, Hit
damage = 38
pausetime = 14,16
guard.pausetime	= 8,10
sparkno = var(4) := 7002
guard.sparkno = -1
sparkxy	=var(52):= 36, var(53):= -84
hitsound = S1, 7
guardsound = S0, 9
ground.type = High
ground.slidetime = 13
ground.hittime = 14
ground.velocity = -2,-6.5
air.velocity = -2,-6.5
snap = 25,-25
fall = 1
fall.recovertime = 80
envshake.time   = 5
envshake.freq   = 140
envshake.ampl   = -3
envshake.phase  = 90

[State 1010, 1]
type = veladd
trigger1 = animelem = 1
x = 2

[State 1010, 1]
type = veladd
trigger1 = animelem = 2
x = 2

[State 1010, 1]
type = veladd
trigger1 = animelem = 3
x = 2

[State 1010, 1]
type = veladd
trigger1 = animelem = 2
y = -2.2

[State 1010, 1]
type = PlaySnd
trigger1 = animelem = 2
value = S2, 5

[State 1010, 1]
type = Explod
trigger1 = !time
Anim = 9912
ID = 9912
pos = 0,floor(-pos y)
sprpriority = 3
scale = .5,.5
supermovetime = -1
pausemovetime = -1
ownpal = 1

[State 1010, AfterImage]
type = AfterImage
trigger1 = !time
time = 2
palbright = 0,0,0;90,90,90
palcontrast = 192,192,192;220,220,220
;paladd = 32,96,128
;palmul = .64,.64,.64
length = 10
timegap = 1
framegap = 1
trans = add

[State 1010, AfterImageTime]
type = AfterImageTime
trigger1 = 1
time = 2
ignorehitpause = 1

[State 1010, End]
type            = ChangeState
trigger1        = (!AnimTime)
value           = 50
ctrl            = 0

;---------------------------------------------------------------------------------------------------------------------------
;Lateral Kick B - 2°
[Statedef 1011]
type = A
movetype= A
physics = S
anim = 1011
;velset = 0,0
ctrl = 0
poweradd = 50
juggle = 4
facep2 = 0
hitdefpersist = 0
movehitpersist = 0
hitcountpersist = 0
sprpriority = 2

[State 470, 1]
type = HitDef
trigger1 = AnimElem = 3
attr = S, NA
hitflag = MAFD
guardflag = M
animtype = heavy
air.animtype = Back
priority = 5, Hit
damage = 38
pausetime = 14,16
guard.pausetime	= 10,12
sparkno = var(4) := 7002
guard.sparkno = -1
sparkxy	= var(52):= 36, var(53):= -82
hitsound = S1, 7
guardsound = S0, 9
ground.type=low
ground.slidetime=13
ground.hittime =14
ground.velocity=-2,-5.7
air.velocity=-2,-5.7
snap = 25,-25
fall=1
fall.recovertime=160
envshake.time   = 5
envshake.freq   = 140
envshake.ampl   = -3
envshake.phase  = 90

[State 470, 1]
type = veladd
trigger1 = animelem = 1
x = 2

[State 470, 1]
type = veladd
trigger1 = animelem = 2
x = 2

[State 470, 1]
type = veladd
trigger1 = animelem = 3
x = 2


[State 470, 1]
type = veladd
trigger1 = animelem = 2
y = -2.0

[State 470, 1]
type = PlaySnd
trigger1 = animelem = 2
value = S2, 5

[State 0, AfterImageTime]
type = AfterImageTime
trigger1 = 1
time = 2
ignorehitpause = 1

[State 470, End]
type            = ChangeState
trigger1        = (!AnimTime)
value           = 50
ctrl            = 1

;---------------------------------------------------------------------------------------------------------------------------
;Lateral Kick B - 3°
[Statedef 1012]
type = A
movetype= A
physics = S
anim = 1012
;velset = 0,0
ctrl = 0
poweradd = 50
juggle = 2
facep2 = 0
hitdefpersist = 0
movehitpersist = 0
hitcountpersist = 0
sprpriority = 2

[State 480, 1]
type = HitDef
trigger1 = AnimElem = 3
attr = S, NA
hitflag = MAFD
guardflag = M
animtype = heavy
air.animtype = Back
priority = 5, Hit
damage = 38
pausetime = 14,16
guard.pausetime	= 10,12
sparkno = var(4) := 7002
guard.sparkno = -1
sparkxy	= var(52):= 36, var(53):= -84
hitsound = S1, 7
guardsound = S0, 9
ground.type=High
ground.slidetime=13
ground.hittime =14
ground.velocity=-2,-7
air.velocity=-2,-7
snap = 25,-25
fall = 1
fall.recovertime = 180
envshake.time   = 5
envshake.freq   = 140
envshake.ampl   = -3
envshake.phase  = 90

[State 480, 1]
type = veladd
trigger1 = animelem = 1
x = 2

[State 480, 1]
type = veladd
trigger1 = animelem = 2
x = 2

[State 480, 1]
type = veladd
trigger1 = animelem = 3
x = 2

[State 480, 1]
type = veladd
trigger1 = animelem = 2
y = -2.0

[State 480, 1]
type = PlaySnd
trigger1 = animelem = 2
value = S2, 5

[State 0, AfterImageTime]
type = AfterImageTime
trigger1 = 1
time = 2
ignorehitpause = 1

[State 480, End]
type            = ChangeState
trigger1        = (!AnimTime)
value           = 50
ctrl            = 1

;---------------------------------------------------------------------------------------------------------------------
;Lateral Kick EX - Patadas
[Statedef 1020]
type = A
movetype= A
physics = S
anim = 1020
;velset = 0,0
ctrl = 0
poweradd = -500
juggle = 4
facep2 = 0
hitdefpersist = 0
movehitpersist = 0
hitcountpersist = 0
sprpriority = 2

[State 20, sfx ex]
type = PlaySnd
trigger1 = time = 0
value = S15, 3

[State 0, ahhhr]
type = PlaySnd
trigger1 = time = 2
value = S20,2
channel = 0
ignorehitpause = 1

[State 20, AfterImage]
type = AfterImage
trigger1 = !Time
time = 2
timegap = 1
framegap = 1
length = 5
palbright = ifelse(var(56)>=1,30,0),30,ifelse(var(56)>=0,0,30)
palcontrast = 128,128,128
paladd = -16,-16,-16
palmul = ifelse(var(56)>=1,1.1,.5),1,ifelse(var(56)>=1,.5,1.1)
trans = add
ignorehitpause = 1

[State 20, AfterImageTime]
type = AfterImageTime
trigger1 = MoveType = A
time = 2

[State 20, PalFx]
type = PalFx
trigger1 = MoveType = A
time = 1
add = ifelse(var(56)>=1,30,0),30,ifelse(var(56)>=1,0,30)
mul = ifelse(var(56)>=1,300,200),300,ifelse(var(56)>=1,200,300)
ignorehitpause = 1

[State 440, 1]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
hitflag = MAF
guardflag = M
animtype = heavy
air.animtype = Back
priority = 5, Hit
damage = 18,4
pausetime = 1,1
guard.pausetime	= 12,12
sparkno = var(4) := 7001
guard.sparkno = -1
sparkxy	= var(52):= 4, var(53):= -56
hitsound = S1, 7
guardsound = S0, 9
ground.type=High
ground.slidetime=13
ground.hittime =14
ground.velocity=-2,-4.5
air.velocity=-2,-4.5
snap = 15,0
p2facing = 1
fall = 1
fall.recover = 0
kill = 0
envshake.time   = 10
envshake.freq   = 140
envshake.ampl   = -3
envshake.phase  = 90

[State 450, 1]
type = HitDef
trigger1 = AnimElem = 5
attr = S, NA
hitflag = MAF
guardflag = M
animtype = heavy
air.animtype = Back
priority = 5, Hit
damage = 18,4
pausetime = 1,1
guard.pausetime	= 12,12
sparkno = var(4) := 7001
guard.sparkno = -1
sparkxy	= var(52):= 14, var(53):= -48
hitsound = S1, 7
guardsound = S0, 9
ground.type=High
ground.slidetime=13
ground.hittime =14
ground.velocity=-2,-6.2
air.velocity=-2,-6.2
snap = 15,0
p2facing = 1
fall = 1
fall.recover = 0
kill = 0
envshake.time   = 5
envshake.freq   = 140
envshake.ampl   = -3
envshake.phase  = 90

[State 460, 1]
type = HitDef
trigger1 = AnimElem = 9
attr = S, NA
hitflag = MAF
guardflag = M
animtype = heavy
air.animtype = Back
priority = 5, Hit
damage = 28,5
pausetime = 1,1
guard.pausetime	= 14,16
sparkno = var(4) := 7002
guard.sparkno = -1
sparkxy	=var(52):= 36, var(53):= -84
hitsound = S1, 7
guardsound = S0, 9
ground.type=High
ground.slidetime=13
ground.hittime =14
ground.velocity=-2,-6.5
air.velocity=-2,-6.5
snap = 25,-25
p2facing = 1
fall = 1
fall.recover = 0
kill = 0
envshake.time   = 5
envshake.freq   = 140
envshake.ampl   = -3
envshake.phase  = 90

[State 470, 1]
type = HitDef
trigger1 = AnimElem = 14
attr = S, NA
hitflag = MAF
guardflag = M
animtype = heavy
air.animtype = Back
priority = 5, Hit
damage = 28,5
pausetime = 1,1
guard.pausetime	= 14,16
sparkno = var(4) := 7002
guard.sparkno = -1
sparkxy	= var(52):= 36, var(53):= -82
hitsound = S1, 7
guardsound = S0, 9
ground.type=High
ground.slidetime=13
ground.hittime =14
ground.velocity=-2,-5.7
air.velocity=-2,-5.7
snap = 25,-25
p2facing = 1
fall = 1
fall.recover = 0
kill = 0
envshake.time   = 5
envshake.freq   = 140
envshake.ampl   = -3
envshake.phase  = 90

[State 460, 1]
type = HitDef
trigger1 = AnimElem = 19
attr = S, NA
hitflag = MAF
guardflag = M
animtype = heavy
air.animtype = Back
priority = 5, Hit
damage = 28,5
pausetime = 1,1
guard.pausetime	= 14,16
sparkno = var(4) := 7002
guard.sparkno = -1
sparkxy	=var(52):= 36, var(53):= -84
hitsound = S1, 7
guardsound = S0, 9
ground.type=High
ground.slidetime=13
ground.hittime =14
ground.velocity=-2,-6.5
air.velocity=-2,-6.5
snap = 25,-25
p2facing = 1
fall = 1
fall.recover = 0
kill = 0
envshake.time   = 5
envshake.freq   = 140
envshake.ampl   = -3
envshake.phase  = 90

[State 470, 1]
type = HitDef
trigger1 = AnimElem = 24
attr = S, NA
hitflag = MAF
guardflag = M
animtype = heavy
air.animtype = Back
priority = 5, Hit
damage = 28,5
pausetime = 10,7
guard.pausetime	= 14,16
sparkno = var(4) := 7002
guard.sparkno = -1
sparkxy	= var(52):= 36, var(53):= -82
hitsound = S1, 7
guardsound = S0, 9
ground.type=High
ground.slidetime=13
ground.hittime =14
ground.velocity=-2,-5.7
air.velocity=-2,-5.7
snap = 25,-25
p2facing = 1
fall = 1
ID = 1020
fall.recover = 0
envshake.time   = 5
envshake.freq   = 140
envshake.ampl   = -3
envshake.phase  = 90

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 6, < 0
x = 6
y = -2

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 6, > 0
x = 3
y = -3

[State 465, 1]
type = PlaySnd
trigger1 = animelem = 2
trigger2 = animelem = 5
trigger3 = animelem = 9
trigger4 = animelem = 14
trigger5 = animelem = 19
trigger6 = animelem = 24
value = S2, 5

[State 1000, 1]
type = Explod
trigger1 = !time
Anim = 9912
ID = 9912
pos = 0,floor(-pos y)
sprpriority = 3
scale = .5,.7
supermovetime = -1
pausemovetime = -1
ownpal = 1

[State 100, polvito]
type = Explod
triggerall = pos y > -100
triggerall = vel x != 0
trigger1 = time%4 = 0
anim = 7528
ID = 7528
pos = -20,floor(-pos y)
facing = ifelse(random<500,1,-1)
vfacing = ifelse(random<500,1,-1)
random = 3,1
vel = -0.050,0
supermovetime = 777
pausemovetime = 777
scale = 0.5,0.5
sprpriority = 0
ownpal = 1

[State 105, dash]
type = Explod
triggerall = animelem = 6, >= 0
trigger1 = time%2 = 0
anim = 6007
id = 6007
pos = 0,-42
random = 20,30
sprpriority = 0+random%4
vel = -1-random%2,1+random%2
scale = 0.5,0.5
ownpal = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = animelem = 24, > 2
trigger1 = numtarget(1020)
value = 1021

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0 
value = 50
ctrl = 0

;---------------------------------------------------------------------------------------------------------------------
;Lateral Kick EX - Golpe Final
[Statedef 1021]
type = A
movetype = A
physics = N
anim = 1021
velset = 2,-1
ctrl = 0
juggle = 4
facep2 = 0
hitdefpersist = 0
movehitpersist = 0
hitcountpersist = 0
sprpriority = 2

[State 20, AfterImageTime]
type = AfterImageTime
trigger1 = MoveType = A
time = 2

[State 20, PalFx]
type = PalFx
trigger1 = MoveType = A
time = 1
add = ifelse(var(56)>=1,30,0),30,ifelse(var(56)>=1,0,30)
mul = ifelse(var(56)>=1,300,200),300,ifelse(var(56)>=1,200,300)
ignorehitpause = 1

[State 0, teleport]
type = PlaySnd
trigger1 = animelem = 1
value = S3800,3

[State 0, Turn]
type = Turn
trigger1 = time = 1
trigger1 = p2bodydist x < 0

[State 0, teleport]
type = PosAdd
trigger1 = time = 0
x = p2bodydist x + 75
y = p2bodydist y - 10

[State 0, fx corte]
type = Explod
trigger1 = animelem = 4
anim = 7302
ID = 7302
pos = 10,-50
bindtime = -1
supermovetime
pausemovetime
scale = 0.5,0.5
sprpriority = 4
ontop = 0
ownpal = 1
removeongethit = 1
ignorehitpause = 1

[State 470, 1]
type = HitDef
trigger1 = AnimElem = 7
attr = S, SA
hitflag = MAF
guardflag = M
animtype = heavy
air.animtype = Up
priority = 5, Hit
damage = 23
pausetime = 14,16
guard.pausetime = 14,16
sparkno = var(4) := 7002
guard.sparkno = -1
sparkxy = var(52):= 31, var(53):= -3
hitsound = S240, 0
guardsound = S0, 9
ground.type = low
ground.slidetime = 13
ground.hittime = 14
ground.velocity = -4,12
air.velocity = -4,12
fall = 1
fall.recovertime = 160
envshake.time = 5
envshake.freq = 140
envshake.ampl = -3
envshake.phase = 90

[State 0, camara lenta]
type = Pause
triggerall = animelem = 8, < 0
trigger1 = !winko
trigger1 = movehit
trigger1 = timemod = 1,0
time = 1
movetime = 0

[State 0, ScreenBound]
type = ScreenBound
trigger1 = animelem = 7, > 0
value = 0

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = animelem = 7, > 0
physics = A         

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 941
ctrl = 0

;-------------------------------------------------------------------
; Dancing Kick A
[Statedef 1100]
type = A
movetype= A
physics = S
anim = 1100
;velset = 0,0
ctrl = 0
poweradd = 50
juggle = 2
facep2 = 0
hitdefpersist = 0
movehitpersist = 0
hitcountpersist = 0
sprpriority = 2

[State 1100, 1]
type = VelAdd
trigger1 = animelem = 1
trigger2 = animelem = 2
trigger3 = animelem = 3
trigger4 = animelem = 4
trigger5 = animelem = 5
trigger6 = animelem = 6
trigger7 = animelem = 7
trigger8 = animelem = 8
trigger9 = animelem = 9
x = 2

[State 1100, 1]
type = veladd
trigger1 = animelem = 1
trigger2 = animelem = 6
y = -1;-0.4

[State 100, polvo]
type = Explod
trigger1 = !time
anim = 9915
ID = 9915
pos = 0,floor(-pos y)
facing = -1
bindtime = 1
removetime = -2
sprpriority = 10
ownpal = 1

[State 1100, 1]
type = HitDef
trigger1 = AnimElem = 5
attr = S, NA
hitflag = MAF
animtype = light
guardflag = MA
priority = 5, Hit
damage		= 44
pausetime = 10,16
guard.pausetime	= 10,16
numhits = 1   
sparkno = var(4) := 7001
guard.sparkno = -1
sparkxy = var(52):=58, var(53):=-44
hitsound = S2, 0 
guardsound = S0, 9   
ground.type = High
air.type = Low
ground.slidetime = 10
ground.hittime	= 10
air.hittime = 10
yaccel = 0.45
ground.velocity	= -4.5,-5.5
guard.velocity	= -4.5
air.velocity	= -4.5,-5.5
airguard.velocity	= -4.5,-4.7
ground.cornerpush.veloff = -4.5
air.cornerpush.veloff = -6
id = 720
getpower = 0
givepower = 20
envshake.time = 10
envshake.freq = 140
envshake.ampl = -2
envshake.phase = 90

[State 720, 1]
type = HitDef
trigger1 = AnimElem = 8
attr = S, NA
hitflag = MAF
animtype = medium
guardflag = MA
priority = 5, Hit
damage		= 44
pausetime = 10,16
guard.pausetime	= 10,16
numhits = 1   
sparkno = var(4) := 7002
guard.sparkno = -1
sparkxy = var(52):=60, var(53):=-57
hitsound = S2, 0 
guardsound = S0, 9   
ground.type = High
air.type = Low
ground.slidetime = 10
ground.hittime	= 10
air.hittime = 10
yaccel = 0.45
ground.velocity	= -4.5
guard.velocity	= -4.5
air.velocity	= -4.5,-4.7
airguard.velocity	= -4.5,-4.7
ground.cornerpush.veloff = -4.5
air.cornerpush.veloff = -6
id			= 720
getpower		= 0
givepower		= 20
envshake.time   = 10
envshake.freq   = 140
envshake.ampl   = -2
envshake.phase  = 90

[State 1100, 1]
type = PlaySnd
trigger1 = animelem = 3
trigger2 = animelem = 6
value = S2,5

[State 0, AfterImage]
type = AfterImage
trigger1 = !time
time = 2
palbright = 0,0,0;90,90,90
palcontrast = 192,192,192;220,220,220
;paladd = 32,96,128
;palmul = .64,.64,.64
length = 5
timegap = 1
framegap = 1
trans = add

[State 0, AfterImageTime]
type = AfterImageTime
trigger1 = animtime < -1
time = 2
ignorehitpause = 1

[State 720, End]
type            = ChangeState
trigger1        = (!AnimTime)
value           = 50
ctrl            = 1

;----------------------------------------------------------------------------------------------------------------------
; Dancing Kick B
[Statedef 1110]
type = A
movetype= A
physics = S
anim = 1110
;velset = 0,0
ctrl = 0
poweradd = 50
juggle = 2
facep2 = 0
hitdefpersist = 0
movehitpersist = 0
hitcountpersist = 0
sprpriority = 2

[State 1110, 1]
type = VelAdd
trigger1 = animelem = 1
trigger2 = animelem = 2
trigger3 = animelem = 3
trigger4 = animelem = 4
trigger5 = animelem = 5
trigger6 = animelem = 6
trigger7 = animelem = 7
trigger8 = animelem = 8
trigger9 = animelem = 9
trigger10 = animelem = 10
trigger11 = animelem = 11
trigger12 = animelem = 12
trigger13 = animelem = 13
trigger14 = animelem = 14
trigger15 = animelem = 15
x = 2

[State 1110, 1]
type = veladd
trigger1 = animelem = 1
trigger2 = animelem = 6
y = -0.4

[State 100, ]
type = Explod
trigger1 = time=0
anim = 9915
ID = 9915
pos = 0,floor(-pos y)
postype = p1
facing = -1
bindtime = 1
;vel = 2,0
;scale=.5,.5
removetime = -2
sprpriority = 10
ownpal = 1

[State 1110, 1]
type = HitDef
trigger1 = AnimElem = 5
attr = S, NA
hitflag	= MAF
animtype        = light
guardflag = MA
priority = 5, Hit
damage = 44
pausetime = 10,16
guard.pausetime	= 10,16
numhits = 1   
sparkno = var(4) := 7000
guard.sparkno = -1
sparkxy = var(52):=58, var(53):=-44
hitsound = S2, 0 
guardsound = S0, 9   
ground.type = High
air.type = Low
ground.slidetime = 10
ground.hittime	= 10
air.hittime = 10
yaccel = 0.45
ground.velocity = -4.5
guard.velocity	= -4.5
air.velocity	= -4.5,-4.7
airguard.velocity	= -4.5,-4.7
ground.cornerpush.veloff = -4.5
air.cornerpush.veloff = -6
ID = 1110
getpower = 5
givepower = 20
envshake.time   = 12
envshake.freq   = 140
envshake.ampl   = -2
envshake.phase  = 90

[State 1110, 1]
type = HitDef
trigger1 = AnimElem = 8
attr = S, NA
hitflag	= MAF
animtype        = medium
guardflag = MA
priority = 5, Hit
damage		= 44
pausetime = 10,16
guard.pausetime	= 10,16
numhits = 1   
sparkno = var(4) := 7001
guard.sparkno = -1
sparkxy	 =  var(52):=60, var(53):= -57
hitsound = S2, 0 
guardsound = S0, 9   
ground.type = High
air.type = Low
ground.slidetime = 10
ground.hittime	= 10
air.hittime = 10
yaccel = 0.45
ground.velocity	= -4.5
guard.velocity	= -4.5
air.velocity	= -4.5,-4.7
airguard.velocity	= -4.5,-4.7
ground.cornerpush.veloff = -4.5
air.cornerpush.veloff = -6
ID = 1110
getpower		= 5
givepower		= 20
envshake.time   = 12
envshake.freq   = 140
envshake.ampl   = -2
envshake.phase  = 90

[State 1100, 1]
type = HitDef
trigger1 = AnimElem = 13
attr = S, NA
hitflag = MAF
animtype = heavy
air.animtype = heavy
guardflag = MA
priority = 5, Hit
damage = 44
pausetime = 10,16
guard.pausetime = 10,16
numhits = 1   
sparkno = var(4) := 7002
guard.sparkno = -1
sparkxy = var(52):=58, var(53):=-44
hitsound = S2, 0 
guardsound = S0, 9   
ground.type = High
air.type = Low
ground.slidetime = 10
ground.hittime	= 10
air.hittime = 10
yaccel = 0.45
ground.velocity	= -4.5
guard.velocity	= -4.5
air.velocity	= -4.5,-4.7
airguard.velocity	= -4.5,-4.7
ground.cornerpush.veloff = -4.5
air.cornerpush.veloff = -6
fall = 1
ID = 1110
getpower = 5
givepower = 20
envshake.time   = 12
envshake.freq   = 140
envshake.ampl   = -2
envshake.phase  = 90

[State 1110, 1]
type = PlaySnd
trigger1 = animelem = 3
trigger2 = animelem = 6
trigger3 = animelem = 11
value = S2, 5

[State 0, AfterImage]
type = AfterImage
trigger1 = !time
time = 2
palbright = 0,0,0;90,90,90
palcontrast = 192,192,192;220,220,220
;paladd = 32,96,128
;palmul = .64,.64,.64
length = 5
timegap = 1
framegap = 1
trans = add

[State 0, AfterImageTime]
type = AfterImageTime
trigger1 = animtime < -1
time = 2
ignorehitpause = 1

[State 1110, End]
type = ChangeState
trigger1 = (!AnimTime)
value = 50
ctrl = 1

;--------------------------------------------------------------------------------------------
;Dancing Kick EX
[Statedef 1120]
type = A
movetype= A
physics = S
anim = 1120
;velset = 0,0
ctrl = 0
poweradd = -500
juggle = 2
facep2 = 0
hitdefpersist = 0
movehitpersist = 0
hitcountpersist = 0
sprpriority = 2

[State 20, sfx ex]
type = PlaySnd
trigger1 = time = 0
value = S15, 3

[State 20, AfterImage]
type = AfterImage
trigger1 = !Time
time = 2
timegap = 1
framegap = 1
length = 5
palbright = ifelse(var(56)>=1,30,0),30,ifelse(var(56)>=0,0,30)
palcontrast = 128,128,128
paladd = -16,-16,-16
palmul = ifelse(var(56)>=1,1.1,.5),1,ifelse(var(56)>=1,.5,1.1)
trans = add
ignorehitpause = 1

[State 20, AfterImageTime]
type = AfterImageTime
trigger1 = MoveType = A
time = 2

[State 20, PalFx]
type = PalFx
trigger1 = MoveType = A
time = 1
add = ifelse(var(56)>=1,30,0),30,ifelse(var(56)>=1,0,30)
mul = ifelse(var(56)>=1,300,200),300,ifelse(var(56)>=1,200,300)
ignorehitpause = 1

[State 105, dash]
type = Explod
triggerall = animelem = 2, >= 0
trigger1 = time%2 = 0
anim = 6005
id = 6005
pos = -20,-35
random = 0,50
sprpriority = 0+random%4
vel = 1+random%2,0
accel = 0,0
scale = 0.5,0.5
ownpal = 1

[State 1120, 1]
type = veladd
trigger1  = animelem = 1
trigger2  = animelem = 2
trigger3  = animelem = 3
trigger4  = animelem = 4
trigger5  = animelem = 5
trigger6  = animelem = 6
trigger7  = animelem = 7
trigger8  = animelem = 8
trigger9  = animelem = 9
trigger10 = animelem = 10
trigger11 = animelem = 11
trigger12 = animelem = 12
trigger13 = animelem = 13
trigger14 = animelem = 14
trigger15 = animelem = 15
trigger16 = animelem = 16
trigger17 = animelem = 17
x = 2 ;1.5

[State 790, 1]
type = veladd
trigger1 = animelem = 1
y = -0.4

[State 790, 1]
type = veladd
trigger1 = animelem = 6
y = -0.4

[State 790, 1]
type = veladd
trigger1 = animelem = 14
y = -0.2

[State 1120, polvo]
type = Explod
trigger1 = !time
anim = 9915
ID = 9915
pos = 0,floor(-pos y)
postype = p1
facing = -1
bindtime = 1
removetime = -2
sprpriority = 10
ownpal = 1

[State 1120, polvito]
type = Explod
triggerall = vel x != 0
trigger1 = time%4 = 0
anim = 7528
ID = 7528
pos = 0,floor(-pos y)
facing = ifelse(random<500,1,-1)
vfacing = ifelse(random<500,1,-1)
random = 3,1
vel = -0.050,0
supermovetime = 777
pausemovetime = 777
scale = 0.5,0.5
sprpriority = 0
ownpal = 1

[State 0, remolino]
type = Explod
trigger1 = animelem = 4
anim = 9419
ID = 9419 
pos = 0,0
bindtime = -1
facing = ifelse(random < 499,-1,1)
vel = 0,-0.1
accel = 0,-0.05*(random%6)
random = 0,0
scale = 0.5,0.5
sprpriority = 4
ownpal = 1
removeongethit = 1

[State 1120, 1]
type = HitDef
trigger1 = AnimElem = 5
attr = S, NA
hitflag = MAF
animtype = heavy
air.animtype = heavy
guardflag = MA
priority = 5, Hit
damage = 44,7
pausetime = 10,16
guard.pausetime = 10,16
numhits = 1   
sparkno = var(4) := 7000
guard.sparkno = -1
sparkxy = var(52):=58, var(53):=-44
hitsound = S2, 0 
guardsound = S0, 9   
ground.type = High
air.type = Low
ground.slidetime = 10
ground.hittime	= 10
air.hittime = 10
yaccel = 0.45
ground.velocity	= -5.5
guard.velocity	= -4.5
air.velocity	= -5.5,-4.7
airguard.velocity	= -4.5,-4.7
ground.cornerpush.veloff = -4.5
air.cornerpush.veloff = -6
ID = 1120
fall = 1
getpower = 0
givepower = 20
envshake.time   = 12
envshake.freq   = 140
envshake.ampl   = -6
envshake.phase  = 90

[State 1120, golpe 3]
type = HitDef
trigger1 = AnimElem = 8
attr = S, NA
hitflag	= MAF
animtype = heavy
air.animtype = heavy
guardflag = MA
priority = 5, Hit
damage = 44,7
pausetime = 10,16
guard.pausetime = 10,16
numhits = 1  
sparkno = var(4) := 7001
guard.sparkno = -1
sparkxy = var(52):=60, var(53):=-57
hitsound = S2, 0 
guardsound = S0, 9   
ground.type = High
air.type = Low
ground.slidetime = 10
ground.hittime	= 10
air.hittime = 10
yaccel = 0.45
ground.velocity	= -5.5
guard.velocity	= -4.5
air.velocity	= -5.5,-4.7
airguard.velocity	= -4.5,-4.7
ground.cornerpush.veloff = -4.5
air.cornerpush.veloff = -6
ID = 1120
fall = 1
getpower = 0
givepower = 20
envshake.time = 12
envshake.freq = 140
envshake.ampl = -6
envshake.phase = 90

[State 1120, golpe 4]
type = HitDef
trigger1 = AnimElem = 13
attr = S, NA
hitflag = MAF
animtype = heavy
air.animtype = heavy
guardflag = MA
priority = 5, Hit
damage = 44,8
pausetime = 10,16
guard.pausetime	= 10,16
numhits = 1   
sparkno = var(4) := 7002
guard.sparkno = -1
sparkxy = var(52):=58, var(53):=-44
hitsound = S2, 0 
guardsound = S0, 9   
ground.type = High
air.type = Low
ground.slidetime = 10
ground.hittime	= 10
air.hittime = 10
yaccel = 0.45
ground.velocity	= -5.5
guard.velocity	= -4.5
air.velocity	= -5.5,-4.7
airguard.velocity	= -4.5,-4.7
ground.cornerpush.veloff = -4.5
air.cornerpush.veloff = -6
fall = 1
id = 1120
getpower = 0
givepower = 20
envshake.time   = 12
envshake.freq   = 140
envshake.ampl   = -6
envshake.phase  = 90

[State 1120, 1]
type = HitDef
trigger1 = AnimElem = 16
attr = S, NA
hitflag = MAF
guardflag = MA
animtype = Hard
priority = 7, Hit
damage = 44,9
pausetime = 1,4
guard.pausetime = 10,16
sparkno = var(4) := 7002
guard.sparkno = -1
sparkxy = var(52):=60, var(53):=-57
hitsound = S2, 0 
guardsound = S0, 9 
ground.type = Trip
air.type = Trip
ground.slidetime = 26
ground.hittime = 26
air.hittime = 26
yaccel		= 0.35
ground.velocity	= -25,-3
guard.velocity	= -8
air.velocity	= -25,-3
airguard.velocity	= -25,-3
ground.cornerpush.veloff = 0
fall = 1
fall.recover = 0
ID = 1120
p2stateno = 95000
getpower = 0
givepower = 20
envshake.time = 12
envshake.freq = 140
envshake.ampl = -6
envshake.phase = 90

[State 1120, 1]
type = PlaySnd
trigger1 = animelem = 3
trigger2 = animelem = 6
trigger3 = animelem = 11
trigger4 = animelem = 15
value = S2, 5

[State 1120, 4]
type =  ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1

;-------------------------------------------------------------------
; Guard Kick A - Defesa
[Statedef 1200]
type = S
movetype = A
physics = S
anim = 1200
velset = 0,0
ctrl = 0
poweradd = 50
juggle = 2
facep2 = 0
hitdefpersist = 0
movehitpersist = 0
hitcountpersist = 0
sprpriority = 2

[State 0, defensa]
type = ReversalDef
trigger1 = animelem = 3, >= 0
reversal.attr = SA,NA,SA
pausetime = 6, 6
hitsound = S0, 9 
sparkno = var(4):= 7050
sparkxy = var(52):=26,var(53):=-56

[State 0, ataque]
type = ChangeState
triggerall = animelem = 3, > 0
trigger1 = animtime = 0
trigger2 = var(59) <= 0
trigger2 = command != "holda"
value = 1201
ctrl = 0

;-------------------------------------------------------------------
; Guard Kick A - Ataque
[Statedef 1201]
type = S
movetype = A
physics = S
anim = 1201
ctrl = 0
juggle = 2
facep2 = 0
hitdefpersist = 0
movehitpersist = 0
hitcountpersist = 0
sprpriority = 2

[State 0, Turn]
type = Turn
trigger1 = time = 0
trigger1 = p2bodydist x < -5

[State 0, VelSet]
type = VelSet
trigger1 = time = 1
x = 6
y = 0

[State 0, NotHitBy]
type = NotHitBy
trigger1 = movetype = A
value = SCA,NA,SA,NT
time = 1
ignorehitpause = 1

[State 0, AfterImage]
type = AfterImage
trigger1 = time = 0
time = 33
palbright = 30,30,30
palcontrast = 120,120,120
paladd = 32,32,32
palmul = .64,.64,.64
length = 3
timegap = 1
framegap = 1
trans = add1

[State 0, polvo]
type = Explod
trigger1 = animelem = 1
anim = 9100
ID = 9100
pos = 10,0
scale = 0.2,0.2
sprpriority = 2
ownpal = 1

[State 0, rafaga]
type = PlaySnd
trigger1 = animelem = 2
trigger2 = animelem = 4
trigger3 = animelem = 6
trigger4 = animelem = 8
value = S2,5

[State 0, fasteffect p centro]
type = Explod
trigger1 = animelem = 2
anim = 1206
ID = 1206
pos = 47,-47
bindtime = -1
random = 7,7
sprpriority = 2
shadow = -1
ownpal = 0
removeongethit = 1

[State 0, fasteffect p baja]
type = Explod
trigger1 = animelem = 4
anim = 1205
ID = 1205
pos = 34,-26
bindtime = -1
random = 7,7
sprpriority = 2
shadow = -1
ownpal = 0
removeongethit = 1

[State 0, fasteffect p alta]
type = Explod
trigger1 = animelem = 6
anim = 1207
ID = 1207
pos = 36,-54
bindtime = -1
random = 7,7
sprpriority = 2
shadow = -1
ownpal = 0
removeongethit = 1

[State 0, patada centro]
type = HitDef
trigger1 = animelem = 2
attr = S,NA        
hitflag = MAF      
guardflag = MA         
animtype = medium
air.animtype = light
priority = 4,Hit
damage = 28,0
sparkno = var(4) := 7000
guard.sparkno = -1
sparkxy = var(52):=68,var(53):=-50
hitsound = S3,0
guardsound = S0,9
ground.type = low   
ground.slidetime
ground.hittime = 12
air.hittime = 12
ground.velocity = 0,0
air.velocity = 0,-2
guard.velocity = 0
airguard.velocity = 0,0
p1getp2facing = 0
fall = 0
envshake.time = 10
envshake.freq = 90
envshake.ampl = -2
envshake.phase = 60

[State 0, patada baja]
type = HitDef
trigger1 = animelem = 4
attr = S,NA        
hitflag = MAF      
guardflag = MA         
animtype = medium
air.animtype = medium
priority = 4,Hit
damage = 28,0
sparkno = var(4) := 7000
guard.sparkno = -1
sparkxy = var(52):=58,var(53):=-22
hitsound = S3,0
guardsound = S0,9
ground.type = high  
ground.slidetime
ground.hittime = 12
air.hittime = 12
ground.velocity = 0,0
air.velocity = 0,-2
guard.velocity = 0
airguard.velocity = 0,0
p1getp2facing = 0
fall = 0
envshake.time = 10
envshake.freq = 90
envshake.ampl = -2
envshake.phase = 60

[State 0, patada alta]
type = HitDef
trigger1 = animelem = 6
attr = S,NA        
hitflag = MAF      
guardflag = MA         
animtype = medium
air.animtype = medium
priority = 4,Hit
damage = 28,0
sparkno = var(4) := 7000
guard.sparkno = -1
sparkxy =  var(52):=58,var(53):=-70
hitsound = S3,0
guardsound = S0,9
ground.type = high  
ground.slidetime
ground.hittime = 12
air.hittime = 12
ground.velocity = 0,0
air.velocity = 0,-2
guard.velocity = 0
airguard.velocity = 0,0
p1getp2facing = 0
fall = 0
envshake.time = 10
envshake.freq = 90
envshake.ampl = -2
envshake.phase = 60

[State 0, patada final]
type = HitDef
trigger1 = animelem = 8
attr = S,NA        
hitflag = MAF      
guardflag = MA         
animtype = medium
air.animtype = medium
priority = 4,Hit
damage = 36,0
sparkno = var(4) := 7001
guard.sparkno = -1
sparkxy = var(52):=68,var(53):=-50
hitsound = S3,0
guardsound = S0,9
ground.type = trip  
ground.slidetime
ground.hittime = 12
air.hittime = 12
ground.velocity = -6,-4
air.velocity = -6,-4
guard.velocity = -4
airguard.velocity =  -4, -2
p1getp2facing = 0
fall = 0
envshake.time = 10
envshake.freq = 60
envshake.ampl = -2
envshake.phase = 30

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;-------------------------------------------------------------------
; Guard Kick B - Defensa
[Statedef 1210]
type = S
movetype = A
physics = S
anim = 1210
velset = 0,0
ctrl = 0
poweradd = 50
juggle = 2
facep2 = 0
hitdefpersist = 0
movehitpersist = 0
hitcountpersist = 0
sprpriority = 2

[State 0, defensa]
type = ReversalDef
trigger1 = animelem = 3, >= 0
reversal.attr = SA,NA,SA
pausetime = 6, 6
hitsound = S0, 9 
sparkno = var(4):= 7050
sparkxy = var(52):=26,var(53):=-56

[State 0, ataque]
type = ChangeState
triggerall = animelem = 3, > 0
trigger1 = animtime = 0
trigger2 = var(59) <= 0
trigger2 = command != "holdb"
value = 1211
ctrl = 0

;-------------------------------------------------------------------
; Guard Kick B - Ataque
[Statedef 1211]
type = S
movetype = A
physics = S
anim = 1211
ctrl = 0
juggle = 2
facep2 = 0
hitdefpersist = 0
movehitpersist = 0
hitcountpersist = 0
sprpriority = 2

[State 0, Turn]
type = Turn
trigger1 = time = 0
trigger1 = p2bodydist x < -5

[State 0, VelSet]
type = VelSet
trigger1 = time = 1
x = 3
y = 0

[State 0, NotHitBy]
type = NotHitBy
trigger1 = movetype = A
value = SCA,NA,SA,NT
time = 1
ignorehitpause = 1

[State 0, AfterImage]
type = AfterImage
trigger1 = time = 0
time = 42
palbright = 30,30,30
palcontrast = 120,120,120
paladd = 32,32,32
palmul = .64,.64,.64
length = 3
timegap = 1
framegap = 1
trans = add1

[State 0, polvo]
type = Explod
trigger1 = animelem = 1
trigger2 = animelem = 3
trigger3 = animelem = 5
trigger4 = animelem = 7
anim = 9100
ID = 9100
pos = 10,0
random = 5,5
scale = 0.2,0.2
sprpriority = 2
ownpal = 1

[State 0, impulcion]
type = VelAdd
trigger1 = animelem = 3
trigger2 = animelem = 5
trigger3 = animelem = 7
x = 3

[State 0, rafaga]
type = PlaySnd
trigger1 = animelem = 2
trigger2 = animelem = 4
trigger3 = animelem = 6
trigger4 = animelem = 8
value = S2,5

[State 0, fasteffect p centro]
type = Explod
trigger1 = animelem = 2
trigger2 = animelem = 6
anim = 1206
ID = 1206
pos = 47,-47
bindtime = -1
random = 7,7
sprpriority = 2
shadow = -1
ownpal = 0
removeongethit = 1

[State 0, fasteffect p baja]
type = Explod
trigger1 = animelem = 4
anim = 1205
ID = 1205
pos = 34,-26
bindtime = -1
random = 7,7
sprpriority = 2
shadow = -1
ownpal = 0
removeongethit = 1

[State 0, patada centro]
type = HitDef
trigger1 = animelem = 2
attr = S,NA        
hitflag = MAF      
guardflag = MA         
animtype = medium
air.animtype = light
priority = 4,Hit
pausetime = 1,1
damage = 27,0
sparkno = var(4) := 7000
guard.sparkno = -1
sparkxy = var(52):=68,var(53):=-50
hitsound = S3,0
guardsound = S0,9
ground.type = low   
ground.slidetime
ground.hittime = 12
air.hittime = 12
ground.velocity = 0,0
air.velocity = 0,-2
guard.velocity = 0
airguard.velocity = 0,0
p1getp2facing = 0
fall = 0
envshake.time = 10
envshake.freq = 90
envshake.ampl = -2
envshake.phase = 60

[State 0, patada baja]
type = HitDef
trigger1 = animelem = 4
attr = S,NA        
hitflag = MAF      
guardflag = MA         
animtype = medium
air.animtype = medium
priority = 4,Hit
pausetime = 1,1
damage = 27,0
sparkno = var(4) := 7000
guard.sparkno = -1
sparkxy = var(52):=58,var(53):=-22
hitsound = S3,0
guardsound = S0,9
ground.type = high  
ground.slidetime
ground.hittime = 12
air.hittime = 12
ground.velocity = 0,0
air.velocity = 0,-2
guard.velocity = 0
airguard.velocity = 0,0
p1getp2facing = 0
fall = 0
envshake.time = 10
envshake.freq = 90
envshake.ampl = -2
envshake.phase = 60

[State 0, patada alta]
type = HitDef
trigger1 = animelem = 6
attr = S,NA        
hitflag = MAF      
guardflag = MA         
animtype = medium
air.animtype = medium
priority = 4,Hit
pausetime = 1,1
damage = 27,0
sparkno = var(4) := 7000
guard.sparkno = -1
sparkxy = var(52):=68,var(53):=-50
hitsound = S3,0
guardsound = S0,9
ground.type = high  
ground.slidetime
ground.hittime = 12
air.hittime = 12
ground.velocity = 0,0
air.velocity = 0,-2
guard.velocity = 0
airguard.velocity = 0,0
p1getp2facing = 0
fall = 0
envshake.time = 10
envshake.freq = 90
envshake.ampl = -2
envshake.phase = 60

[State 0, patada final]
type = HitDef
trigger1 = animelem = 8
attr = S,NA        
hitflag = MAF      
guardflag = MA         
animtype = medium
air.animtype = medium
priority = 4,Hit
pausetime = 1,1
damage = 29,0
sparkno = var(4) := 7001
guard.sparkno = -1
sparkxy = var(52):=58,var(53):=-70
hitsound = S3,0
guardsound = S0,9
ground.type = trip  
ground.slidetime
ground.hittime = 12
air.hittime = 12
ground.velocity = -1,-9
air.velocity = -1,-9
guard.velocity = -4
airguard.velocity =  -4, -12
p1getp2facing = 0
fall = 1
ID = 1211
envshake.time = 10
envshake.freq = 60
envshake.ampl = -2
envshake.phase = 30

[State 0, adelantar anim]
type = ChangeAnim
trigger1 = !numtarget(1211)
trigger1 = animelem = 8 >= 12
trigger1 = animelem = 9, < 0
value = anim
elem = 9

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;-------------------------------------------------------------------
; Guard Kick EX - Defesa
[Statedef 1220]
type = S
movetype = A
physics = S
anim = 1220
velset = 0,0
ctrl = 0
poweradd = -500
juggle = 2
facep2 = 0
hitdefpersist = 0
movehitpersist = 0
hitcountpersist = 0
sprpriority = 2

[State 20, sfx ex]
type = PlaySnd
trigger1 = time = 0
value = S15, 3

[State 0, Turn]
type = Turn
trigger1 = time = 0
trigger1 = p2bodydist x < -5

[State 20, AfterImage]
type = AfterImage
trigger1 = !Time
time = 2
timegap = 1
framegap = 1
length = 5
palbright = ifelse(var(56)>=1,30,0),30,ifelse(var(56)>=0,0,30)
palcontrast = 128,128,128
paladd = -16,-16,-16
palmul = ifelse(var(56)>=1,1.1,.5),1,ifelse(var(56)>=1,.5,1.1)
trans = add
ignorehitpause = 1

[State 20, AfterImageTime]
type = AfterImageTime
trigger1 = MoveType = A
time = 2

[State 20, PalFx]
type = PalFx
trigger1 = MoveType = A
time = 1
add = ifelse(var(56)>=1,30,0),30,ifelse(var(56)>=1,0,30)
mul = ifelse(var(56)>=1,300,200),300,ifelse(var(56)>=1,200,300)
ignorehitpause = 1

[State 0, defensa]
type = ReversalDef
trigger1 = animelem = 3, >= 0
reversal.attr = SA,NA,SA,NP,SP
pausetime = 6, 6
hitsound = S0, 9 
sparkno = var(4):= 7050
sparkxy = var(52):=26,var(53):=-56

[State 0, ataque]
type = ChangeState
triggerall = animelem = 3, > 2
trigger1 = animtime = 0
trigger2 = var(59) <= 0
trigger2 = command != "holda" || command != "holdb"
value = 1221
ctrl = 0

;-------------------------------------------------------------------
; Guard Kick Ex - Ataque
[Statedef 1221]
type = S
movetype = A
physics = S
anim = 1221
velset = 3,0
ctrl = 0
juggle = 2
facep2 = 0
hitdefpersist = 0
movehitpersist = 0
hitcountpersist = 0
sprpriority = 2

[State 20, sfx ex]
type = PlaySnd
trigger1 = time = 0
value = S15, 3

[State 0, Turn]
type = Turn
trigger1 = time = 0
trigger1 = p2bodydist x < -5

[State 0, NotHitBy]
type = NotHitBy
trigger1 = movetype = A
value = SCA,NA,SA,NP,NT,ST
time = 1
ignorehitpause = 1

[State 20, AfterImage]
type = AfterImage
trigger1 = !Time
time = 2
timegap = 1
framegap = 1
length = 5
palbright = ifelse(var(56)>=1,30,0),30,ifelse(var(56)>=0,0,30)
palcontrast = 128,128,128
paladd = -16,-16,-16
palmul = ifelse(var(56)>=1,1.1,.5),1,ifelse(var(56)>=1,.5,1.1)
trans = add
ignorehitpause = 1

[State 20, AfterImageTime]
type = AfterImageTime
trigger1 = MoveType = A
time = 2

[State 20, PalFx]
type = PalFx
trigger1 = MoveType = A
time = 1
add = ifelse(var(56)>=1,30,0),30,ifelse(var(56)>=1,0,30)
mul = ifelse(var(56)>=1,300,200),300,ifelse(var(56)>=1,200,300)
ignorehitpause = 1

[State 0, polvo]
type = Explod
trigger1 = animelem = 1
trigger2 = animelem = 3
trigger3 = animelem = 5
trigger4 = animelem = 7
anim = 9100
ID = 9100
pos = 10,0
random = 5,5
scale = 0.3,0.3
sprpriority = 2
ownpal = 1

[State 0, impulcion]
type = VelAdd
trigger1 = animelem = 3
trigger2 = animelem = 5
trigger3 = animelem = 7
x = 7

[State 0, rafaga]
type = PlaySnd
trigger1 = animelem = 1
trigger2 = animelem = 3
trigger3 = animelem = 5
trigger4 = animelem = 7
value = S0,4

[State 0, rafaga]
type = PlaySnd
trigger1 = animelem = 2
trigger2 = animelem = 4
trigger3 = animelem = 6
trigger4 = animelem = 8
value = S2,5

[State 0, ja]
type = PlaySnd
trigger1 = animelem = 2
trigger2 = animelem = 4
trigger3 = animelem = 6
trigger4 = animelem = 8
value = S1,1

[State 0, fasteffect p centro]
type = Explod
trigger1 = animelem = 2
trigger2 = animelem = 6
anim = 1206
ID = 1206
pos = 47,-47
bindtime = -1
random = 7,7
sprpriority = 2
shadow = -1
ownpal = 0
removeongethit = 1

[State 0, fasteffect p baja]
type = Explod
trigger1 = animelem = 4
anim = 1205
ID = 1205
pos = 34,-26
bindtime = -1
random = 7,7
sprpriority = 2
shadow = -1
ownpal = 0
removeongethit = 1

[State 0, fasteffect p alta]
type = Explod
trigger1 = animelem = 8
anim = 1207
ID = 1207
pos = 36,-54
bindtime = -1
random = 7,7
sprpriority = 2
shadow = -1
ownpal = 0
removeongethit = 1

[State 0, patada centro]
type = HitDef
trigger1 = animelem = 2
attr = S,NA        
hitflag = MAF      
guardflag = MA         
animtype = medium
priority = 4,Hit
pausetime = 1,1
damage = 35,7
sparkno = var(4) := 7000
guard.sparkno = -1
sparkxy = var(52):=68,var(53):=-50
hitsound = S1,7
guardsound = S0,9
ground.type = low   
ground.slidetime
ground.hittime = 12
air.hittime = 12
ground.velocity = 0,0
air.velocity = 0,-2
guard.velocity = 0
airguard.velocity = 0,0
p1getp2facing = 0
fall = 0
envshake.time = 10
envshake.freq = 90
envshake.ampl = -2
envshake.phase = 60

[State 0, patada baja]
type = HitDef
trigger1 = animelem = 4
attr = S,NA        
hitflag = MAF      
guardflag = MA         
animtype = medium
air.animtype = medium
priority = 4,Hit
pausetime = 1,1
damage = 35,7
sparkno = var(4) := 7000
guard.sparkno = -1
sparkxy = var(52):=58,var(53):=-22
hitsound = S1,7
guardsound = S0,9
ground.type = high  
ground.slidetime
ground.hittime = 12
air.hittime = 12
ground.velocity = 0,0
air.velocity = 0,-2
guard.velocity = 0
airguard.velocity = 0,0
p1getp2facing = 0
fall = 0
envshake.time = 10
envshake.freq = 90
envshake.ampl = -2
envshake.phase = 60

[State 0, patada alta]
type = HitDef
trigger1 = animelem = 6
attr = S,NA        
hitflag = MAF      
guardflag = MA         
animtype = medium
air.animtype = medium
priority = 4,Hit
pausetime = 1,1
damage = 35,7
sparkno = var(4) := 7000
guard.sparkno = -1
sparkxy = var(52):=68,var(53):=-50
hitsound = S1,7
guardsound = S0,9
ground.type = high  
ground.slidetime
ground.hittime = 12
air.hittime = 12
ground.velocity = 0,0
air.velocity = 0,-2
guard.velocity = 0
airguard.velocity = 0,0
p1getp2facing = 0
fall = 0
envshake.time = 10
envshake.freq = 90
envshake.ampl = -2
envshake.phase = 60

[State 0, patada final]
type = HitDef
trigger1 = animelem = 8
attr = S,NA        
hitflag = MAF      
guardflag = MA         
animtype = hard
air.animtype = hard
priority = 4,Hit
pausetime = 10,110
damage = 35,7
sparkno = var(4) := 7001
guard.sparkno = -1
sparkxy = var(52):=58,var(53):=-70
hitsound = S1,7
guardsound = S0,9
ground.type = trip  
ground.slidetime
ground.hittime = 12
air.hittime = 12
ground.velocity = -1,-10
air.velocity = -1,-10
guard.velocity = -4
airguard.velocity =  -4, -12
p1getp2facing = 0
fall = 1
envshake.time = 10
envshake.freq = 60
envshake.ampl = -2
envshake.phase = 30

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = p2movetype = H
trigger1 = movehit 
trigger1 = animelem = 9
value = 1222

;-------------------------------------------------------------------
; Guard Kick Ex - Ataque Final
[Statedef 1222]
type = S
movetype = A
physics = S
anim = 1222
velset = 3,0
ctrl = 0
juggle = 2
facep2 = 0
hitdefpersist = 0
movehitpersist = 0
hitcountpersist = 0
sprpriority = 2

[State 20, sfx ex]
type = PlaySnd
trigger1 = time = 0
value = S15, 3

[State 20, AfterImage]
type = AfterImage
trigger1 = !Time
time = 2
timegap = 1
framegap = 1
length = 5
palbright = ifelse(var(56)>=1,30,0),30,ifelse(var(56)>=0,0,30)
palcontrast = 128,128,128
paladd = -16,-16,-16
palmul = ifelse(var(56)>=1,1.1,.5),1,ifelse(var(56)>=1,.5,1.1)
trans = add
ignorehitpause = 1

[State 20, AfterImageTime]
type = AfterImageTime
trigger1 = MoveType = A
time = 2

[State 20, PalFx]
type = PalFx
trigger1 = MoveType = A
time = 1
add = ifelse(var(56)>=1,30,0),30,ifelse(var(56)>=1,0,30)
mul = ifelse(var(56)>=1,300,200),300,ifelse(var(56)>=1,200,300)
ignorehitpause = 1

[State 0, polvo]
type = Explod
trigger1 = animelem = 2
anim = 9100
ID = 9100
pos = 10,0
random = 5,5
scale = 0.3,0.3
sprpriority = 2
ownpal = 1

[State 0, impulcion]
type = VelAdd
trigger1 = animelem = 2, > 0
trigger1 = animelem = 2, < 3
x = 1.5
y = -6

[State 0, aire]
type = StateTypeSet
trigger1 = animelem = 2, > 0
statetype = A         
physics = A         

[State 0, traspasable]
type = Null;PlayerPush
trigger1 = 1
value = 0

[State 0, rafaga]
type = PlaySnd
trigger1 = animelem = 2
value = S0,4

[State 0, rafaga]
type = PlaySnd
trigger1 = animelem = 2
value = S2,5

[State 0, jaa!]
type = PlaySnd
trigger1 = animelem = 2
value = S13,1

[State 0, rodillazo]
type = HitDef
trigger1 = animelem = 2
attr = S,NA        
hitflag = MAF      
guardflag = MA         
animtype = hard
air.animtype = hard
priority = 4,Hit
pausetime = 1,1
damage = 44,9
sparkno = var(4) := 7002
guard.sparkno = -1
sparkxy = var(52):=68,var(53):=-50
hitsound = S240,0
guardsound = S0,9
ground.type = high 
ground.slidetime
ground.hittime = 12
air.hittime = 12
ground.velocity = -1.5,-11
air.velocity = -1.5,-11
guard.velocity = 0
airguard.velocity = 0,0
p1getp2facing = 0
fall = 1
ID = 1222
envshake.time = 30
envshake.freq = 90
envshake.ampl = -2
envshake.phase = 60

[State 0, camara lenta]
type = Pause
trigger1 = !winko
trigger1 = movehit
trigger1 = timemod = 1,0
time = 1
movetime = 0

[State 0, control]
type = CtrlSet
trigger1 = movehit 
trigger1 = numtarget(1222)
value = 1

[State 0, fin]
type = ChangeState
trigger1 = animtime = 0
value = 50

;-------------------------------------------------------------------
; Slide Attack A - 1° Ataque
[Statedef 1300]
type = S
movetype = A
physics = S
anim = 1300
velset = 0,0
ctrl = 0
;poweradd = 50
juggle = 2
facep2 = 0
hitdefpersist = 0
movehitpersist = 0
hitcountpersist = 0
sprpriority = 2

[State 0, AfterImage]
type = AfterImage
trigger1 = time = 0
time = 2
palbright = 0,0,0;90,90,90
palcontrast = 192,192,192;220,220,220
;paladd = 32,96,128
;palmul = .64,.64,.64
length = 10
timegap = 1
framegap = 1
trans = add

[State 0, AfterImageTime]
type = AfterImageTime
trigger1 = 1
time = 2

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 2
x = 18
y = 0

[State 0, effect]
type = PlaySnd
trigger1 = animelem = 2
value = S2,1

[State 0, polvo]
type = Explod
trigger1 = animelem = 2
anim = 9912
ID = 9912
pos = 0,0
facing = 1
vfacing = 1
bindtime = 1
scale = 0.5,0.5
sprpriority = 2
ownpal = 1

[State 1120, polvito]
type = Explod
triggerall = vel x != 0
trigger1 = time%4 = 0
anim = 7528
ID = 7528
pos = -20,floor(-pos y)
facing = ifelse(random<500,1,-1)
vfacing = ifelse(random<500,1,-1)
random = 3,1
vel = -0.050,0
supermovetime = 777
pausemovetime = 777
scale = 0.5,0.5
sprpriority = 0
ownpal = 1

[State 105, dash]
type = Explod
triggerall = vel x != 0
trigger1 = time%2 = 0
anim = 6005
id = 6005
pos = -20,-35
random = 0,50
sprpriority = 0+random%4
vel = 1+random%2,0
accel = 0,0
scale = 0.5,0.5
ownpal = 1

[State 0, vientazo xD]
type = Explod
trigger1 = animelem = 2
anim = 7400
ID = 7400
pos = 42,-56
vfacing = ifelse(random<500,-1,1)
bindtime = -1
scale = .25,.25
sprpriority = 3
ownpal = 1
removeongethit = 1
ignorehitpause = 1

[State 0, HitDef]
type = HitDef
trigger1 = animelem = 2
attr = S,NA        
hitflag = MAF        ;
guardflag = MA       
animtype = medium  
air.animtype = medium  
pausetime = 5,5
damage = 29
sparkno = var(4) := 7001
guard.sparkno = -1
sparkxy = var(52):= 30, var(53):= -55
hitsound = S2,0
guardsound = S0,9
ground.type = High    
ground.slidetime = 100
ground.hittime = 50
air.hittime = 50
ground.velocity = -50,0
air.velocity = -12,-1
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
envshake.time = 20
envshake.freq = 40
envshake.ampl = -3
envshake.phase = 60

[State 0, fin]
type = ChangeState
trigger1 = animtime = 0
value = ifelse(backedgebodydist<0,941,0)
ctrl = 1

;-------------------------------------------------------------------
; Slide Attack A - 2° Ataque
[Statedef 1301]
type = S
movetype = A
physics = S
anim = 1301
;velset = 0,0
ctrl = 0
;poweradd = 50
juggle = 2
facep2 = 0
hitdefpersist = 0
movehitpersist = 0
hitcountpersist = 0
sprpriority = 2

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 2, < 10
x = 24
y = 0

[State 0, effect]
type = PlaySnd
trigger1 = animelem = 2
value = S2,1

[State 0, polvo]
type = Explod
trigger1 = animelem = 2
anim = 9912
ID = 9912
pos = 0,0
facing = 1
vfacing = 1
bindtime = 1
scale = 0.5,0.5
sprpriority = 2
ownpal = 1

[State 1120, polvito]
type = Explod
triggerall = vel x != 0
trigger1 = time%4 = 0
anim = 7528
ID = 7528
pos = 0,floor(-pos y)
facing = ifelse(random<500,1,-1)
vfacing = ifelse(random<500,1,-1)
random = 3,1
vel = -0.050,0
supermovetime = 777
pausemovetime = 777
scale = 0.5,0.5
sprpriority = 0
ownpal = 1

[State 105, dash]
type = Explod
triggerall = vel x != 0
trigger1 = time%2 = 0
anim = 6005
id = 6005
pos = -20,-35
random = 0,50
sprpriority = 0+random%4
vel = 1+random%2,0
accel = 0,0
scale = 0.5,0.5
ownpal = 1

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 7400
ignorehitpause = 1

[State 0, vientazo xD]
type = Explod
trigger1 = animelem = 3
anim = 7400
ID = 7400
pos = 30,-56
vfacing = ifelse(random<500,-1,1)
bindtime = -1
scale = .25,.25
sprpriority = 3
ownpal = 1
removeongethit = 1
ignorehitpause = 1

[State 0, AfterImage]
type = AfterImage
trigger1 = time = 0
time = 2
palbright = 0,0,0;90,90,90
palcontrast = 192,192,192;220,220,220
;paladd = 32,96,128
;palmul = .64,.64,.64
length = 10
timegap = 1
framegap = 1
trans = add


[State 0, AfterImageTime]
type = AfterImageTime
trigger1 = 1
time = 2

[State 0, HitDef]
type = HitDef
trigger1 = animelem = 3
attr = S,NA        
hitflag = MAF        
guardflag = MA       
animtype = medium  
air.animtype = medium  
pausetime = 10,10
damage = 29
sparkno = var(4) := 7001
guard.sparkno = -1
sparkxy = var(52):= 42, var(53):= -54
hitsound = S3,0
guardsound = S0,9
ground.type = High    
ground.slidetime = 40
ground.hittime = 20
air.hittime = 20
ground.velocity = -10,0
air.velocity = -10,-1
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
envshake.time = 20
envshake.freq = 40
envshake.ampl = -3
envshake.phase = 60

[State 0, fin]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;-------------------------------------------------------------------
; Slide Attack A - 3° Ataque
[Statedef 1302]
type = S
movetype = A
physics = S
anim = 1302
velset = 0,0
ctrl = 0
;poweradd = 50
facep2 = 0
hitdefpersist = 0
movehitpersist = 0
hitcountpersist = 0
sprpriority = 2

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 1
x = 14
y = 0

[State 0, effect]
type = PlaySnd
trigger1 = animelem = 1
value = S2,4

[State 0, polvo]
type = Explod
trigger1 = animelem = 1
anim = 9912
ID = 9912
pos = 0,0
facing = 1
vfacing = 1
bindtime = 1
scale = 0.5,0.5
sprpriority = 2
ownpal = 1

[State 0, AfterImage]
type = AfterImage
trigger1 = time = 0
time = 2
palbright = 0,0,0;90,90,90
palcontrast = 192,192,192;220,220,220
;paladd = 32,96,128
;palmul = .64,.64,.64
length = 5
timegap = 1
framegap = 1
trans = add

[State 0, AfterImageTime]
type = AfterImageTime
trigger1 = 1
time = 2

[State 0, corte explod]
type = Explod
trigger1 = animelem = 2
anim = 7301
ID = 7301
pos = 50,-75
facing = -1
scale = .3,.3
sprpriority = 5
ownpal = 1

[State 0, HitDef]
type = HitDef
trigger1 = animelem = 2
attr = S,NA        
hitflag = MAF        
guardflag = MA       
animtype = medium  
air.animtype = medium 
pausetime = 10,10 
damage = 40
sparkno = var(4) := 7002
guard.sparkno = -1
sparkxy = var(52):= 42, var(53):= -50
hitsound = S240,0
guardsound = S0,9
ground.type = High    
ground.slidetime = 40
ground.hittime = 20
air.hittime = 20
air.velocity = -3,10
ground.velocity = -3,10
fall = 1
fall.damage = 15
;fall.xvelocity = -1
;fall.yvelocity = -7.5
fall.recover = 0
;down.bounce = 1
p2facing = 1
envshake.time = 20
envshake.freq = 40
envshake.ampl = -3
envshake.phase = 60
p2stateno = 821
ID = 820

[State 0, waveground]
type = Explod
trigger1 = numtarget(820)
trigger1 = target(820), stateno = 821
trigger1 = target(820), time = 0
anim = 9400
ID = 9400
pos = 0,(target(820),floor(-pos y))+10
postype = p2
scale = 0.5,0.5
sprpriority = -5
ownpal = 1

[State 0, crater]
type = Explod
trigger1 = numtarget(820)
trigger1 = target(820), stateno = 821
trigger1 = target(820), time = 0
anim = 7530
ID = 7530
pos = 0,(target(820),floor(-pos y))+10
postype = p2
random = 30,0
facing = ifelse(random<499,1,-1)
scale = .5,.5
sprpriority = -5
ownpal = 1

[State 0, polvo]
type = Explod
trigger1 = numtarget(820)
trigger1 = target(820), stateno = 821
trigger1 = target(820), time = 0
anim = 7523
ID = 7523
pos = 0,(target(820),floor(-pos y))+10
postype = p2
facing = -1
scale = .8,.5
sprpriority = 4
ownpal = 1

[State 0, desprendimiento de rocas]
type = Explod
trigger1 = numtarget(820)
trigger1 = target(820), stateno = 821
trigger1 = target(820), time < 3
anim = 9170+random%3
ID = 9170
pos = 0,(target(820),floor(-pos y))+10
postype = p2
facing = ifelse(random<499,1,-1)
vel = 0,-0.1*(random%4)
accel = 0,-0.05*(random%5)
random = 30,0
supermovetime
pausemovetime
scale = ifelse(random<499,0.3,0.5), ifelse(random<499,0.3,0.5)
sprpriority = -5+random%10
ownpal = 1

[State 0, temblor]
type = PlaySnd
trigger1 = numtarget(820)
trigger1 = target(820), stateno = 821
trigger1 = target(820), time = 0
value = S12,0

[State 0, choque contra el suelo]
type = PlaySnd
trigger1 = numtarget(820)
trigger1 = target(820), stateno = 821
trigger1 = target(820), time = 0
value = S0,6

[State 0, fin]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;-------------------------------------------------------------------
; Slide Attack A - Alternativo Patada Laucher
[Statedef 1303]
type = S
movetype = A
physics = S
anim = 1303
velset = 0,0
ctrl = 0
;poweradd = 50
juggle = 2
facep2 = 0
hitdefpersist = 0
movehitpersist = 0
hitcountpersist = 0
sprpriority = 2

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 1
x = 10
y = 0

[State 0, effect]
type = PlaySnd
trigger1 = animelem = 1
value = S2,5

[State 0, polvo]
type = Explod
trigger1 = animelem = 1
anim = 9100
ID = 9100
pos = 0,0
facing = 1
vfacing = 1
bindtime = 1
scale = 0.3,0.3
sprpriority = 2
ownpal = 1

[State 0, AfterImage]
type = AfterImage
trigger1 = time = 0
time = 2
palbright = 0,0,0;90,90,90
palcontrast = 192,192,192;220,220,220
;paladd = 32,96,128
;palmul = .64,.64,.64
length = 5
timegap = 1
framegap = 1
trans = add

[State 0, AfterImageTime]
type = AfterImageTime
trigger1 = 1
time = 2

[State 0, corte explod]
type = Explod
trigger1 = animelem = 1
anim = 7300
ID = 7300
pos = 15,-60
vfacing = -1
scale = .6,1
sprpriority = 5
ownpal = 1

[State 0, HitDef]
type = HitDef
trigger1 = animelem = 2
attr = S,NA        
hitflag = MAF        
guardflag = MA       
animtype = hard  
air.animtype = hard 
pausetime = 10,10
damage = 27
sparkno = var(4) := 7001
guard.sparkno = -1
sparkxy = var(52):= 24, var(53):= -85
hitsound = S240,0
guardsound = S0,9
ground.type = High    
ground.slidetime = 40
ground.hittime = 20
air.hittime = 20
ground.velocity = -1,-9.2
fall = 1
fall.recover = 0
down.bounce = 1
envshake.time = 20
envshake.freq = 40
envshake.ampl = -3
envshake.phase = 60

[State 0, fin]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;-------------------------------------------------------------------
; Slide Attack A - Alternarivo Patada Push
[Statedef 1304]
type = S
movetype = A
physics = S
anim = 1304
velset = 0,0
ctrl = 0
;poweradd = 50
juggle = 2
facep2 = 0
hitdefpersist = 0
movehitpersist = 0
hitcountpersist = 0
sprpriority = 2

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 1
x = 10
y = 0

[State 0, effect]
type = PlaySnd
trigger1 = animelem = 1
value = S2,7

[State 0, polvo]
type = Explod
trigger1 = animelem = 1
anim = 9100
ID = 9100
pos = 0,0
facing = 1
vfacing = 1
bindtime = 1
scale = 0.3,0.3
sprpriority = 2
ownpal = 1

[State 0, AfterImage]
type = AfterImage
trigger1 = time = 0
time = 2
palbright = 0,0,0;90,90,90
palcontrast = 192,192,192;220,220,220
;paladd = 32,96,128
;palmul = .64,.64,.64
length = 5
timegap = 1
framegap = 1
trans = add

[State 0, AfterImageTime]
type = AfterImageTime
trigger1 = 1
time = 2

[State 0, HitDef]
type = HitDef
trigger1 = animelem = 2
attr = S,NA        
hitflag = MAF        
guardflag = MA       
animtype = hard
air.animtype = hard  
pausetime = 10,10
damage = 48
sparkno = var(4) := 7001
guard.sparkno = -1
sparkxy = var(52):= 42, var(53):= -42
hitsound = S240,0
guardsound = S0,9
ground.type = High    
ground.slidetime = 40
ground.hittime = 20
air.hittime = 20
ground.velocity = -18,-4
air.velocity = -18,-4
p2stateno = 95000
fall = 1
fall.recover = 0
down.bounce = 1
envshake.time = 20
envshake.freq = 40
envshake.ampl = -3
envshake.phase = 60

[State 0, fin]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;-------------------------------------------------------------------
; Slide Attack B - Doble puño
[Statedef 1310]
type = S
movetype = A
physics = S
anim = 1310
velset = 0,0
ctrl = 0
;poweradd = 50
juggle = 2
facep2 = 0
hitdefpersist = 0
movehitpersist = 0
hitcountpersist = 0
sprpriority = 2

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 1
x = 10
y = 0

[State 0, effect]
type = PlaySnd
trigger1 = animelem = 1
value = S2,4

[State 0, polvo]
type = Explod
trigger1 = animelem = 1
anim = 9100
ID = 9100
pos = 0,0
facing = 1
vfacing = 1
bindtime = 1
scale = 0.3,0.3
sprpriority = 2
ownpal = 1

[State 0, corte explod]
type = Explod
trigger1 = animelem = 2
anim = 7301
ID = 7301
pos = 0,-60
facing = 1
bindtime = -1
scale = .4,.25
sprpriority = 5
ownpal = 1

[State 0, HitDef]
type = HitDef
trigger1 = animelem = 2
attr = S,NA        
hitflag = MAF        
guardflag = MA       
animtype = hard
air.animtype = hard  
pausetime = 10,10
damage = 60
sparkno = var(4) := 7002
guard.sparkno = -1
sparkxy = var(52):= 40, var(53):= -54
hitsound = S240,0
guardsound = S0,9
ground.type = High    
ground.slidetime = 40
ground.hittime = 20
air.hittime = 20
ground.velocity = -14,-4
air.velocity = -14,-4
fall = 1
fall.recover = 0
down.bounce = 1
envshake.time = 20
envshake.freq = 40
envshake.ampl = -3
envshake.phase = 60

[State 0, ScreenBound]
type = ScreenBound
trigger1 = movehit
value = 0

[State 0, fin]
type = ChangeState
trigger1 = animtime = 0
value = 941

;-------------------------------------------------------------------
; Slide Attack EX
[Statedef 1320]
type = S
movetype = A
physics = S
anim = 1320
velset = 0,0
ctrl = 0
poweradd = -500
juggle = 0
facep2 = 0
hitdefpersist = 0
movehitpersist = 0
hitcountpersist = 0
sprpriority = 2

[State 20, sfx ex]
type = PlaySnd
trigger1 = time = 0
value = S15, 3

[State 20, AfterImage]
type = AfterImage
trigger1 = !Time
time = 2
timegap = 1
framegap = 1
length = 10
palbright = ifelse(var(56)>=1,30,0),30,ifelse(var(56)>=0,0,30)
palcontrast = 128,128,128
paladd = -16,-16,-16
palmul = ifelse(var(56)>=1,1.1,.5),1,ifelse(var(56)>=1,.5,1.1)
trans = add
ignorehitpause = 1

[State 20, AfterImageTime]
type = AfterImageTime
trigger1 = MoveType = A
time = 2

[State 20, PalFx]
type = PalFx
trigger1 = MoveType = A
time = 1
add = ifelse(var(56)>=1,30,0),30,ifelse(var(56)>=1,0,30)
mul = ifelse(var(56)>=1,300,200),300,ifelse(var(56)>=1,200,300)
ignorehitpause = 1

[State 0, effect]
type = PlaySnd
trigger1 = animelem = 2
trigger2 = animelem = 6
trigger3 = animelem = 9
value = S2,1+(animelem=9)*3

[State 0, voz]
type = PlaySnd
trigger1 = animelem = 2
trigger2 = animelem = 6
trigger3 = animelem = 10
value = S1,0
channel = 0
ignorehitpause = 1

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 2
x = 17
y = 0
ignorehitpause = 1

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 4
trigger2 = animelem = 4, >= 0
trigger2 = numtarget(1320)
x = 19+(numtarget(1320)=1)*10
y = 0
ignorehitpause = 1

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 9
x = 12
y = 0
ignorehitpause = 1

[State 0, polvo]
type = Explod
trigger1 = animelem = 2
trigger2 = animelem = 6
anim = 9912
ID = 9912
pos = 0,0
facing = 1
vfacing = 1
bindtime = 1
scale = 0.5,0.5
sprpriority = 2
ownpal = 1

[State 0, polvo]
type = Explod
trigger1 = animelem = 10
anim = 9100
ID = 9100
pos = 0,0
facing = 1
vfacing = 1
bindtime = 1
scale = 0.3,0.3
sprpriority = 2
ownpal = 1

[State 1120, polvito]
type = Explod
triggerall = vel x != 0
trigger1 = time%4 = 0
anim = 7528
ID = 7528
pos = -20,floor(-pos y)
facing = ifelse(random<500,1,-1)
vfacing = ifelse(random<500,1,-1)
random = 3,1
vel = -0.050,0
supermovetime = 777
pausemovetime = 777
scale = 0.5,0.5
sprpriority = 0
ownpal = 1

[State 105, dash]
type = Explod
triggerall = vel x != 0
trigger1 = time%2 = 0
anim = 6005
id = 6005
pos = -20,-35
random = 0,50
sprpriority = 0+random%4
vel = 1+random%2,0
accel = 0,0
scale = 0.5,0.5
ownpal = 1

[State 0, vientazo xD]
type = Explod
trigger1 = animelem = 2
trigger2 = animelem = 6
anim = 7400
ID = 7400
pos = 42-(animelem=6)*12,-56
vfacing = ifelse(random<500,-1,1)
bindtime = -1
removetime = 10
scale = .25,.25
sprpriority = 3
ownpal = 1
removeongethit = 1
ignorehitpause = 1

[State 0, corte explod]
type = Explod
trigger1 = animelem = 8
anim = 7301
ID = 7301
pos = 0,-60
facing = 1
bindtime = -1
scale = .4,.25
sprpriority = 5
ownpal = 1

[State 0, HitDef]
type = HitDef
trigger1 = animelem = 2
attr = S,SA        
hitflag = MAF   
guardflag = MA       
animtype = medium  
air.animtype = medium  
pausetime = 5,5
damage = 30,8
sparkno = var(4) := 7002
guard.sparkno = -1
sparkxy = var(52):= 30, var(53):= -55
hitsound = S3,0
guardsound = S0,9
ground.type = High    
ground.slidetime = 40
ground.hittime = 20
air.hittime = 20
ground.velocity = -50,0
air.velocity = -13,-3
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
envshake.time = 20
envshake.freq = 40
envshake.ampl = -4
envshake.phase = 60
getpower = 0
ID = 1320

[State 0, HitDef]
type = HitDef
trigger1 = animelem = 6
attr = S,SA        
hitflag = MAF   
guardflag = MA       
animtype = medium  
air.animtype = medium  
pausetime = 5,5
damage = 30,9
sparkno = -1
guard.sparkno = -1
sparkxy = var(52):= 42, var(53):= -54
hitsound = S3,0
guardsound = S0,9
ground.type = High    
ground.slidetime = 40
ground.hittime = 20
air.hittime = 20
ground.velocity = -2,0
air.velocity = -2,-3
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
envshake.time = 20
envshake.freq = 40
envshake.ampl = -4
envshake.phase = 60

[State 0, HitDef]
type = HitDef
trigger1 = animelem = 10
attr = S,NA        
hitflag = MAF        
guardflag = MA       
animtype = hard
air.animtype = hard  
pausetime = 10,10
damage = 40,10
sparkno = var(4) := 7002
guard.sparkno = -1
sparkxy = var(52):= 40, var(53):= -54
hitsound = S240,0
guardsound = S0,9
ground.type = High    
ground.slidetime = 40
ground.hittime = 20
air.hittime = 20
ground.velocity = -21,-4
air.velocity = -18,-6
fall = 1
fall.recover = 0
down.bounce = 1
p2facing = 1
envshake.time = 20
envshake.freq = 40
envshake.ampl = -4
envshake.phase = 60
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
p1stateno = 1321

[State 0, fin]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;-------------------------------------------------------------------
; Slide Attack EX - Patada 1
[Statedef 1321]
type = S
movetype = A
physics = S
;anim = 1321
velset = 0,0
ctrl = 0
poweradd = 0
juggle = 0
facep2 = 0
hitdefpersist = 0
movehitpersist = 0
hitcountpersist = 0
sprpriority = 2

[State 20, AfterImage]
type = AfterImage
trigger1 = !Time
time = 2
timegap = 1
framegap = 1
length = 10
palbright = ifelse(var(56)>=1,30,0),30,ifelse(var(56)>=0,0,30)
palcontrast = 128,128,128
paladd = -16,-16,-16
palmul = ifelse(var(56)>=1,1.1,.5),1,ifelse(var(56)>=1,.5,1.1)
trans = add
ignorehitpause = 1

[State 20, AfterImageTime]
type = AfterImageTime
trigger1 = animtime <= -1
time = 2

[State 20, AfterImage end]
type = AfterImage
trigger1 = animtime = 0
time = 1
timegap = 1
framegap = 1
length = 1
ignorehitpause = 1

[State 20, PalFx]
type = PalFx
trigger1 = MoveType = A
time = 1
add = ifelse(var(56)>=1,30,0),30,ifelse(var(56)>=1,0,30)
mul = ifelse(var(56)>=1,300,200),300,ifelse(var(56)>=1,200,300)
ignorehitpause = 1

[State 0, rafaga]
type = PlaySnd
trigger1 = anim = 1321
trigger1 = animelem = 1, = 2
value = S2,5
ignorehitpause = 1

[State 0, voz]
type = PlaySnd
trigger1 = anim = 1321
trigger1 = animelem = 2
value = S1,1
channel = 0
ignorehitpause = 1

[State 0, VelSet]
type = VelSet
trigger1 = anim = 1321
trigger1 = animelem= 2
x = 8
y = 0
ignorehitpause = 1

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
ignorehitpause = 1

[State 0, PosAdd]
type = PosAdd
trigger1 = time = 1
x = p2bodydist x + 140
y = 0
ignorehitpause = 1

[State 0, teleport]
type = PlaySnd
trigger1 = time = 1
value = S3800,3
ignorehitpause = 1

[State 0, Turn]
type = Turn
trigger1 = time = 1
trigger1 = p2bodydist x < 0
ignorehitpause = 1

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 1
value = 1321

[State 0, HitDef]
type = HitDef
trigger1 = anim = 1321
trigger1 = animelem = 2
attr = S,NA        
hitflag = MAF        
guardflag = MA       
animtype = hard
air.animtype = hard  
pausetime = 10,10
damage = 20,4
sparkno = var(4) := 7001
guard.sparkno = -1
sparkxy = var(52):= 42, var(53):= -42
hitsound = S3,0
guardsound = S0,9
ground.type = High    
ground.slidetime = 40
ground.hittime = 20
air.hittime = 20
ground.velocity = -50,-4
air.velocity = -50,-4
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
p2facing = 1
fall = 1
fall.recover = 0
down.bounce = 1
envshake.time = 20
envshake.freq = 40
envshake.ampl = -3
envshake.phase = 60
p1stateno = 1322

[State 0, end]
type = ChangeState
trigger1 = animtime = 0
value = 0 
ctrl = 1

;-------------------------------------------------------------------
; Slide Attack EX - Patada 2
[Statedef 1322]
type = S
movetype = A
physics = S
;anim = 1322
velset = 0,0
ctrl = 0
poweradd = 0
juggle = 0
facep2 = 0
hitdefpersist = 0
movehitpersist = 0
hitcountpersist = 0
sprpriority = 2

[State 20, AfterImage]
type = AfterImage
trigger1 = !Time
time = 2
timegap = 1
framegap = 1
length = 10
palbright = ifelse(var(56)>=1,30,0),30,ifelse(var(56)>=0,0,30)
palcontrast = 128,128,128
paladd = -16,-16,-16
palmul = ifelse(var(56)>=1,1.1,.5),1,ifelse(var(56)>=1,.5,1.1)
trans = add
ignorehitpause = 1

[State 20, AfterImageTime]
type = AfterImageTime
trigger1 = animtime <= -1
time = 2

[State 20, AfterImage end]
type = AfterImage
trigger1 = animtime = 0
time = 1
timegap = 1
framegap = 1
length = 1
ignorehitpause = 1

[State 20, PalFx]
type = PalFx
trigger1 = MoveType = A
time = 1
add = ifelse(var(56)>=1,30,0),30,ifelse(var(56)>=1,0,30)
mul = ifelse(var(56)>=1,300,200),300,ifelse(var(56)>=1,200,300)
ignorehitpause = 1

[State 0, rafaga]
type = PlaySnd
trigger1 = anim = 1322
trigger1 = animelem = 2
value = S2,5
ignorehitpause = 1

[State 0, voz]
type = PlaySnd
trigger1 = anim = 1322
trigger1 = animelem = 2
value = S1,1
channel = 0
ignorehitpause = 1

[State 0, Pause]
type = Pause
trigger1 = !time
time = 3
movetime = 3
pausebg = 0
ignorehitpause = 1

[State 0, VelSet]
type = VelSet
trigger1 = anim = 1322
trigger1 = animelem= 2
x = 8
y = 0
ignorehitpause = 1

[State 0, PosAdd]
type = PosAdd
trigger1 = time = 1
x = p2bodydist x + 200
y = 0
ignorehitpause = 1

[State 0, teleport]
type = PlaySnd
trigger1 = time = 1
value = S3800,3
ignorehitpause = 1

[State 0, Turn]
type = Turn
trigger1 = time = 1
trigger1 = p2bodydist x < 0
ignorehitpause = 1

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 1
value = 1322

[State 0, corte explod]
type = Explod
trigger1 = anim = 1322
trigger1 = animelem = 1
anim = 7300
ID = 7300
pos = 15,-60
vfacing = -1
scale = .6,1
sprpriority = 5
ownpal = 1

[State 0, HitDef]
type = HitDef
trigger1 = anim = 1322
trigger1 = animelem = 2
attr = S,NA        
hitflag = MAF        
guardflag = MA       
animtype = hard
air.animtype = hard  
pausetime = 10,10
damage = 20,5
sparkno = var(4) := 7001
guard.sparkno = -1
sparkxy = var(52):= 24, var(53):= -85
hitsound = S3,0
guardsound = S0,9
ground.type = High    
ground.slidetime = 40
ground.hittime = 20
air.hittime = 20
ground.velocity = -7,-12
air.velocity = -7,-12
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
p2facing = 1
fall = 1
fall.recover = 0
down.bounce = 1
envshake.time = 20
envshake.freq = 40
envshake.ampl = -3
envshake.phase = 60
p1stateno = 1323

[State 0, end]
type = ChangeState
trigger1 = animtime = 0
value = 0 
ctrl = 1

;-------------------------------------------------------------------
; Slide Attack EX - Golpe final
[Statedef 1323]
type = A
movetype = A
physics = S
;anim = 1323
velset = 0,0
ctrl = 0
;poweradd = 50
facep2 = 0
hitdefpersist = 0
movehitpersist = 0
hitcountpersist = 0
sprpriority = 2

[State 20, AfterImage]
type = AfterImage
trigger1 = !Time
time = 2
timegap = 1
framegap = 1
length = 10
palbright = ifelse(var(56)>=1,30,0),30,ifelse(var(56)>=0,0,30)
palcontrast = 128,128,128
paladd = -16,-16,-16
palmul = ifelse(var(56)>=1,1.1,.5),1,ifelse(var(56)>=1,.5,1.1)
trans = add
ignorehitpause = 1

[State 20, AfterImageTime]
type = AfterImageTime
trigger1 = animtime <= -1
time = 2

[State 20, AfterImage end]
type = AfterImage
trigger1 = animtime = 0
time = 1
timegap = 1
framegap = 1
length = 1
ignorehitpause = 1

[State 20, PalFx]
type = PalFx
trigger1 = MoveType = A
time = 1
add = ifelse(var(56)>=1,30,0),30,ifelse(var(56)>=1,0,30)
mul = ifelse(var(56)>=1,300,200),300,ifelse(var(56)>=1,200,300)
ignorehitpause = 1

[State 0, rafaga]
type = PlaySnd
trigger1 = anim = 1323
trigger1 = animelem = 1, = 2
value = S2,5
ignorehitpause = 1

[State 0, voz]
type = PlaySnd
trigger1 = anim = 1323
trigger1 = animelem = 2
value = S20,0
channel = 0
ignorehitpause = 1

[State 0, VelSet]
type = VelSet
trigger1 = anim = 1323
trigger1 = animelem = 1
x = 10
y = 0

[State 0, PosAdd]
type = PosAdd
trigger1 = time = 1
x = p2bodydist x + 100
y = p2bodydist y -  30
ignorehitpause = 1

[State 0, teleport]
type = PlaySnd
trigger1 = time = 1
value = S3800,3
ignorehitpause = 1

[State 0, Turn]
type = Turn
trigger1 = time = 1
trigger1 = p2bodydist x < 0
ignorehitpause = 1

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 1
value = 1323

[State 0, corte explod]
type = Explod
trigger1 = anim = 1323
trigger1 = animelem = 2
anim = 7301
ID = 7301
pos = 50,-75
facing = -1
bindtime = -1
scale = .3,.3
sprpriority = 5
ownpal = 1

[State 0, HitDef]
type = HitDef
trigger1 = anim = 1323
trigger1 = animelem = 2
attr = S,NA        
hitflag = MAF        
guardflag = MA       
animtype = up;diagup;back;
air.animtype = up;diagup;back;
fall.animtype = up;diagup;back;
pausetime = 10,10 
damage = 30,10
sparkno = var(4) := 7002
guard.sparkno = -1
sparkxy = var(52):= 42, var(53):= -50
hitsound = S240,0
guardsound = S0,9
ground.type = High    
ground.slidetime = 40
ground.hittime = 20
air.hittime = 20
air.velocity = -3,10
ground.velocity = -3,10
fall = 1
fall.damage = 5
kill = 0
fall.kill = 1
;fall.xvelocity = -1
;fall.yvelocity = -7.5
fall.recover = 0
;down.bounce = 1
p2facing = 1
envshake.time = 20
envshake.freq = 40
envshake.ampl = -3
envshake.phase = 60
p2stateno = 821
ID = 1323

[State 0, flash]
type = EnvColor
trigger1 = movehit = 1
under = 1
;ignorehitpause = 1

[State 0, waveground]
type = Explod
;trigger1 = numtarget(820)
trigger1 = target(1323), stateno = 821
trigger1 = target(1323), time = 0
anim = 9400
ID = 9400
pos = 0,(target(1323),floor(-pos y))+10
postype = p2
scale = 0.5,0.5
sprpriority = -5
ownpal = 1

[State 0, crater]
type = Explod
trigger1 = numtarget(1323)
trigger1 = target(1323), stateno = 821
trigger1 = target(1323), time = 0
anim = 7530
ID = 7530
pos = 0,(target(1323),floor(-pos y))+10
postype = p2
random = 30,0
facing = ifelse(random<499,1,-1)
scale = .5,.5
sprpriority = -5
ownpal = 1

[State 0, polvo]
type = Explod
trigger1 = numtarget(1323)
trigger1 = target(1323), stateno = 821
trigger1 = target(1323), time = 0
anim = 7523
ID = 7523
pos = 0,(target(1323),floor(-pos y))+10
postype = p2
facing = -1
scale = .8,.5
sprpriority = 4
ownpal = 1

[State 0, desprendimiento de rocas]
type = Explod
trigger1 = numtarget(1323)
trigger1 = target(1323), stateno = 821
trigger1 = target(1323), time < 3
anim = 9170+random%3
ID = 9170
pos = 0,(target(1323),floor(-pos y))+10
postype = p2
facing = ifelse(random<499,1,-1)
vel = 0,-0.1*(random%4)
accel = 0,-0.05*(random%5)
random = 30,0
supermovetime
pausemovetime
scale = ifelse(random<499,0.3,0.5), ifelse(random<499,0.3,0.5)
sprpriority = -5+random%10
ownpal = 1

[State 0, temblor]
type = PlaySnd
trigger1 = numtarget(1323)
trigger1 = target(1323), stateno = 821
trigger1 = target(1323), time = 0
value = S12,0

[State 0, choque contra el suelo]
type = PlaySnd
trigger1 = numtarget(820)
trigger1 = target(820), stateno = 821
trigger1 = target(820), time = 0
value = S0,6

[State 0, fin]
type = ChangeState
trigger1 = animtime = 0
value = 50
ctrl = 1

;-----------------------------------------------------------------------------------------------------------------------------------------------
;Cutting Kick A - 1°
[Statedef 1400]
type = A
movetype = A
physics = N
anim = 1400
;velset = 0,0
ctrl = 0
juggle = 4
facep2 = 0
hitdefpersist = 0
movehitpersist = 0
hitcountpersist = 0
sprpriority = 2

[State 40, AfterImage]
type = AfterImage
trigger1 = !time 
time = 2
palbright = 0,0,0;90,90,90
palcontrast = 192,192,192;220,220,220
;paladd = 32,96,128
;palmul = .64,.64,.64
length = 10
timegap = 1
framegap = 1
trans = add

[State 40, AfterImageTime]
type = AfterImageTime
trigger1 = 1
time = 2

[State 0, PalFXWiz]
type = Null;PalFX
trigger1 = timemod = 2,0
time = 3
add = 0,0,128
mul = 256,256,256
sinadd = 0,0,0,1
invertall = 0
color = 128
ignorehitpause = 1

[State 100, dash]
type = Explod
triggerall = vel y > 0
triggerall = vel x > 0
trigger1 = time%2 = 0
anim = 6007
id = 6007
pos = -5,-55
facing = -1
random = 10,50
sprpriority = 0+random%4
vel = 1.5,1.5
scale = 0.5,0.5
ownpal = 1

[State 0, VelMul]
type = VelMul
trigger1 =  time = 0
x = 0.075
y = 0.065

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 3
x = 10
y = 10

[State 0, effect]
type = PlaySnd
trigger1 = animelem = 3
value = S2,1
channel = 3

[State 550:	HitDef]
type		= HitDef
trigger1		= animElem = 3
attr		= A, SA
hitflag		= MAF
guardflag		= HA
animtype		= medium
priority		= 5, Hit
damage		= 73
pausetime		= 10,12
guard.pausetime	= 10,12
sparkno = var(4) := 7001
guard.sparkno = -1
ground.hittime  = 0
sparkxy		= var(52):=46, var(53):=0
hitsound		= S2,0
guardsound		= S0,9
ground.type = low
ground.slidetime = 3
ground.velocity = -1,-4
air.velocity = -1,-2.5
hitsound = S3,1
guardsound = S1,0
id			= 550
getpower		= 0
givepower		= 20
fall = 1
;down.bounce = 1
p1stateno = 1401
envshake.time   = 12
envshake.freq   = 140
envshake.ampl   = -3
envshake.phase  = 90

[State 0, StateTypeSet]
type = Null;StateTypeSet
trigger1 = animelem = 3
physics = A 
ignorehitpause = 1

[State 0, Gravity]
type = Gravity
trigger1 = animelem = 3, >= 0
ignorehitpause = 1

[State 0, revote]
type = ChangeState
trigger1 = animelem = 3, > 0
trigger1 = moveguarded
value = 1402
;ignorehitpause = 1

[State 0, aterrizar]
type = ChangeState
trigger1 = animelem = 3, > 0
trigger1 = pos y >= 0
value = 1403
ignorehitpause = 1

;-----------------------------------------------------------------------------------------------------------------------------------------------
;Cutting Kick A - 2°
[Statedef 1401]
type = A
movetype = A
physics = N
anim = 1401
velset = -5,-7
ctrl = 0
juggle = 4
facep2 = 0
hitdefpersist = 0
movehitpersist = 0
hitcountpersist = 0

[State 0, AfterImageTime]
type = AfterImageTime
trigger1 = 1
time = 2
ignorehitpause = 1

[State 0, PalFXWiz]
type = Null;PalFX
trigger1 = timemod = 2,0
time = 3
add = 0,0,128
mul = 256,256,256
sinadd = 0,0,0,1
invertall = 0
color = 128
ignorehitpause = 1

[State 100, dash]
type = Explod
triggerall = vel y != 0
triggerall = vel x != 0
trigger1 = time%2 = 0
anim = 6007
id = 6007
pos = -5,-55
facing = -1
random = 10,50
sprpriority = 0+random%4
vel = -1.5,-1.5
scale = 0.5,0.5
ownpal = 1

[State 0, VelMul]
type = VelMul
trigger1 =  animelem = 2
x = 0.075
y = 0.065

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 3
x = 10
y = 10

[State 0, effect]
type = PlaySnd
trigger1 = animelem = 2
value = S2,1
channel = 3

[State 1401, HitDef]
type = HitDef
trigger1 = animElem = 3
attr = A, SA
hitflag = MAF
guardflag = HA
animtype = hard
priority = 5, Hit
damage = 73
pausetime = 10,12
guard.pausetime = 10,12
sparkno = var(4) := 7002
guard.sparkno = -1
sparkxy = var(52):=46, var(53):=0
hitsound = S240,0
guardsound = S0,9
ground.type = high
ground.slidetime = 3
ground.hittime  = 0
ground.velocity = -1,20
air.velocity = -4,20
hitsound = S3,1
guardsound = S1,0
id		= 550
getpower		= 0
givepower		= 20
fall = 1
fall.xvelocity = -4.0
fall.yvelocity = -4.5
;down.bounce = 1
envshake.time   = 12
envshake.freq   = 140
envshake.ampl   = -3
envshake.phase  = 90
p1stateno = 1402

[State 0, StateTypeSet]
type = Null;StateTypeSet
trigger1 = animelem = 3
physics = A 
ignorehitpause = 1

[State 0, Gravity]
type = Gravity
trigger1 = animelem = 3, >= 0
ignorehitpause = 1

[State 0, revote]
type = ChangeState
trigger1 = animelem = 3, > 0
trigger1 = moveguarded
value = 1402
;ignorehitpause = 1

[State 0, aterrizar]
type = ChangeState
trigger1 = animelem = 3, > 0
trigger1 = pos y >= 0
value = 1403
ignorehitpause = 1

;-----------------------------------------------------------------------------------------------------------------------------------------------
;Cutting Kick A - Rebote
[Statedef 1402]
type = A
movetype = I
physics = A
anim = 1402
velset = -3,-6
ctrl = 0
juggle = 4
facep2 = 0
hitdefpersist = 0
movehitpersist = 0
hitcountpersist = 0

[State 0, Explod]
type = Explod
trigger1 = animelem = 4
anim = 13102
ID = 13102
pos = 10,-45
bindtime = -1
removetime = -2
scale = .5,.5
sprpriority = 0
ownpal = 1
removeongethit = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = S0,2

[State 0, ChangeState]
type = Null;ChangeState
trigger1 = animelem = 3
value = 50
ctrl = 1

;-----------------------------------------------------------------------------------------------------------------------------------------------
;Cutting Kick A - Aterrizaje
[Statedef 1403]
type = S
movetype = I
physics = S
anim = 1403
velset = 0,0
ctrl = 0
juggle = 4
facep2 = 0
hitdefpersist = 0
movehitpersist = 0
hitcountpersist = 0

[State 0, suelo]
type = PosSet
trigger1 = !time
y = 0

[State 0, aterrizaje sfx]
type = PlaySnd
trigger1 = !time
value = S13,8;S0,6

[State 100, onda tierra]
type = Explod
trigger1 = !time
anim = 9400
ID = 9400
pos = 0,floor(-pos y)
vel = 0,0
facing = 1
sprpriority = -3
scale = .4,.4
ownpal = 1

[State 100, polvo]
type = Explod
trigger1 = !time
anim = 9100
ID = 9100
pos = -20,floor(-pos y)
vel = 0,0
facing = 1
sprpriority = 3
scale = .2,.2
ownpal = 1

[State 100, polvo2]
type = Explod
trigger1 = !time
anim = 9913
ID = 9913
pos = 30,floor(-pos y)
vel = .2,0
facing = -1
sprpriority = 3
scale = .5,.5
ownpal = 1

[State 100, polvito]
type = Explod
trigger1 = time < 4
anim = 7528
ID = 7528
pos = 20,floor(-pos y)
facing = ifelse(random<500,1,-1)
vfacing = ifelse(random<500,1,-1)
random = 10,1
vel = 0,0
supermovetime = 777
pausemovetime = 777
scale = 0.5,0.5
sprpriority = 0
ownpal = 1

[State 0, fin]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;-----------------------------------------------------------------------------------------------------------------------------------------------
;Cutting Kick EX - 1° ataque
[Statedef 1420]
type = A
movetype = A
physics = N
anim = 1420
;velset = 0,0
ctrl = 0
juggle = 0
facep2 = 0
poweradd = -500
movehitpersist = 0
hitcountpersist = 0
sprpriority = 2

[State 20, sfx ex]
type = PlaySnd
trigger1 = time = 0
value = S15, 3

[State 20, AfterImage]
type = AfterImage
trigger1 = !Time
time = 2
timegap = 1
framegap = 1
length = 5
palbright = ifelse(var(56)>=1,30,0),30,ifelse(var(56)>=0,0,30)
palcontrast = 128,128,128
paladd = -16,-16,-16
palmul = ifelse(var(56)>=1,1.1,.5),1,ifelse(var(56)>=1,.5,1.1)
trans = add
ignorehitpause = 1

[State 20, AfterImageTime]
type = AfterImageTime
trigger1 = MoveType = A
time = 2

[State 20, PalFx]
type = PalFx
trigger1 = MoveType = A
time = 1
add = ifelse(var(56)>=1,30,0),30,ifelse(var(56)>=1,0,30)
mul = ifelse(var(56)>=1,300,200),300,ifelse(var(56)>=1,200,300)
ignorehitpause = 1

[State 100, dash]
type = Explod
trigger1 = time%2 = 0
anim = 6007
id = 6007
pos = -5,-55
facing = -1
random = 10,50
sprpriority = 0+random%4
vel = 4,4
scale = 0.5,0.5
ownpal = 1

[State 0, reflejo]
type = Explod
trigger1 = movehit
anim = 1429
ID = 1429
vel = (vel x),(vel y)
sprpriority = -5
removeongethit = 1
ignorehitpause = 1
persistent = 0

[State 0, VelMul]
type = VelMul
trigger1 =  time = 0
x = 0.075
y = 0.065

[State 0, VelSet]
type = null;VelSet
trigger1 = animelem = 3, < 0
x = 0
y = 0

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 3
x = 10
y = 10

[State 0, effect]
type = PlaySnd
trigger1 = animelem = 3
value = S2,1
channel = 3

[State 550:	HitDef]
type		= HitDef
trigger1		= animElem = 3
attr		= A, SA
hitflag		= MAF
guardflag		= HA
animtype		= hard
priority		= 5, Hit
damage		= 46,30
pausetime		= 10,12
guard.pausetime	= 10,12
sparkno = var(4) := 7001
guard.sparkno = -1
sparkxy		= var(52):=46, var(53):=0
hitsound		= S2,0
guardsound		= S0,9
ground.type = low
ground.slidetime = 3
ground.hittime  = 0
ground.velocity = -1,-4
air.velocity = -1,-2
hitsound = S3,1
guardsound = S1,0
id			= 1420
getpower		= 0
givepower		= 20
fall = 1
;down.bounce = 1
envshake.time   = 12
envshake.freq   = 140
envshake.ampl   = -3
envshake.phase  = 90
p1stateno = 1421

[State 0, Gravity]
type = Gravity
trigger1 = animelem = 3, >= 0
ignorehitpause = 1

[State 0, aterrizaje]
type = ChangeState
trigger1 = animelem = 3, >= 0
trigger1 = pos y >= 0
value = 1425

;-----------------------------------------------------------------------------------------------------------------------------------------------
;Cutting Kick EX - 2° ataque
[Statedef 1421]
type = A
movetype = A
physics = N
anim = 1421
velset = 0,0
ctrl = 0
juggle = 0
facep2 = 0
hitdefpersist = 0
movehitpersist = 0
hitcountpersist = 0

[State 20, AfterImage]
type = AfterImage
trigger1 = !Time
time = 2
timegap = 1
framegap = 1
length = 5
palbright = ifelse(var(56)>=1,30,0),30,ifelse(var(56)>=0,0,30)
palcontrast = 128,128,128
paladd = -16,-16,-16
palmul = ifelse(var(56)>=1,1.1,.5),1,ifelse(var(56)>=1,.5,1.1)
trans = add
ignorehitpause = 1

[State 20, AfterImageTime]
type = AfterImageTime
trigger1 = MoveType = A
time = 2

[State 20, PalFx]
type = PalFx
trigger1 = MoveType = A
time = 1
add = ifelse(var(56)>=1,30,0),30,ifelse(var(56)>=1,0,30)
mul = ifelse(var(56)>=1,300,200),300,ifelse(var(56)>=1,200,300)
ignorehitpause = 1

[State 100, dash]
type = Explod
trigger1 = time%2 = 0
anim = 6007
id = 6007
pos = -5,-55
facing = -1
random = 10,50
sprpriority = 0+random%4
vel = 4,4
scale = 0.5,0.5
ownpal = 1

[State 0, reflejo]
type = Explod
trigger1 = movehit
anim = 1428
ID = 1428
vel = (vel x),(vel y)
sprpriority = -5
removeongethit = 1
ignorehitpause = 1
persistent = 0

[State 0, teleport]
type = PosAdd
trigger1 = animelem = 2
x = p2bodydist x + 120
y = p2bodydist y - 90

[State 0, teleport]
type = PlaySnd
trigger1 = animelem = 2
value = S3800,3

[State 0, VelSet]
type = VelSet
trigger1 = movehit = 1
x = 0
y = 0

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 3
x = 30
y = 20

[State 0, Turn]
type = Turn
triggerall = p2bodydist x < 0
trigger1 = animelem = 2
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S0,4
channel = 3

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1 
value = 0

[State 550:	HitDef]
type		= HitDef
trigger1		= animElem = 3
attr		= A, SA
hitflag		= MAF
guardflag		= HA
animtype		= hard
priority		= 5, Hit
damage		= 46
pausetime		= 10,12
guard.pausetime	= 10,12
sparkno = var(4) := 7001
guard.sparkno = -1
sparkxy		= var(52):=46, var(53):=0
hitsound		= S240,0
guardsound		= S0,9
ground.type = high
ground.slidetime = 3
ground.hittime  = 0
ground.velocity = 1,-1
air.velocity = 1,-1
hitsound = S3,1
guardsound = S1,0
id			= 1421
getpower		= 0
givepower		= 20
fall = 1
;down.bounce = 1
envshake.time   = 12
envshake.freq   = 140
envshake.ampl   = -3
envshake.phase  = 90
p1stateno = 1422

[State 0, Gravity]
type = Gravity
trigger1 = animelem = 3, >= 0
ignorehitpause = 1

[State 0, aterrizaje]
type = ChangeState
trigger1 = animelem = 3, >= 0
trigger1 = pos y >= 0
value = 1425

;-----------------------------------------------------------------------------------------------------------------------------------------------
;Cutting Kick EX - 3° ataque
[Statedef 1422]
type = A
movetype = A
physics = N
anim = 1422
velset = 0,0
ctrl = 0
juggle = 0
facep2 = 0
hitdefpersist = 0
movehitpersist = 0
hitcountpersist = 0

[State 20, AfterImage]
type = AfterImage
trigger1 = !Time
time = 2
timegap = 1
framegap = 1
length = 5
palbright = ifelse(var(56)>=1,30,0),30,ifelse(var(56)>=0,0,30)
palcontrast = 128,128,128
paladd = -16,-16,-16
palmul = ifelse(var(56)>=1,1.1,.5),1,ifelse(var(56)>=1,.5,1.1)
trans = add
ignorehitpause = 1

[State 20, AfterImageTime]
type = AfterImageTime
trigger1 = MoveType = A
time = 2

[State 20, PalFx]
type = PalFx
trigger1 = MoveType = A
time = 1
add = ifelse(var(56)>=1,30,0),30,ifelse(var(56)>=1,0,30)
mul = ifelse(var(56)>=1,300,200),300,ifelse(var(56)>=1,200,300)
ignorehitpause = 1

[State 100, dash]
type = Explod
trigger1 = time%2 = 0
anim = 6007
id = 6007
pos = -5,-55
facing = -1
random = 10,50
sprpriority = 0+random%4
vel = 4,4
scale = 0.5,0.5
ownpal = 1

[State 0, reflejo]
type = Explod
trigger1 = movehit
anim = 1429
ID = 1429
vel = (vel x),(vel y)
sprpriority = -5
removeongethit = 1
ignorehitpause = 1
persistent = 0

[State 0, teleport]
type = PosAdd
trigger1 = animelem = 2
x = p2bodydist x + 120
y = p2bodydist y - 90

[State 0, teleport]
type = PlaySnd
trigger1 = animelem = 2
value = S3800,3

[State 0, VelSet]
type = VelSet
trigger1 = movehit = 1
x = 0
y = 0

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 3
x = 30
y = 20

[State 0, Turn]
type = Turn
triggerall = p2bodydist x < 0
trigger1 = animelem = 2
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S0,4
channel = 3

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1 
value = 0

[State 550:	HitDef]
type		= HitDef
trigger1		= animElem = 3
attr		= A, SA
hitflag		= MAF
guardflag		= HA
animtype		= hard
priority		= 5, Hit
damage		= 46
pausetime		= 10,12
guard.pausetime	= 10,12
sparkno = var(4) := 7001
guard.sparkno = -1
sparkxy		= var(52):=46, var(53):=0
hitsound		= S240,0
guardsound		= S0,9
ground.type = low
ground.slidetime = 3
ground.hittime  = 0
ground.velocity = 1,-1
air.velocity = 1,-1
hitsound = S3,1
guardsound = S1,0
id			= 1422
getpower		= 0
givepower		= 20
fall = 1
;down.bounce = 1
envshake.time   = 12
envshake.freq   = 140
envshake.ampl   = -3
envshake.phase  = 90
p1stateno = 1423

[State 0, Gravity]
type = Gravity
trigger1 = animelem = 3, >= 0
ignorehitpause = 1

[State 0, aterrizaje]
type = ChangeState
trigger1 = animelem = 3, >= 0
trigger1 = pos y >= 0
value = 1425

;-----------------------------------------------------------------------------------------------------------------------------------------------
;Cutting Kick EX - Ataque final
[Statedef 1423]
type = A
movetype = A
physics = N
anim = 1423
velset = 0,0
ctrl = 0
juggle = 0
facep2 = 0
hitdefpersist = 0
movehitpersist = 0
hitcountpersist = 0

[State 0, AfterImageTime]
type = AfterImageTime
trigger1 = 1
time = 2
ignorehitpause = 1

[State 20, PalFx]
type = PalFx
trigger1 = MoveType = A
time = 1
add = ifelse(var(56)>=1,30,0),30,ifelse(var(56)>=1,0,30)
mul = ifelse(var(56)>=1,300,200),300,ifelse(var(56)>=1,200,300)
ignorehitpause = 1

[State 100, dash]
type = Explod
trigger1 = time%2 = 0
anim = 6007
id = 6007
pos = -5,-55
facing = -1
random = 10,50
sprpriority = 0+random%4
vel = 4,4
scale = 0.5,0.5
ownpal = 1

[State 0, reflejo]
type = Explod
trigger1 = movehit
anim = 1428+(time>0)
ID = 1428+(time>0)
vel = (vel x),(vel y)
sprpriority = -5
removeongethit = 1
ignorehitpause = 1
persistent = 0

[State 0, teleport]
type = PosAdd
trigger1 = animelem = 2
x = p2bodydist x + 120
y = p2bodydist y - 90

[State 0, Turn]
type = Turn
trigger1 = animelem = 2
trigger1 = p2bodydist x < 0
ignorehitpause = 1

[State 0, teleport]
type = PlaySnd
trigger1 = animelem = 2
value = S3800,3

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 3, > 0
x = 30
y = 30
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S0,4
channel = 3

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1 
value = 0

[State 550:	HitDef]
type		= HitDef
trigger1		= animElem = 3
attr		= A, SA
hitflag		= MAF
guardflag		= HA
animtype		= hard
priority		= 5, Hit
damage		= 46
pausetime		= 10,10
guard.pausetime	= 10,10
sparkno = var(4) := 7002
guard.sparkno = -1
sparkxy		= var(52):=46, var(53):=0
hitsound		= S240,0
guardsound		= S0,9
ground.type = high
ground.slidetime = 3
ground.hittime  = 0
ground.velocity = -1,20
air.velocity = -4,20
hitsound = S3,1
guardsound = S1,0
id			= 1423
getpower		= 0
givepower		= 20
fall = 1
fall.xvelocity = -2.0
fall.yvelocity = -8.5
;down.bounce = 1
envshake.time   = 12
envshake.freq   = 140
envshake.ampl   = -3
envshake.phase  = 90
;p1stateno = 1424
ignorehitpause = 1

[State 0, Gravity]
type = Gravity
trigger1 = animelem = 3, >= 0
ignorehitpause = 1

[State 0, ChangeState]
type = ChangeState
triggerall = movehit && animelem = 3, >= 0 && numtarget(1423)
triggerall = pos y >= 0
trigger1 = command = "holds"
trigger2 = var(59) > 0
trigger2 = random < 333
trigger2 = p2movetype = H
trigger2 = life > (enemy, life)
value = 1424
ignorehitpause = 1

[State 0, aterrizaje]
type = ChangeState
trigger1 = animelem = 3, >= 0
trigger1 = pos y >= 0
value = 1425
ignorehitpause = 1

;-----------------------------------------------------------------------------------------------------------------------------------------------
;Cutting Kick EX - Taunt
[Statedef 1424]
type = S
movetype = I
physics = S
anim = 1424
ctrl = 0
juggle = 0

[State 0, frenar]
type = VelSet
trigger1 = !time
y = 0
ignorehitpause = 1

[State 0, PosSet]
type = PosSet
trigger1 = !time 
y = 0

[State 0, aterrizaje sfx]
type = PlaySnd
trigger1 = !time
value = S13,8;S0,6

[State 0, temblor sfx]
type = PlaySnd
trigger1 = vel x != 0
trigger1 = time%10 = 0
value = 12,0

[State 0, temblor]
type = EnvShake
trigger1 = !time
time = 25
freq = 60
ampl = -4
phase = 90

[State 100, onda tierra]
type = Explod
trigger1 = !time
anim = 9400
ID = 9400
pos = 0,floor(-pos y)
vel = 0,0
facing = 1
sprpriority = 3
scale = .5,.5
ownpal = 1

[State 0, crater]
type = Explod
trigger1 = vel x != 0
trigger1 = time%4 = 0
anim = 7531
ID = 7531
pos = 0,floor(-pos y)
random = 0,0
facing = ifelse(random<499,1,-1)
scale = .5,.5
sprpriority = -5
ownpal = 1

[State 0, desprendimiento de rocas]
type = Explod
trigger1 = vel x != 0
trigger1 = time%4 = 0
anim = 9170+random%3
ID = 9170
pos = 0,floor(-pos y)
facing = ifelse(random<499,1,-1)
vel = 0,-0.1*(random%4)
accel = 0,-0.01*(random%5)
random = 30,0
scale = ifelse(random<499,0.3,0.5), ifelse(random<499,0.3,0.5)
sprpriority = -5+random%10
ownpal = 1

[State 100, polvo]
type = Explod
trigger1 = vel x != 0
trigger1 = time%4 = 0
anim = 9912
ID = 9912
pos = -20,floor(-pos y)
vel = 0,0
facing = 1
sprpriority = 3
scale = .3,.3
ownpal = 1

[State 100, polvito]
type = Explod
trigger1 = vel x != 0
anim = 7528
ID = 7528
pos = 10,floor(-pos y)
facing = ifelse(random<500,1,-1)
vfacing = ifelse(random<500,1,-1)
random = 30,1
vel = 0,0
supermovetime = 777
pausemovetime = 777
scale = 0.5,0.5
sprpriority = 0
ownpal = 1

[State 100, dash]
type = Explod
trigger1 = vel x != 0
trigger1 = time%2 = 0
anim = 6005
id = 6005
pos = -20,-35
random = 0,50
sprpriority = 0+random%4
vel = 1+random%2,0
accel = 0,0
scale = 0.5,0.5
ownpal = 1

[State 0, AfterImage]
type = AfterImage
trigger1 = time = 0
time = 2
palbright = 0,0,0;90,90,90
palcontrast = 192,192,192;220,220,220
;paladd = 32,96,128
;palmul = .64,.64,.64
length = 10
timegap = 1
framegap = 1
trans = add

[State 0, AfterImageTime]
type = AfterImageTime
trigger1 = 1
time = 2
ignorehitpause = 1

[State 0, alright!]
type = PlaySnd
trigger1 = animelem = 6
value = S15,4
channel = 0

[State 0, end]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;-----------------------------------------------------------------------------------------------------------------------------------------------
;Cutting Kick EX - Aterrizaje
[Statedef 1425]
type = C
movetype = I
physics = C
anim = 1425
; velset = 0,0
ctrl = 0
juggle = 0

[State 0, frenar]
type = VelSet
trigger1 = !time
y = 0
ignorehitpause = 1

[State 0, frenar]
type = Null;VelSet
trigger1 = !time
trigger1 = prevstateno = 1420
x = 0
ignorehitpause = 1

[State 0, suelo]
type = PosSet
trigger1 = !time
y = 0

[State 0, aterrizaje sfx]
type = PlaySnd
trigger1 = !time
value = S13,8;S0,6

[State 0, temblor sfx]
type = PlaySnd
trigger1 = !time
value = 12,0

[State 0, temblor]
type = EnvShake
trigger1 = !time
time = 15
freq = 60
ampl = -4
phase = 90

;-------------------------
[State 100, onda tierra]
type = Explod
trigger1 = !time
anim = 9400
ID = 9400
pos = 0,floor(-pos y)
vel = 0,0
facing = 1
sprpriority = 3
scale = .5,.5
ownpal = 1

[State 0, crater]
type = Explod
trigger1 = !time
trigger2 = vel x != 0
trigger2 = time%4 = 0
anim = 7531
ID = 7531
pos = 0,floor(-pos y)
random = 0,0
facing = ifelse(random<499,1,-1)
scale = .5,.5
sprpriority = -5
ownpal = 1

[State 0, desprendimiento de rocas]
type = Explod
trigger1 = !time
trigger1 = vel x = 0
anim = 9170+random%3
ID = 9170
pos = 0,floor(-pos y)
facing = ifelse(random<499,1,-1)
vel = 0,-0.1*(random%4)
accel = 0,-0.01*(random%5)
random = 30,0
scale = ifelse(random<499,0.3,0.5), ifelse(random<499,0.3,0.5)
sprpriority = -5+random%10
ownpal = 1

[State 0, desprendimiento de rocas]
type = Explod
trigger1 = !time 
trigger1 = vel x = 0
anim = 9170+random%3
ID = 9170
pos = 0,floor(-pos y)
facing = ifelse(random<499,1,-1)
vel = 0,-0.1*(random%4)
accel = 0,-0.01*(random%5)
random = 30,0
scale = ifelse(random<499,0.3,0.5), ifelse(random<499,0.3,0.5)
sprpriority = -5+random%10
ownpal = 1

[State 0, desprendimiento de rocas]
type = Explod
trigger1 = !time 
trigger1 = vel x = 0
anim = 9170+random%3
ID = 9170
pos = 0,floor(-pos y)
facing = ifelse(random<499,1,-1)
vel = 0,-0.1*(random%4)
accel = 0,-0.01*(random%5)
random = 30,0
scale = ifelse(random<499,0.3,0.5), ifelse(random<499,0.3,0.5)
sprpriority = -5+random%10
ownpal = 1

[State 0, desprendimiento de rocas]
type = Explod
trigger1 = !time 
trigger2 = vel x != 0
trigger2 = time%4 = 0
anim = 9170+random%3
ID = 9170
pos = 0,floor(-pos y)
facing = ifelse(random<499,1,-1)
vel = 0,-0.1*(random%4)
accel = 0,-0.01*(random%5)
random = 30,0
scale = ifelse(random<499,0.3,0.5), ifelse(random<499,0.3,0.5)
sprpriority = -5+random%10
ownpal = 1

[State 100, polvo]
type = Explod
trigger1 = !time
trigger2 = vel x != 0
trigger2 = time%4 = 0
anim = 9912
ID = 9912
pos = -20,floor(-pos y)
vel = 0,0
facing = 1
sprpriority = 3
scale = .3,.3
ownpal = 1

[State 100, polvo2]
type = Explod
trigger1 = !time
anim = 9915
ID = 9915
pos = 40,floor(-pos y)
vel = .5,0
facing = 1
sprpriority = 3
scale = .5,.5
ownpal = 1

[State 100, polvito]
type = Explod
trigger1 = time < 4
trigger1 = vel x = 0
trigger2 = vel x != 0
anim = 7528
ID = 7528
pos = 10,floor(-pos y)
facing = ifelse(random<500,1,-1)
vfacing = ifelse(random<500,1,-1)
random = 30,1
vel = 0,0
supermovetime = 777
pausemovetime = 777
scale = 0.5,0.5
sprpriority = 0
ownpal = 1

[State 100, dash]
type = Explod
trigger1 = vel x != 0
trigger1 = time%2 = 0
anim = 6005
id = 6005
pos = -20,-35
random = 0,50
sprpriority = 0+random%4
vel = 1+random%2,0
accel = 0,0
scale = 0.5,0.5
ownpal = 1

[State 0, AfterImage]
type = AfterImage
trigger1 = vel x != 0
trigger1 = time = 0
time = 2
palbright = 0,0,0;90,90,90
palcontrast = 192,192,192;220,220,220
;paladd = 32,96,128
;palmul = .64,.64,.64
length = 10
timegap = 1
framegap = 1
trans = add

[State 0, AfterImageTime]
type = AfterImageTime
trigger1 = 1
time = 2

[State 0, combo]
type = ChangeState
triggerall = time > 0
triggerall = power >= 250
trigger1 = command = "Cutting Kick" ||  command = "Cutting Kick 2"
trigger2 = var(59) > 0
trigger2 = p2bodydist x = [-10,85]
trigger2 = p2statetype != L
;trigger3 = p2movetype = A
value = 1426

[State 0, fin]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;-----------------------------------------------------------------------------------------------------------------------------------------------
;Cutting Kick EX - ???
[Statedef 1426]
type = C
movetype = A
physics = C
anim = 1426
velset = 0,0
poweradd = -250
ctrl = 0
juggle = 0
facep2 = 0
hitdefpersist = 0
movehitpersist = 0
hitcountpersist = 0

[State 0, AfterImage]
type = AfterImage
trigger1 = time = 0
time = 2
palbright = 0,0,0;90,90,90
palcontrast = 192,192,192;220,220,220
;paladd = 32,96,128
;palmul = .64,.64,.64
length = 10
timegap = 1
framegap = 1
trans = add

[State 20, AfterImageTime]
type = AfterImageTime
trigger1 = MoveType = A
time = 2

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 2
x = 20
y = 0
ignorehitpause = 1

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = unguardable

[State 1426,	HitDef]
type		= HitDef
trigger1		= !time 
attr		= C, NA
hitflag		= MAF
guardflag		= HA
animtype		= hard
priority		= 5, Hit
damage		= 36
pausetime		= 5,5
guard.pausetime	= 5,5
sparkno = var(4) := 7002
guard.sparkno = -1
sparkxy		= var(52):=40, var(53):=-26
hitsound		= S240,0
guardsound		= S0,9
ground.type = low
ground.slidetime = 3
ground.hittime  = 0
ground.velocity = -13,-3
air.velocity = -13,-3
id = 1426
getpower = 0
givepower = 20
fall = 1
fall.recover = 0
envshake.time   = 7
envshake.freq   = 140
envshake.ampl   = -3
envshake.phase  = 90
;p1stateno = 1424
ignorehitpause = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 11
ctrl = 1

;--------------------------------------------------------------------------------------------------
;Wind Shot A - Adelante
[Statedef 1500]
type = S
movetype = A
physics = S
velset = 0,0
juggle = 4
ctrl = 0
anim = 1500
poweradd = 0
sprpriority = 2

[State 0, Explod]
type = Explod
trigger1 = animelem = 3
anim = 7702
ID = 7702
pos = 50,-50
bindtime = 1
vel = 0,0
scale = .25,.25
sprpriority = 3
ownpal = 1
removeongethit = 1
ignorehitpause = 1

[State 0, jut]
type = PlaySnd
trigger1 = animelem = 3
trigger1 = random < 333
value = S1,1
channel = 0

[State 0, projectil]
type = Helper
trigger1 = animelem = 3
name = "Wind Shot Projecti"
ID = 1505
stateno = 1505
pos = 50,-50
keyctrl = 0
ownpal = 1
;size.xscale (float)
;size.yscale (float)
ignorehitpause = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------
;Wind Shot A - Projectil
[Statedef 1505]
type = A
movetype = A
physics = N
velset = 0,0
sprpriority = 2
juggle = 6
ctrl = 0
anim = 1505

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = S0,5;S240,2
ignorehitpause = 1

[State 0, PalFX]
type = PalFX
trigger1 = 1
time = 2
color = 0
ignorehitpause = 1

[State 0, ]
type = VelAdd
trigger1 = time >= 0
x = 2.3

[State 0, VarRandom]
type = VarRandom
trigger1 = time = 0
v = 1
range = -1,1

[State 0, ]
type = VelSet
trigger1 = time = 4
trigger1 = var(1) = -1
y = -0.75

[State 0, ]
type = VelSet
trigger1 = time = 4
trigger1 = var(1) = 1
y = 0.75

[State 8000, particuas]
type = Explod
trigger1 = random < 333
trigger1 = gametime
trigger1 = numexplod(8001)<8
bindtime = 1
anim = 8001
ID = 8001
vel = vel x*.05,vel y*.1
random = 4,10;0,0
supermovetime = -1
pausemovetime = -1
scale = .5,.5
sprpriority = -5+random%10
vel = vel x*.05,vel y*.1
random = 4,10;0,0

[State 100, polvito]
type = Explod
triggerall = vel x != 0
trigger1 = time%2 = 0
anim = 7528
ID = 7528
pos = 20,floor(-pos y)
facing = ifelse(random<500,1,-1)
vfacing = ifelse(random<500,1,-1)
random = 3,1
vel = vel x*.05,0
supermovetime = -1
pausemovetime = -1
scale = 0.5,0.5
sprpriority = 0
ownpal = 1

[State 1510, golpe]
type		= HitDef
trigger1		= 1
attr		= S, NP
hitflag		= MAF
guardflag		= MA
animtype		= Hard
priority		= 5, Hit
damage		= 113,0
pausetime		= 1,4
guard.pausetime	= 1,4
sparkno = var(4) := -1
guard.sparkno = -1
sparkxy		= var(52):=10,var(53):=0
hitsound		= -1,0;S240,1
guardsound	= S0,9
ground.type	= High
air.type		= high
ground.slidetime	= 25
ground.hittime	= 25
air.hittime	= 25
ground.velocity	= -3
guard.velocity	= -3
air.velocity	= -8,-3.5
airguard.velocity	= -8,-3.5
ground.cornerpush.veloff = 0
down.velocity	= -1,-2
getpower		= 5
givepower		= 20
persistent	= 0
palfx.time = 10
palfx.add = 7,-200,-200
palfx.mul = 256,256,256
palfx.sinadd = 30,30,0,10
palfx.invertall = 0
palfx.color = 0
ID = 1500

[State 0, PlaySnd]
type = PlaySnd
trigger1 = movehit
trigger1 = numtarget(1500)
value = S240,1
ignorehitpause = 1
persistent = 0

[State -2, Hit Sparks]
type = Helper
triggerall = movehit && var(2) = hitpausetime
triggerall = numtarget(1500)
trigger1 = moveHit = 1 && numEnemy
stateno = 8050
ID = 8050;8000
name = "Spark"
postype = P1
pos = ifelse(P2Dist x < 0, 0, ifelse(P2Dist x < var(52), ceil(P2Dist x), var(52))),var(53)
facing = -1
ownPal = 1
pauseMoveTime = 65535
superMoveTime = 65535
ignoreHitPause = 1
size.xscale = 0.5
size.yscale = 0.5

[State -2, Hit Sparks]
type = Helper
triggerall = movecontact && var(2) = hitpausetime
trigger1 = movecontact = 1 && numEnemy
stateno = 7001
ID = 7001;8000
name = "Spark"
postype = P1
pos = ifelse(P2Dist x < 0, 0, ifelse(P2Dist x < var(52), ceil(P2Dist x), var(52))),var(53)
facing = -1
ownPal = 1
pauseMoveTime = 65535
superMoveTime = 65535
ignoreHitPause = 1
size.xscale = 0.5
size.yscale = 0.5

[State 2010, activar colicion]
type = HitOverride
trigger1 = 1 
attr = SCA,AP
slot = 0
stateno = 1506
ignorehitpause = 1

[State 2010, golpeado por projectiles]
type = HitBy
trigger1 = 1  
value = SCA,AP
time = 1
ignorehitpause = 1

[State 2010, 4]
type =  ChangeState
trigger1 = movecontact = 1
trigger2 = frontedgebodydist < -20
value =  1506

;---------------------------------------------------------
;Wind Shot A - Projectil (modo espera)
[Statedef 1506]
type = A
movetype = I
physics = N
velset = 0,0
ctrl = 0
anim = 1506

[State 0, PalFX]
type = PalFX
trigger1 = 1
time = 2
color = 0
ignorehitpause = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time >= 100
ignorehitpause = 1

;--------------------------------------------------------------------------------------------------
;Wind Shot B - Diagonal
[Statedef 1510]
type = S
movetype = A
physics = S
velset = 0,0
juggle = 4
ctrl = 0
anim = 1510
poweradd = 0
sprpriority = 2

[State 0, explod]
type = Helper
trigger1 = animelem = 3
name = "Wind Shot Explod"
ID = 1514
stateno = 1514
pos = 50,-55
keyctrl = 0
ownpal = 1
size.xscale = .25
size.yscale = .25
ignorehitpause = 1

[State 0, jut]
type = PlaySnd
trigger1 = animelem = 3
trigger1 = random < 333
value = S1,1
channel = 0

[State 0, projectil]
type = Helper
trigger1 = animelem = 3
name = "Wind Shot Projecti"
ID = 1505
stateno = 1515
pos = 50,-55
keyctrl = 0
ownpal = 1
;size.xscale (float)
;size.yscale (float)
ignorehitpause = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;--------------------------------------------------------------------------------------------------
;Wind Shot B - Explod
[Statedef 1514]
type = A
movetype = I
physics = N
velset = 0,0
anim = 7702
sprpriority = 5

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add
ignorehitpause = 1

[State 0, AngleDraw]
type = AngleDraw
trigger1 =1
value = 45
;scale = 1,1
ignorehitpause = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0
ignorehitpause = 1

;---------------------------------------------------------
;Wind Shot B - Projectil
[Statedef 1515]
type = A
movetype = A
physics = N
velset = 0,0
sprpriority = 2
juggle = 6
ctrl = 0
anim = 1505

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = S0,5;S240,2
ignorehitpause = 1

[State 0, PalFX]
type = PalFX
trigger1 = 1
time = 2
color = 0
ignorehitpause = 1

[State 0, ]
type = VelAdd
trigger1 = time >= 0
x = 2.3
y = -2.3

[State 0, VarRandom]
type = VarRandom
trigger1 = time = 0
v = 1
range = -1,1

[State 0, ]
type = VelSet
trigger1 = time = 4
trigger1 = var(1) = -1
x = -0.75

[State 0, ]
type = VelSet
trigger1 = time = 4
trigger1 = var(1) = 1
x = 0.75

[State 8000, particuas]
type = Explod
trigger1 = random < 333
trigger1 = gametime
trigger1 = numexplod(8001)<8
bindtime = 1
anim = 8001
ID = 8001
vel = vel x*.05,vel y*.1
random = 4,10;0,0
supermovetime = -1
pausemovetime = -1
scale = .5,.5
sprpriority = -5+random%10
vel = vel x*.05,vel y*.1
random = 4,10;0,0

[State 100, polvito]
type = Explod
triggerall = pos y > -120
triggerall = vel x != 0
trigger1 = time%2 = 0
anim = 7528
ID = 7528
pos = 20,floor(-pos y)
facing = ifelse(random<500,1,-1)
vfacing = ifelse(random<500,1,-1)
random = 3,1
vel = vel x*.05,0
supermovetime = -1
pausemovetime = -1
scale = 0.5,0.5
sprpriority = 0
ownpal = 1

[State 1510, golpe]
type		= HitDef
trigger1		= 1
attr		= S, NP
hitflag		= MAF
guardflag		= MA
animtype		= Hard
priority		= 5, Hit
damage		= 113,0
pausetime		= 1,4
guard.pausetime	= 1,4
sparkno = var(4) := -1
guard.sparkno = -1
sparkxy		= var(52):=10,var(53):=-10
hitsound		= -1,0
guardsound	= S0,9
ground.type	= High
air.type		= high
ground.slidetime	= 25
ground.hittime	= 25
air.hittime	= 25
ground.velocity	= -3
guard.velocity	= -3
air.velocity	= -8,-3.5
airguard.velocity	= -8,-7
ground.cornerpush.veloff = 0
down.velocity	= -1,-2
getpower		= 5
givepower		= 20
persistent	= 0
palfx.time = 10
palfx.add = 7,-200,-200
palfx.mul = 256,256,256
palfx.sinadd = 30,30,0,10
palfx.invertall = 0
palfx.color = 0
ID = 1500

[State 0, PlaySnd]
type = PlaySnd
trigger1 = movehit
trigger1 = numtarget(1500)
value = S240,1
ignorehitpause = 1
persistent = 0

[State -2, Hit Sparks]
type = Helper
triggerall = movehit && var(2) = hitpausetime
triggerall = numtarget(1500)
trigger1 = moveHit = 1 && numEnemy
stateno = 8050
ID = 8050;8000
name = "Spark"
postype = P1
pos = ifelse(P2Dist x < 0, 0, ifelse(P2Dist x < var(52), ceil(P2Dist x), var(52))),var(53)
facing = -1
ownPal = 1
pauseMoveTime = 65535
superMoveTime = 65535
ignoreHitPause = 1
size.xscale = 0.5
size.yscale = 0.5

[State -2, Hit Sparks]
type = Helper
triggerall = movecontact && var(2) = hitpausetime
trigger1 = movecontact = 1 && numEnemy
stateno = 7001
ID = 7001;8000
name = "Spark"
postype = P1
pos = ifelse(P2Dist x < 0, 0, ifelse(P2Dist x < var(52), ceil(P2Dist x), var(52))),var(53)
facing = -1
ownPal = 1
pauseMoveTime = 65535
superMoveTime = 65535
ignoreHitPause = 1
size.xscale = 0.5
size.yscale = 0.5

[State 2010, activar colicion]
type = HitOverride
trigger1 = 1 
attr = SCA,AP
slot = 0
stateno = 1506
ignorehitpause = 1

[State 2010, golpeado por projectiles]
type = HitBy
trigger1 = 1  
value = SCA,AP
time = 1
ignorehitpause = 1

[State 2010, 4]
type =  ChangeState
trigger1 = movecontact = 1
trigger2 = frontedgebodydist < -20
value =  1506

;--------------------------------------------------------------------------------------------------
;Wind Shot EX - Ataque
[Statedef 1520]
type = S
movetype = A
physics = S
velset = 0,0
juggle = 4
ctrl = 0
anim = 1520
poweradd = -500
sprpriority = 2

[State 20, sfx ex]
type = PlaySnd
trigger1 = time = 0
value = S15, 3

[State 20, AfterImage]
type = AfterImage
trigger1 = !Time
time = 2
timegap = 1
framegap = 1
length = 5
palbright = ifelse(var(56)>=1,30,0),30,ifelse(var(56)>=0,0,30)
palcontrast = 128,128,128
paladd = -16,-16,-16
palmul = ifelse(var(56)>=1,1.1,.5),1,ifelse(var(56)>=1,.5,1.1)
trans = add
ignorehitpause = 1

[State 20, AfterImageTime]
type = AfterImageTime
trigger1 = MoveType = A
time = 2

[State 20, PalFx]
type = PalFx
trigger1 = MoveType = A
time = 1
add = ifelse(var(56)>=1,30,0),30,ifelse(var(56)>=1,0,30)
mul = ifelse(var(56)>=1,300,200),300,ifelse(var(56)>=1,200,300)
ignorehitpause = 1

[State 0, Explod]
type = Explod
trigger1 = animelem = 3
anim = 7702
ID = 7702
pos = 50,-50
bindtime = 1
vel = 0,0
scale = .5,.5
sprpriority = 3
ownpal = 1
removeongethit = 1
ignorehitpause = 1

[State 0, vientazo]
type = Explod
trigger1 = animelem = 3
anim = 7538
ID = 7538
pos = 50,floor(-pos y)
bindtime = 1
vel = 0,0
scale = .5,.5
sprpriority = 3
ownpal = 1
removeongethit = 1
ignorehitpause = 1

[State 0, projectil]
type = Helper
trigger1 = animelem = 3
name = "Wind Shot Projecti"
ID = 1525
stateno = 1525
pos = 25,-50
keyctrl = 0
ownpal = 1
;size.xscale (float)
;size.yscale (float)
ignorehitpause = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------
;Wind Shot EX - Projectil
[Statedef 1525]
type = A
movetype = A
physics = N
velset = 0,0
sprpriority = 2
juggle = 6
ctrl = 0
anim = 1525

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = S0,4;S240,2
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = !time
value = S2,1;S240,2
ignorehitpause = 1

[State 0, PalFX]
type = PalFX
trigger1 = 1
time = 2
color = 0
ignorehitpause = 1

[State 0, ]
type = VelSet
trigger1 = time >= 0
x = 27

[State 8000, particuas]
type = Explod
trigger1 = random < 333
trigger1 = gametime
trigger1 = numexplod(8001)<8
bindtime = 1
anim = 8001
ID = 8001
vel = vel x*.05,vel y*.1
random = 4,10;0,0
supermovetime = -1
pausemovetime = -1
scale = .5,.5
sprpriority = -5+random%10
vel = vel x*.05,vel y*.1
random = 4,10;0,0

[State 100, polvazo]
type = Explod
triggerall = pos y > -120
trigger1 = vel x != 0
trigger1 = time%2 = 0
anim = 9431
ID = 9431
pos = -40,floor(-pos y)+10
vel = vel x*.05,0
supermovetime = -1
pausemovetime = -1
scale = 0.5,0.5
sprpriority = 0
ownpal = 1

[State 1520, golpe]
type		= HitDef
trigger1		= 1
attr		= S, NP
hitflag		= MAF
guardflag		= MA
animtype		= Hard
priority		= 5, Hit
damage		= 161,24
pausetime		= 1,4
guard.pausetime = 1,4
sparkno = var(4) := -1
guard.sparkno = -1
sparkxy		= var(52):=10,var(53):=-10
hitsound		= -1,0
guardsound	= S0,9
ground.type	= High
air.type		= high
ground.slidetime	= 25
ground.hittime	= 25
air.hittime	= 25
ground.velocity	= -12,-6
guard.velocity	= -10
air.velocity	= -12,-6
airguard.velocity	= -10,-5
ground.cornerpush.veloff = 0
down.velocity	= -4,-7
fall = 1
fall.recovertime = 0
getpower		= 5
givepower		= 20
persistent	= 0
EnvShake.time = 25
EnvShake.freq = 60
EnvShake.ampl = -4
EnvShake.phase = 90
palfx.time = 25
palfx.add = 7,-200,-200
palfx.mul = 256,256,256
palfx.sinadd = 30,30,0,10
palfx.invertall = 1
palfx.color = 0
ID = 1520

[State 0, PlaySnd]
type = PlaySnd
trigger1 = movehit
trigger1 = numtarget(1520)
value = S240,1
ignorehitpause = 1
persistent = 0

[State -2, Hit Sparks Blood]
type = Helper
triggerall = movehit && var(2) = hitpausetime
triggerall = numtarget(1520)
trigger1 = moveHit = 1 && numEnemy
stateno = 8052
ID = 8052;8000
name = "Spark"
postype = P1
pos = ifelse(P2Dist x < 0, 0, ifelse(P2Dist x < var(52), ceil(P2Dist x), var(52))),var(53)
facing = -1
ownPal = 1
pauseMoveTime = 65535
superMoveTime = 65535
ignoreHitPause = 1
size.xscale = 0.5
size.yscale = 0.5

[State -2, Hit Sparks]
type = Helper
triggerall = movecontact && var(2) = hitpausetime
trigger1 = movecontact = 1 && numEnemy
stateno = 7002
ID = 7002;8000
name = "Spark"
postype = P1
pos = ifelse(P2Dist x < 0, 0, ifelse(P2Dist x < var(52), ceil(P2Dist x), var(52))),var(53)
facing = -1
ownPal = 1
pauseMoveTime = 65535
superMoveTime = 65535
ignoreHitPause = 1
size.xscale = 0.5
size.yscale = 0.5

[State 2010, activar colicion]
type = Null;HitOverride
trigger1 = 1 
attr = SCA,AP
slot = 0
stateno = stateno
ignorehitpause = 1

[State 2010, golpeado por projectiles]
type = Null;HitBy
trigger1 = 1  
value = SCA,AP
time = 1
ignorehitpause = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = frontedgebodydist < -120

[State 2010, 4]
type = Null;ChangeState
trigger1 = movecontact = 1
trigger2 = frontedgebodydist < -20
value =  1526

;---------------------------------------------------------
;Inverted Kick - Ataques
[Statedef 1600]
type = A
movetype = A
physics = N
velset = 0,0
sprpriority = 2
juggle = 6
ctrl = 0
anim = 1600

[State 1600, Vel]
type = VelSet
trigger1 = animelem = 1
trigger2 = animelem = 2
x =  10
y = -10

[State 0, VelMul]
type = VelSet
trigger1 = animelem = 3
trigger2 = animelem = 4
x = 0
y = 0

[State 0, Turn]
type = Turn
trigger1 = animelem = 4
ignorehitpause = 1

[State 1600, Vel]
type = VelSet
trigger1 = animelem = 6
x =  10
y =  10

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
trigger2 = animelem = 5
value = S2,4
ignorehitpause = 1

[State 100, dash]
type = Explod
triggerall = animelem = 2, >= 0
trigger1 = time%2 = 0
anim = 6007
id = 6007
pos = -10,-35
facing = ifelse((animelem = 4, >= 0),-1,1)
random = 0,50
sprpriority = 0+random%4
vel = vel x*.05,vel y*.1
accel = 0,0
scale = 0.5,0.5
ownpal = 1

[State 0, AfterImage]
type = AfterImage
trigger1 = time = 0
time = 2
palbright = 0,0,0;90,90,90
palcontrast = 192,192,192;220,220,220
;paladd = 32,96,128
;palmul = .64,.64,.64
length = 10
timegap = 1
framegap = 1
trans = add

[State 0, AfterImageTime]
type = AfterImageTime
trigger1 = 1
time = 2

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1
ignorehitpause = 1

[State 100, 1]
type = Explod
trigger1 = !time
Anim = 9100
pos = 0,floor(-pos y)
Id = 9100
sprpriority = 3
removetime = -2
scale=.5,.5
ownpal = 1

[State 1600, golpe]
type = HitDef
trigger1 = AnimElem = 2
attr = A, NA
hitflag = MAFD
guardflag = M
animtype = medium
air.animtype = medium
priority = 5, Hit
damage = 51
pausetime = 4,4
guard.pausetime	= 6,8
sparkno = var(4) := 7001
guard.sparkno = -1
sparkxy = var(52):= 34, var(53):= -82
hitsound = S1, 7
guardsound = S0, 9
ground.type = High
ground.slidetime = 13
ground.hittime = 14
ground.velocity = -.5,-4
air.velocity =  -.5,-4
snap = -5,-3
fall = 1
fall.recovertime =80
envshake.time   = 10
envshake.freq   = 140
envshake.ampl   = -3
envshake.phase  = 90

[State 1600, golpe 2]
type = HitDef
trigger1 = AnimElem = 6
attr = A, NA
hitflag = MAFD
guardflag = M
animtype = medium
air.animtype = medium
priority = 5, Hit
damage = 52
pausetime = 8,8
guard.pausetime	= 6,8
sparkno = var(4) := 7002
guard.sparkno = -1
sparkxy = var(52):= 48, var(53):= 1
hitsound = S2, 0
guardsound = S0, 9
ground.type = High
ground.slidetime = 13
ground.hittime = 14
ground.velocity = -8,8
air.velocity = -8,8
;snap = 15,0
fall = 1
fall.recovertime =80
envshake.time   = 10
envshake.freq   = 140
envshake.ampl   = -3
envshake.phase  = 90

[State 0, aterrizar]
type = ChangeState
trigger1 = animelem = 3, > 0
trigger1 = pos y >= 0
value = 1403
ignorehitpause = 1

;---------------------------------------------------------
;Inverted Kick EX - Ataques
[Statedef 1620]
type = A
movetype = A
physics = N
velset = 0,0
sprpriority = 2
juggle = 6
poweradd = -500
ctrl = 0
anim = 1620

[State 20, sfx ex]
type = PlaySnd
trigger1 = time = 0
value = S15, 3

[State 20, AfterImage]
type = AfterImage
trigger1 = !Time
time = 5
timegap = 1
framegap = 1
length = 5
palbright = ifelse(var(56)>=1,30,0),30,ifelse(var(56)>=0,0,30)
palcontrast = 128,128,128
paladd = -16,-16,-16
palmul = ifelse(var(56)>=1,1.1,.5),1,ifelse(var(56)>=1,.5,1.1)
trans = add
ignorehitpause = 1

[State 20, AfterImageTime]
type = AfterImageTime
trigger1 = MoveType = A
time = 2

[State 20, PalFx]
type = PalFx
trigger1 = MoveType = A
time = 1
add = ifelse(var(56)>=1,30,0),30,ifelse(var(56)>=1,0,30)
mul = ifelse(var(56)>=1,300,200),300,ifelse(var(56)>=1,200,300)
ignorehitpause = 1

[State 1600, Vel]
type = VelSet
trigger1 = animelem = 1
trigger2 = animelem = 2
x =  15
y = -15

[State 0, VelMul]
type = VelSet
trigger1 = animelem = 3
trigger2 = animelem = 4
x = 0
y = 0

[State 0, Turn]
type = Turn
trigger1 = animelem = 4
ignorehitpause = 1

[State 1600, Vel]
type = VelSet
trigger1 = animelem = 6
x =  20
y =  20
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
trigger2 = animelem = 5
value = S2,4
ignorehitpause = 1

[State 100, dash]
type = Explod
triggerall = animelem = 2, >= 0
trigger1 = time%2 = 0
anim = 6007
id = 6007
pos = -10,-35
facing = ifelse((animelem = 4, >= 0),-1,1)
random = 0,50
sprpriority = 0+random%4
vel = vel x*.05,vel y*.1
accel = 0,0
scale = 0.5,0.5
ownpal = 1

[State 0, AfterImage]
type = AfterImage
trigger1 = time = 0
time = 2
palbright = 0,0,0;90,90,90
palcontrast = 192,192,192;220,220,220
;paladd = 32,96,128
;palmul = .64,.64,.64
length = 10
timegap = 1
framegap = 1
trans = add

[State 0, AfterImageTime]
type = AfterImageTime
trigger1 = 1
time = 2

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1
ignorehitpause = 1

[State 100, 1]
type = Explod
trigger1 = !time
Anim = 9100
pos = 0,floor(-pos y)
Id = 9100
sprpriority = 3
removetime = -2
scale=.5,.5
ownpal = 1

[State 1600, golpe]
type = HitDef
trigger1 = AnimElem = 2
attr = A, NA
hitflag = MAFD
guardflag = M
animtype = medium
air.animtype = medium
priority = 5, Hit
damage = 61
pausetime = 4,4
guard.pausetime	= 6,8
sparkno = var(4) := 7001
guard.sparkno = -1
sparkxy = var(52):= 34, var(53):= -82
hitsound = S240, 0
guardsound = S0, 9
ground.type = High
ground.slidetime = 13
ground.hittime = 14
ground.velocity = -.5,-4
air.velocity =  -.5,-4
snap = -5,-3
fall = 1
fall.recovertime =80
envshake.time   = 10
envshake.freq   = 140
envshake.ampl   = -3
envshake.phase  = 90

[State 1600, golpe 2]
type = HitDef
trigger1 = AnimElem = 6, >= 0
attr = A, NA
hitflag = MAFD
guardflag = M
animtype = medium
air.animtype = medium
priority = 5, Hit
damage = 14
pausetime = 8,8
guard.pausetime	= 6,8
sparkno = var(4) := 7002
guard.sparkno = -1
sparkxy = var(52):= 48, var(53):= 1
hitsound = S3, 0
guardsound = S0, 9
ground.type = High
ground.slidetime = 13
ground.hittime = 14
ground.velocity = -8,8
air.velocity = -8,8
snap = 25,15
fall = 1
fall.recovertime =80
envshake.time   = 10
envshake.freq   = 140
envshake.ampl   = -3
envshake.phase  = 90

[State 0, aterrizar]
type = ChangeState
trigger1 = animelem = 3, > 0
trigger1 = pos y >= 0
value = 1403
ignorehitpause = 1

;---------------------------------------------------------
;Eagle Punch A - Salto
[Statedef 1700]
type = A
movetype = A
physics = N
velset = 0,0
sprpriority = 2
juggle = 6
ctrl = 0
anim = 1700

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 2
x = 0
y = -18
ignorehitpause = 1

[State 40, AfterImage]
type = AfterImage
trigger1 = animelem = 2
time = 2
palbright = 0,0,0;90,90,90
palcontrast = 192,192,192;220,220,220
;paladd = 32,96,128
;palmul = .64,.64,.64
length = 5
timegap = 1
framegap = 1
trans = add

[State 40, AfterImageTime]
type = AfterImageTime
trigger1 = 1
time = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = Time = 1
value = S1, 6

[State 0, polvazo]
type = Helper
trigger1 = time = 0
name = "Polvazo"
ID = 61
stateno = 61
pos = 0,0
ownpal = 1
size.xscale = .5
size.yscale = .5

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 2
time = 4
freq = 60
ampl = -4
phase = 90
ignorehitpause = 1

[State 0, ataque]
type = ChangeState
trigger1 = animtime = 0
value = 1701
ignorehitpause = 1

;---------------------------------------------------------
;Eagle Punch A - Ataque
[Statedef 1701]
type = A
movetype = A
physics = S
velset = 0,0
sprpriority = 2
juggle = 6
ctrl = 0
anim = 1701

[State 40, AfterImage]
type = AfterImage
trigger1 = prevstateno != 1700
trigger1 = animelem = 2
time = 2
palbright = 0,0,0;90,90,90
palcontrast = 192,192,192;220,220,220
;paladd = 32,96,128
;palmul = .64,.64,.64
length = 5
timegap = 1
framegap = 1
trans = add

[State 40, AfterImageTime]
type = AfterImageTime
trigger1 = 1
time = 2

[State 0, effect]
type = PlaySnd
trigger1 = animelem = 2
value = S0,4

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 2
trigger2 = animelem = 3
x = 4+(animelem = 3)*14
y = 0
ignorehitpause = 1

[State 100, dash]
type = Explod
triggerall = vel x > 0
trigger1 = time%2 = 0
anim = 6005
id = 6005
pos = -20,-45
random = 0,50
sprpriority = 0+random%4
vel = 1+random%2,0
accel = 0,0
scale = 0.5,0.5
ownpal = 1

[State 1701, golpe]
type = HitDef
trigger1 = AnimElem = 3
attr = A, SA
hitflag = MAF
guardflag	= HA
animtype = heavy
air.animtype = heavy
priority = 5, Hit
damage = 100
pausetime	= 8,8
guard.pausetime = 14,14
sparkno = var(4) := 7002
guard.sparkno = -1
sparkxy = var(52):=50, var(53):=-60
hitsound = S3,0
guardsound = S0,9
ground.type = high
ground.slidetime = 3
ground.hittime  = 0
ground.velocity = -9,-4
air.velocity = -9,-4
fall = 1
fall.recover = 0
id = 1700
getpower = 20,10
givepower = 40,20
envshake.time = 12
envshake.freq = 140
envshake.ampl = -3
envshake.phase = 90

[State 0, finalizacion]
type = ChangeState
trigger1 = animtime = 0
trigger1 = vel x < 3
value = 1702
ignorehitpause = 1

;---------------------------------------------------------
;Eagle Punch - Finalizacion
[Statedef 1702]
type = A
movetype = I
physics = A
ctrl = 0
anim = 1702

[State 0, VelAdd]
type = VelAdd
trigger1 = prevstateno = 1701
trigger1 = !time
y = 4.5

[State 0, camara lenta]
type = Pause
triggerall = prevstateno = 1721
triggerall = numtarget(1720)
trigger1 = !winko
trigger1 = timemod = 1,0
time = 1
movetime = 0

[State 0, ScreenBound]
type = ScreenBound
triggerall = prevstateno = 1721
triggerall = numtarget(1720)
trigger1 = movehit
value = 0
ignorehitpause = 1

;---------------------------------------------------------
;Eagle Punch B - Salto
[Statedef 1710]
type = A
movetype = A
physics = N
velset = 0,0
sprpriority = 2
juggle = 6
ctrl = 0
anim = 1700

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 2
x = 0
y = -10
ignorehitpause = 1

[State 40, AfterImage]
type = AfterImage
trigger1 = animelem = 2
time = 2
palbright = 0,0,0;90,90,90
palcontrast = 192,192,192;220,220,220
;paladd = 32,96,128
;palmul = .64,.64,.64
length = 10
timegap = 1
framegap = 1
trans = add

[State 40, AfterImageTime]
type = AfterImageTime
trigger1 = 1
time = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = Time = 1
value = S1, 6

[State 0, polvazo]
type = Helper
trigger1 = time = 0
name = "Polvazo"
ID = 61
stateno = 61
pos = 0,0
ownpal = 1
size.xscale = .5
size.yscale = .5

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 2
time = 4
freq = 60
ampl = -4
phase = 90
ignorehitpause = 1

[State 0, ataque]
type = ChangeState
trigger1 = animtime = 0
value = 1711
ignorehitpause = 1

;---------------------------------------------------------
;Eagle Punch B - Ataque
[Statedef 1711]
type = A
movetype = A
physics = S
velset = 0,0
sprpriority = 2
juggle = 6
ctrl = 0
anim = 1701

[State 40, AfterImage]
type = AfterImage
trigger1 = prevstateno != 1710
trigger1 = animelem = 2
time = 2
palbright = 0,0,0;90,90,90
palcontrast = 192,192,192;220,220,220
;paladd = 32,96,128
;palmul = .64,.64,.64
length = 5
timegap = 1
framegap = 1
trans = add

[State 40, AfterImageTime]
type = AfterImageTime
trigger1 = 1
time = 2

[State 0, effect]
type = PlaySnd
trigger1 = animelem = 2
value = S2,1

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 2
trigger2 = animelem = 3
x = 6+(animelem = 3)*22
y = 0
ignorehitpause = 1

[State 100, dash]
type = Explod
triggerall = vel x > 0
trigger1 = time%2 = 0
anim = 6005
id = 6005
pos = -20,-45
random = 0,50
sprpriority = 0+random%4
vel = 1+random%2,0
accel = 0,0
scale = 0.5,0.5
ownpal = 1

[State 1701, golpe]
type = HitDef
trigger1 = AnimElem = 3
attr = A, SA
hitflag = MAF
guardflag	= HA
animtype = heavy
air.animtype = heavy
priority = 5, Hit
damage = 121
pausetime	= 14,14
guard.pausetime = 14,14
sparkno = var(4) := 7002
guard.sparkno = -1
sparkxy = var(52):=50, var(53):=-60
hitsound = S240,0
guardsound = S0,9
ground.type = high
ground.slidetime = 3
ground.hittime  = 0
ground.velocity = -14,-4.5
air.velocity = -14,-4.5
fall = 1
fall.recover = 0
id = 1710
p2stateno = 95000
getpower = 20,10
givepower = 40,20
envshake.time = 17
envshake.freq = 140
envshake.ampl = -4
envshake.phase = 90

[State 0, finalizacion]
type = ChangeState
trigger1 = animtime = 0
trigger1 = vel x < 3
value = 1702
ignorehitpause = 1

;---------------------------------------------------------
;Eagle Punch EX - Salto
[Statedef 1720]
type = A
movetype = A
physics = N
velset = 0,0
sprpriority = 2
poweradd = -500
juggle = 6
ctrl = 0
anim = 1700

[State 20, sfx ex]
type = PlaySnd
trigger1 = time = 0
value = S15, 3

[State 20, AfterImage]
type = AfterImage
trigger1 = !Time
time = 2
timegap = 1
framegap = 1
length = 5
palbright = ifelse(var(56)>=1,30,0),30,ifelse(var(56)>=0,0,30)
palcontrast = 128,128,128
paladd = -16,-16,-16
palmul = ifelse(var(56)>=1,1.1,.5),1,ifelse(var(56)>=1,.5,1.1)
trans = add
ignorehitpause = 1

[State 40, AfterImageTime]
type = AfterImageTime
trigger1 = 1
time = 2

[State 20, PalFx]
type = PalFx
trigger1 = MoveType = A
time = 1
add = ifelse(var(56)>=1,30,0),30,ifelse(var(56)>=1,0,30)
mul = ifelse(var(56)>=1,300,200),300,ifelse(var(56)>=1,200,300)
ignorehitpause = 1

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 2
x = 0
y = -15
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = Time = 1
value = S1, 6

[State 0, polvazo]
type = Helper
trigger1 = time = 0
name = "Polvazo"
ID = 61
stateno = 61
pos = 0,0
ownpal = 1
size.xscale = .5
size.yscale = .5

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 2
time = 8
freq = 60
ampl = -6
phase = 90
ignorehitpause = 1

[State 0, ataque]
type = ChangeState
trigger1 = animtime = 0
value = 1721
ignorehitpause = 1

;---------------------------------------------------------
;Eagle Punch EX - Ataque
[Statedef 1721]
type = A
movetype = A
physics = S
velset = 0,0
sprpriority = 2
poweradd = 0-(prevstateno!=1720)*500
juggle = 6
ctrl = 0
anim = 1701

[State 20, sfx ex]
type = PlaySnd
trigger1 = prevstateno != 1720
trigger1 = !time
value = S15, 3

[State 20, AfterImage]
type = AfterImage
trigger1 = prevstateno != 1720
trigger1 = !Time
time = 2
timegap = 1
framegap = 1
length = 5
palbright = ifelse(var(56)>=1,30,0),30,ifelse(var(56)>=0,0,30)
palcontrast = 128,128,128
paladd = -16,-16,-16
palmul = ifelse(var(56)>=1,1.1,.5),1,ifelse(var(56)>=1,.5,1.1)
trans = add
ignorehitpause = 1

[State 40, AfterImageTime]
type = AfterImageTime
trigger1 = 1
time = 2

[State 20, PalFx]
type = PalFx
trigger1 = MoveType = A
time = 1
add = ifelse(var(56)>=1,30,0),30,ifelse(var(56)>=1,0,30)
mul = ifelse(var(56)>=1,300,200),300,ifelse(var(56)>=1,200,300)
ignorehitpause = 1

[State 40, AfterImageTime]
type = AfterImageTime
trigger1 = 1
time = 2

[State 0, effect]
type = PlaySnd
trigger1 = animelem = 2
value = S2,1

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 2
trigger2 = animelem = 3
x = 8+(animelem = 3)*30
y = 0
ignorehitpause = 1

[State 100, dash]
type = Explod
triggerall = vel x > 0
trigger1 = time%2 = 0
anim = 6005
id = 6005
pos = -20,-45
random = 0,50
sprpriority = 0+random%4
vel = 1+random%2,0
accel = 0,0
scale = 0.5,0.5
ownpal = 1

[State 1701, golpe]
type = HitDef
trigger1 = AnimElem = 3
attr = A, SA
hitflag = MAF
guardflag	= HA
animtype = heavy
air.animtype = heavy
priority = 5, Hit
damage = 180
pausetime	= 14,14
guard.pausetime = 14,14
sparkno = var(4) := 7002
guard.sparkno = -1
sparkxy = var(52):=50, var(53):=-60
hitsound = S241,0
guardsound = S0,9
ground.type = high
ground.slidetime = 3
ground.hittime  = 0
ground.velocity = -14,-4.5
air.velocity = -14,-4.5
fall = 1
fall.recover = 0
id = 1720
p2stateno = 95000
getpower = 20,10
givepower = 40,20
envshake.time = 17
envshake.freq = 140
envshake.ampl = -4
envshake.phase = 90

[State 0, desenfoque]
type = ScreenBound
triggerall = numtarget(1720)
trigger1 = movehit
value = 0
ignorehitpause = 1

[State 0, camara lenta]
type = Pause
triggerall = numtarget(1720)
trigger1 = !winko
trigger1 = movehit
trigger1 = timemod = 1,0
time = 1
movetime = 0

[State 0, finalizacion]
type = ChangeState
trigger1 = animtime = 0
trigger1 = vel x < 3
value = 1702
ignorehitpause = 1

;--------------------------------------------------------------------------------------------------
;Fireball
[Statedef 2000]
type = S
movetype = A
physics = S
velset = 0,0
juggle = 4
ctrl = 0
anim = 2000+random%2
poweradd = -150

[State 0, reset]
type = VarSet
trigger1 = animelem = 2
v = 33  
value = 0

[State 2000, Helper]
type = Helper
trigger1 = animelem = 2
name = "fireball"
pos = 30+ifelse(anim=2000,12,0),-62
postype = p1
facing = 1
stateno = 2010
id = 2010
keyctrl = 0
ownpal = 1
size.xscale = 0.35
size.yscale = 0.35

[State 2000, effect]
type = Explod
trigger1 = animelem = 2
anim = 9550+(var(56)>=1)
pos = 30+ifelse(anim=2000,12,0),-62
bindtime = -1
scale = .5,.5
sprpriority = 4
ownpal = 1
removeongethit = 1

[State 2000, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S11, 6
channel = 3

[State 2000, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------------------------------------------------------------
;Fireball 2
[Statedef 2001]
type = S
movetype = A
physics =S
velset = 0,0
juggle = 4
ctrl = 0
anim = ifelse(anim=2000,2001,2000)
poweradd = -150

[State 0, contar]
type = VarAdd
trigger1 = animelem = 1
v = 33   
value = 1 

[State 2001, Helper]
type = Helper
trigger1 = animelem = 2
name = "fireball"
pos = 30+ifelse(anim=2000,12,0),-62
postype = p1
facing = 1
stateno = 2010
;id = 2010
keyctrl = 0
ownpal = 1
size.xscale = 0.35
size.yscale = 0.35

[State 2000, effect]
type = Explod
trigger1 = animelem = 2
anim = 9550+(var(56)>=1)
pos = 30+ifelse(anim=2000,12,0),-62
bindtime = -1
scale = .5,.5
sprpriority = 4
ownpal = 1
removeongethit = 1

[State 2000, fireball]
type = PlaySnd
trigger1 = animelem = 2
value = S11, 6
channel = 3

[State 2000, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------
;Fireball - Projectil
[Statedef 2010]
type = A
movetype = A
physics = N
velset = 0,0
sprpriority = 2
juggle = 6
ctrl = 0
anim = 9500+(root, var(56)>=1)

[State 2000, spark]
type = Helper
trigger1 = movecontact = 1 && numtarget
trigger1 = !(target,hitshakeover)
name = "Hit Spark"
ID = 7002
stateno = 7002
pos = 0,0
postype = p1   ;p2,front,back,left,right
facing = 1
ownpal = 1
supermovetime = 65535
pausemovetime = 65535
sprpriority = 5
ignorehitpause = 1
size.yscale = .5
size.xscale = .5
persistent = 0

[State 0, ]
type = VelAdd
trigger1 = time >= 0
x = 0.6

[State 0, VarRandom]
type = VarRandom
trigger1 = time = 0
v = 1
range = -1,1

[State 0, ]
type = VelSet
trigger1 = time = 4
trigger1 = var(1) = -1
y = -0.75

[State 0, ]
type = VelSet
trigger1 = time = 4
trigger1 = var(1) = 1
y = 0.75

[State 8000, particuas]
type = Explod
trigger1 = random < 333
trigger1 = gametime
trigger1 = numexplod(8000)<8
bindtime = 1
anim = 8000+(root,var(56)<=0)
ID = 8000
vel = vel x*.05,vel y*.1
random = 4,10;0,0
supermovetime = -1
pausemovetime = -1
scale = .5,.5
sprpriority = -5+random%10
vel = vel x*.05,vel y*.1
random = 4,10;0,0

[State 7020, ModifyExplod]
type = Null;ModifyExplod
trigger1 = NumExplod(8000)
ID = 8000
trans = addalpha
alpha = 256-16*Time,256

[State 2010,	HitDef]
type		= HitDef
trigger1		= 1
attr		= S, NP
hitflag		= MAF
guardflag		= MA
animtype		= Hard
priority		= 7, Hit
damage		= 27,5
pausetime		= 1,4
guard.pausetime	= 1,4
sparkno = -1
guard.sparkno = -1
sparkxy		= 0,0
hitsound		= S0,5
guardsound	= S0,9
ground.type	= High
air.type		= high
ground.slidetime	= 25
ground.hittime	= 25
air.hittime	= 25
ground.velocity	= -3
guard.velocity	= -3
air.velocity	= -8,-3.5
airguard.velocity	= -8,-3.5
ground.cornerpush.veloff = 0
down.velocity	= -1,-2
getpower		= 0
givepower		= 0
Palfx.time 	= 20
palfx.add 	= ifelse((root,var(56)>=1),256,192),192,ifelse((root,var(56)>=1),192,256)
palfx.sinadd 	= ifelse((root,var(56)>=1),200,180),180,ifelse((root,var(56)>=1),180,200),15
palfx.mul 	= ifelse((root,var(56)>=1),256,160),160,ifelse((root,var(56)>=1),160,256)
envshake.time 	= 12
envshake.freq 	= 120
envshake.ampl 	= -4
persistent	= 0

[State 2010, 1]
type = AfterImage
trigger1 = time = 0
time = -1
palbright = 0,0,0;90,90,90
palcontrast = 192,192,192
paladd = ifelse((root,var(56)>=1),25,10),25,ifelse((root,var(56)>=1),10,25)
palmul = ifelse((root, var(56)>=1),.75,.65),.65,ifelse((root,var(56)>=1),.65,.75)
length = 15
timegap = 1
framegap = 1
trans = add

[State 2010, noshadow]
type = AssertSpecial
trigger1 = 1
flag = NoShadow
ignorehitpause = 1

[State 2010, activar colicion]
type = HitOverride
trigger1 = 1 
attr = SCA,AP
slot = 0
stateno = 2011
time = 1
ignorehitpause = 1

[State 2010, golpeado por projectiles]
type = HitBy
trigger1 = 1  
value = SCA,AP
time = 1
ignorehitpause = 1

[State 2010, 4]
type =  ChangeState
trigger1 = movecontact = 1
trigger2 = frontedgebodydist < -20
value =  2011

;---------------------------------------------------------
;Fireball - Projectil (Explocion)
[Statedef 2011]
type = A
movetype = A
physics = N
velset = 0,0
sprpriority = 2
juggle = 6
ctrl = 0
anim = 9600+(root, var(56)>=1)

[State 9500, 1]
type = AfterImage
trigger1 = time = 0
time = 1

[State 9500, noshadow]
type = AssertSpecial
trigger1 = 1
flag = NoShadow
ignorehitpause = 1

[State 9500, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0

;--------------------------------------------------------------------------------------------------
;Air Fireball 1
[Statedef 2050]
type = A
movetype = A
physics =N
;velset = 0,0
juggle = 4
ctrl = 0
anim = 2050
poweradd = -150

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 33  
value = 0

[State 2000, Helper]
type = Helper
trigger1 = animelem = 2
name = "fireball"
pos = 40,-43
postype = p1
facing = 1
stateno = 2060
id = 2060
keyctrl = 0
ownpal = 1
size.xscale = 0.3
size.yscale = 0.3
supermovetime = 200
pausemovetime = 200

[State 2000, effect]
type = Explod
trigger1 = animelem = 2
anim = 9560+(var(56)>=1)
pos = 40,-43
bindtime = -1
scale = .35,.35
sprpriority = 4
ownpal = 1
removeongethit = 1

[State 0, VelMul]
type = VelMul
trigger1 =  time = 0
x = 0.075
y = 0.065

[State 900, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S11, 6
channel = 3

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0 
value = 50
ctrl = 1

;--------------------------------------------------------------------------------------------------
;Air Fireball 2
[Statedef 2051]
type = A
movetype = A
physics =N
;velset = 0,0
juggle = 4
ctrl = 0
anim = 2051
poweradd = -150

[State 0, VarAdd]
type = VarAdd
trigger1 = animelem = 1
v = 33
value = 1

[State 2000, Helper]
type = Helper
trigger1 = animelem = 1
name = "fireball"
pos = 40,-43
postype = p1
facing = 1
stateno = 2060
id = 2060
keyctrl = 0
ownpal = 1
size.xscale = 0.35
size.yscale = 0.35
supermovetime = 200
pausemovetime = 200

[State 2000, effect]
type = Explod
trigger1 = animelem = 1
anim = 9560+(var(56)>=1)
pos = 40,-43
bindtime = -1
scale = .5,.5
sprpriority = 4
ownpal = 1
removeongethit = 1

[State 0, VelMul]
type = VelMul
trigger1 =  time = 0
x = 0.075
y = 0.065

[State 900, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S11, 6
channel = 3

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0 
value = 50
ctrl = 1

;---------------------------------------------------------
;Air Fireball - Projectil
[Statedef 2060]
type = A
movetype = A
physics = N
velset = 0,0
sprpriority = 2
juggle = 6
ctrl = 0
anim = 9500+(root, var(56)>=1)

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = -45
scale = 1,1
ignorehitpause = 1
;persistent = 1

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 2000, spark]
type = Helper
trigger1 = movecontact = 1 && numtarget
trigger1 = !(target,hitshakeover)
name = "Hit Spark"
ID = 7002
stateno = 7002
pos = 0,0
postype = p1   ;p2,front,back,left,right
facing = 1
ownpal = 1
supermovetime = 65535
pausemovetime = 65535
sprpriority = 5
ignorehitpause = 1
size.yscale = .5
size.xscale = .5
persistent = 0

[State 0, ]
type = VelAdd
trigger1 = time >= 0
x = 0.6
y = 0.6

[State 0, VarRandom]
type = VarRandom
trigger1 = time = 0
v = 1
range = -1,1

[State 0, ]
type = Veladd
trigger1 = time = 4
trigger1 = var(1) = -1
x = -0.75

[State 0, ]
type = VelSet
trigger1 = time = 4
trigger1 = var(1) = 1
x = 0.75

[State 8000, particuas]
type = Explod
trigger1 = random < 333
trigger1 = gametime
trigger1 = numexplod(8000)<8
bindtime = 1
anim = 8000+(root,var(56)<=0)
ID = 8000
vel = vel x*.05,vel y*.1
random = 4,10;0,0
supermovetime = -1
pausemovetime = -1
scale = .5,.5
sprpriority = -5+random%10
vel = vel x*.05,vel y*.1
random = 4,10;0,0

[State 7020, ModifyExplod]
type = Null;ModifyExplod
trigger1 = NumExplod(8000)
ID = 8000
trans = addalpha
alpha = 256-16*Time,256

[State 9500:	HitDef]
type		= HitDef
trigger1		= 1
attr		= S, NP
hitflag		= MAFD
guardflag		= MA
animtype		= Hard
priority		= 7, Hit
damage		= 27,5
pausetime		= 1,4
guard.pausetime	= 1,4
sparkno = -1
guard.sparkno = -1
sparkxy = 0,0
hitsound = S0,5
guardsound	= S0,9
ground.type	= High
air.type		= high
ground.slidetime	= 25
ground.hittime	= 25
air.hittime	= 25
ground.velocity	= -3
guard.velocity	= -3
air.velocity	= -1,1
airguard.velocity	= -2,2
ground.cornerpush.veloff = 0
down.velocity	= -1,-2
getpower		= 0
givepower		= 0
Palfx.time 	= 20
palfx.add 	= ifelse((root,var(56)>=1),256,192),192,ifelse((root,var(56)>=1),192,256)
palfx.sinadd 	= ifelse((root,var(56)>=1),200,180),180,ifelse((root,var(56)>=1),180,200),15
palfx.mul 	= ifelse((root,var(56)>=1),256,160),160,ifelse((root,var(56)>=1),160,256)
envshake.time 	= 12
envshake.freq 	= 120
envshake.ampl 	= -4
persistent	= 0

[State 2010, 1]
type = AfterImage
trigger1 = time = 0
time = -1
palbright = 0,0,0;90,90,90
palcontrast = 192,192,192
paladd = ifelse((root,var(56)>=1),25,10),25,ifelse((root,var(56)>=1),10,25)
palmul = ifelse((root, var(56)>=1),.75,.65),.65,ifelse((root,var(56)>=1),.65,.75)
length = 15
timegap = 1
framegap = 1
trans = add

[State 2010, noshadow]
type = AssertSpecial
trigger1 = 1
flag = NoShadow
ignorehitpause = 1

[State 2010, activar colicion]
type = HitOverride
trigger1 = 1 
attr = SCA,AP
slot = 0
stateno = 2061
time = 1
ignorehitpause = 1

[State 2010, golpeado por projectiles]
type = HitBy
trigger1 = 1  
value = SCA,AP
time = 1
ignorehitpause = 1

[State 2010, 4]
type =  ChangeState
trigger1 = movecontact = 1
trigger2 = frontedgebodydist < -20
trigger3 = pos y > 0
value =  2061

;---------------------------------------------------------
;Air Fireball - Projectil (Explocion)
[Statedef 2061]
type = A
movetype = A
physics = N
velset = 0,0
sprpriority = 2
juggle = 6
ctrl = 0
anim = 9600+(root, var(56)>=1)

[State 0, PosSet]
type = PosSet
trigger1 = !time
trigger1 = pos y > 0
y = 0
ignorehitpause = 1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = -45
scale = 1,1
ignorehitpause = 1

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add
ignorehitpause = 1

[State 9500, 1]
type = AfterImage
trigger1 = time = 0
time = 1
ignorehitpause = 1

[State 9500, noshadow]
type = AssertSpecial
trigger1 = 1
flag = NoShadow
ignorehitpause = 1

[State 0, waveground]
type = Explod
trigger1 = !time
trigger1 = pos y >= -20
anim = 9120
ID = 9120
pos = 0,floor(-pos y)
supermovetime = -1
pausemovetime = -1
scale = .4,.4
sprpriority = 3
ownpal = 11
ignorehitpause = 1

[State 9500, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0
ignorehitpause = 1

;--------------------------------------------------------------------------------------------------
;Banshee Blast - Carga
[Statedef 2100]
type = S
movetype = A
physics = S
velset = 0,0
juggle = 4
ctrl = 0
anim = 2100
poweradd = -500
sprpriority = 2

[State 0, pause combo]
type = Pause
trigger1 = !time
trigger1 = p2movetype = H
time = 20
endcmdbuftime = 20
movetime = 20
pausebg = 0
ignorehitpause = 1

[State 0, golpe]
type = HitDef
trigger1 = animelem = 3
attr = S,NA  
hitflag = MAF        
guardflag = MA     
animtype = light     
priority = 4,Hit
damage = 10,2
pausetime = 0,0
guard.pausetime = 0,0
sparkno = var(4) := 7000
guard.sparkno = -1
sparkxy = var(52):=30,var(53):=-54
hitsound = S1,7
guardsound = S0,9
ground.type = Low;High  
ground.hittime = 25
air.hittime = 25
ground.slidetime = 25
ground.velocity = -30,0
guard.velocity = -40
air.velocity = -30,0
airguard.velocity = -11,-1
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
;id = 2100
kill = 0
getpower = 0,0
givepower = 10,5
ignorehitpause = 1
;persistent = 

[State 0, Toma esto!]
type = PlaySnd
trigger1 = animelem = 2
trigger1 = random < 333
value = S13,0
channel = 0
ignorehitpause = 1

[State 0, rafagita xD]
type = PlaySnd
trigger1 = animelem = 3
value = S2,5

[State 0, effect fast]
type = Explod
trigger1 = animelem = 2, = 8
trigger2 = animelem = 4
trigger3 = animelem = 4, = 3
anim = 6007
ID = 6007
pos = 15,-62
facing = -1
vel = .3,.3
random = 10,5
scale = .25,.25
sprpriority = 4
ownpal = 1
removeongethit = 1
ignorehitpause = 1
pausemovetime = 20

[State 0, hand trast]
type = ModifyExplod
trigger1 = animelem = 4 , <= 15
ID = 2101
trans = addalpha
alpha = 256-ceil(animelemtime(4)*25.6),256

[State 0, hand]
type = Explod
trigger1 = animelem = 4
anim = 2105
ID = 2105
pos = 28,-56
bindtime = -1
removetime = 10
supermovetime = 1
pausemovetime = 1
scale = 0.5,0.5
sprpriority = 4
ownpal = 1
removeongethit = 1
pausemovetime = 20

[State 0, trast]
type = ModifyExplod
trigger1 = animelem = 4 , <= 15
ID = 2100
trans = addalpha
alpha = time*16,256

[State 0, trast]
type = ModifyExplod
trigger1 = animelem = 4 , <= 15
ID = 2101
trans = addalpha
alpha = ceil(animelemtime(4)*25.6),256

[State 0, trast]
type = ModifyExplod
trigger1 = animelem = 4 , <= 15
ID = 2102
trans = addalpha
alpha = ceil(animelemtime(4)*25.6),256

[State 0, trast]
type = ModifyExplod
trigger1 = animelem = 4 , <= 15
ID = 2103
trans = addalpha
alpha = ceil(animelemtime(4)*25.6),256

[State 0, trast]
type = ModifyExplod
trigger1 = animelem = 3 , <= 15
ID = 2104
trans = addalpha
alpha = ceil(animelemtime(4)*25.6),256

[State 0, ball]
type = Explod
trigger1 = animelem = 3
anim = 8013
ID = 2100
pos = 31,-61
bindtime = -1
removetime = -1
supermovetime = 1
pausemovetime = 1
scale = 0.1,0.1
sprpriority = 3
ownpal = 1
removeongethit = 1
pausemovetime = 20

[State 0, ball]
type = Explod
trigger1 = animelem = 3
anim = 8013
ID = 2101
pos = 32,-60
bindtime = -1
removetime = -1
supermovetime = 1
pausemovetime = 1
scale = 0.1,0.1
sprpriority = 3
ownpal = 1
removeongethit = 1
pausemovetime = 20

[State 0, ball]
type = Explod
trigger1 = animelem = 3
anim = 8013
ID = 2102
pos = 32,-58
bindtime = -1
removetime = -1
supermovetime = 1
pausemovetime = 1
scale = 0.1,0.1
sprpriority = 3
ownpal = 1
removeongethit = 1
pausemovetime = 20

[State 0, ball]
type = Explod
trigger1 = animelem = 3
anim = 8013
ID = 2103
pos = 32,-56
bindtime = -1
removetime = -1
supermovetime = 1
pausemovetime = 1
scale = 0.1,0.1
sprpriority = 3
ownpal = 1
removeongethit = 1
pausemovetime = 20

[State 0, ball]
type = Explod
trigger1 = animelem = 3
anim = 8013
ID = 2104
pos = 32,-54
bindtime = -1
removetime = -1
supermovetime = 1
pausemovetime = 1
scale = 0.1,0.1
sprpriority = 3
ownpal = 1
removeongethit = 1
pausemovetime = 20

[State 900, sfx]
type = PlaySnd
trigger1 = animelem = 3
value = S2300, 0

[State 2100, sfx]
type = PlaySnd
trigger1 = animelem = 3
value = S2300, 1
channel = 3

[State 0, reset daño]
type = VarSet
trigger1 = time = 0
v = 8
value = -100

[State 0, acomular daño]
type = VarAdd
trigger1 = animelem = 4, > 5
v = 8
value = -1

[State 2100, lanzar]
type = ChangeState
triggerall = animelem = 4, >= 9
trigger1 = animtime = 0
trigger2 = var(59) <= 0
trigger2 = command != "holdz"
value =  2101
ctrl = 1

;--------------------------------------------------------------------------------------------------
;Banshee Blast - Lanzamiento
[Statedef 2101]
type = S
movetype = A
physics = S
velset = 0,0
juggle = 4
ctrl = 0
anim = 2101

[State 0, pause combo]
type = Pause
trigger1 = !time
trigger1 = p2movetype = H
time = 15
endcmdbuftime = 15
movetime = 15
pausebg = 0
ignorehitpause = 1

[State 0, Turn]
type = Turn
trigger1 = time = 0
trigger1 = p2bodydist x < -5

[State 0, AfterImage]
type = AfterImage
trigger1 = time = 0
time = 34
palbright = 30,30,30
palcontrast = 120,120,120
paladd = 32,32,32
palmul = .64,.64,.64
length = 5
timegap = 1
framegap = 1
trans = add1

[State 0, fx corte]
type = Explod
trigger1 = animelem = 2, = 6
anim = 7302
ID = 7302
pos = 25,-55
bindtime = -1
supermovetime = 1
pausemovetime = 1
scale = 0.5,0.25
sprpriority = -1
ownpal = 1
removeongethit = 1
pausemovetime = 15

[State 0, rafaga]
type = PlaySnd
trigger1 = animelem = 2
value = S2,5

[State 0, anim 2]
type = ModifyExplod
trigger1 = animelem = 1
ID = 2100
pos = -18,-52
postype = p1
trans = add

[State 0, anim 2]
type = ModifyExplod
trigger1 = animelem = 1
ID = 2101
pos = -18,-53
trans = add

[State 0, anim 2]
type = ModifyExplod
trigger1 = animelem = 1
ID = 2102
pos = -17,-54
trans = add

[State 0, anim 2]
type = ModifyExplod
trigger1 = animelem = 1
ID = 2103
pos = -17,-55
trans = add

[State 0, anim 2]
type = ModifyExplod
trigger1 = animelem = 1
ID = 2104
pos = -16,-56
trans = add

;---------------------
[State 0, anim 2]
type = ModifyExplod
trigger1 = animelem = 2
ID = 2100
pos = -27,-55
trans = add

[State 0, anim 32]
type = ModifyExplod
trigger1 = animelem = 2
ID = 2101
pos = -27,-56
postype = p1
trans = add

[State 0, anim 2]
type = ModifyExplod
trigger1 = animelem = 2
ID = 2102
pos = -27,-57
postype = p1
trans = add

[State 0, anim 2]
type = ModifyExplod
trigger1 = animelem = 2
ID = 2103
pos = -27,-58
postype = p1
trans = add

[State 0, anim 2]
type = ModifyExplod
trigger1 = animelem = 2
ID = 2104
pos = -23,-62
postype = p1
trans = add

;---------------------
[State 0, anim 3]
type = ModifyExplod
trigger1 = animelem = 3
ID = 2100
pos = 10,-70
postype = p1
trans = add

[State 0, anim 3]
type = ModifyExplod
trigger1 = animelem = 3
ID = 2101
pos = 10,-70
postype = p1
trans = add

[State 0, anim 3]
type = ModifyExplod
trigger1 = animelem = 3
ID = 2102
pos = 10,-71
postype = p1
trans = add

[State 0, anim 3]
type = ModifyExplod
trigger1 = animelem = 3
ID = 2103
pos = 10,-71
postype = p1
trans = add

[State 0, anim 3]
type = ModifyExplod
trigger1 = animelem = 3
ID = 2104
pos = 20,-78
postype = p1
trans = add

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = animelem = 4
id = 2100

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = animelem = 4
id = 2101

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = animelem = 4
id = 2102

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = animelem = 4
id = 2103

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = animelem = 4
id = 2104

[State 0, sfx]
type = PlaySnd
trigger1 = animelem = 4, >= 1
trigger1 = animelem = 4, <= 5
value = S10,2
channel = 3

[State 2101, Balls]
type = Helper
trigger1 = animelem = 4, >= 1
trigger1 = animelem = 4, <= 5
name = "Banshee Blast Ball"
id = 2110+animelemtime(4)
stateno = 2110
pos = 62,-54+animelemtime(4)*2;random%5
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
pausemovetime = 15
size.xscale = 0.1
size.yscale = 0.1

[State 0, finalizar]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;-----------------------------------------------------------------
;Banshee Blast - Projectil
[Statedef 2110]
type = A
movetype = A
physics = N
velset = 0,0
ctrl = 0
anim = 2110

[State 0, fwd]
type = VelSet
trigger1 = ishelper(2111)
trigger1 = time >= 5
trigger2 = ishelper(2112)
trigger2 = time >= 4
trigger3 = ishelper(2113)
trigger3 = time >= 3
trigger4 = ishelper(2114)
trigger4 = time >= 2
trigger5 = ishelper(2115)
trigger5 = time >= 1
x = 7

[State 0, accelearación]
type = Null;VelAdd
trigger1 = ishelper(2111)
trigger1 = time >= 11
trigger2 = ishelper(2112)
trigger2 = time >= 10
trigger3 = ishelper(2113)
trigger3 = time >= 9
trigger4 = ishelper(2114)
trigger4 = time >= 8
trigger5 = ishelper(2115)
trigger5 = time >= 7
x = 0.1
;--------------------------------
[State 0, ball 1 up]
type = VelSet
triggerall = ishelper(2111)
trigger1 = time < 1
y = -4.5

[State 0, ball 1 falling]
type = VelAdd
triggerall = ishelper(2111)
trigger1 = time > 7
trigger1 = vel y < 0
trigger2 = time > 7
trigger2 = p2bodydist x < 75
y = 0.5

;--------------------------------
[State 0, ball 2 upping]
type = VelSet
triggerall = ishelper(2112)
trigger1 = time < 2
y = -3

[State 0, ball 2 falling]
type = VelAdd
triggerall = ishelper(2112)
trigger1 = time > 8
trigger1 = vel y < 0
y = 0.5

[State 0, ball 2 upping again]
type = VelAdd
triggerall = ishelper(2112)
trigger1 = time > 8
trigger1 = p2bodydist x < 75
y = 0.25

;--------------------------------
[State 0, ball 4 downing]
type = VelSet
triggerall = ishelper(2114)
trigger1 = time < 4
y = 3

[State 0, ball 4 upping again]
type = VelAdd
triggerall = ishelper(2114)
trigger1 = time > 10
trigger1 = vel y > 0
trigger1 = p2bodydist x >= 75
y = -0.5

[State 0, ball 4 upping again]
type = VelAdd
triggerall = ishelper(2114)
trigger1 = time > 10
trigger1 = p2bodydist x < 75
y = -0.25

;--------------------------------
[State 0, ball 5 downing]
type = VelSet
triggerall = ishelper(2115)
trigger1 = time < 5
y = 4.5

[State 0, ball 5 downing again]
type = VelAdd
triggerall = ishelper(2115)
trigger1 = time > 11
trigger1 = vel y > 0
trigger2 = time > 11
trigger2 = p2bodydist x < 75
y = -0.5
;--------------------------------

[State 0, ParentVarAdd]
type = Null;ParentVarAdd
trigger1 = movehit
v = 33
value = 30

[State 2110, golpe bajo y medio]
type = HitDef
triggerall = time = 0
trigger1 = ishelper(2113)
trigger2 = ishelper(2114)
trigger3 = ishelper(2115)
attr		= S, NP
hitflag		= MAF
guardflag		= MA
animtype		= Hard
priority		= 7, Hit
damage		= 30,5
pausetime		= 1,4
guard.pausetime	= 1,4
sparkno = -1
guard.sparkno = -1
sparkxy		= 0,0
hitsound		= S6,0
guardsound	= S6,0
ground.type	= low
air.type		= low
ground.slidetime	= 40;(parent, var(33))
ground.hittime	= 40;(parent, var(33))
air.hittime	= 40;(parent, var(33))
ground.velocity	= -3
guard.velocity	= -3
air.velocity	= -8,-3.5
airguard.velocity	= -8,-3.5
ground.cornerpush.veloff = 0
down.velocity = -1,-2
getpower = 0
givepower	= (root,var(8)),(root,var(8)/2)
Palfx.time = 5
palfx.add = 192,192,256
palfx.sinadd = 180,180,200,15
palfx.mul = 160,160,256
envshake.time = 12
envshake.freq = 120
envshake.ampl = -4
persistent = 0
ID = 2110

[State 2110,	golpe alto]
type		= HitDef
triggerall = time = 0
trigger1 = ishelper(2111)
trigger2 = ishelper(2112)
attr		= S, NP
hitflag		= MAF
guardflag		= MA
getpower = 0
givepower	= (root,var(8)),(root,var(8)/2)
animtype		= Hard
priority		= 7, Hit
damage		= 30,5
pausetime		= 1,4
guard.pausetime	= 1,4
sparkno = -1
guard.sparkno = -1
sparkxy		= 0,0
hitsound		= S6,0
guardsound	= S6,0
ground.type	= high
air.type		= high
ground.slidetime	= 50+(parent, var(8))
ground.hittime	= 50+(parent, var(8))
air.hittime	= 50+(parent, var(8))
ground.velocity	= -3
guard.velocity	= -3
air.velocity	= -8,-3.5
airguard.velocity	= -8,-3.5
ground.cornerpush.veloff = 0
down.velocity = -1,-2
Palfx.time = 5
palfx.add = 192,192,256
palfx.sinadd = 180,180,200,15
palfx.mul = 160,160,256
envshake.time = 12
envshake.freq = 120
envshake.ampl = -4
persistent = 0 
ID = 2110

[State 9500, noshadow]
type = AssertSpecial
trigger1 = 1
flag = NoShadow
ignorehitpause = 1

[State 0, golpeado por projectiles]
type = HitBy
trigger1 = 1  
value = SCA,AP
time = 1
ignorehitpause = 1

[State 0, activar colicion]
type = HitOverride
trigger1 = 1 
attr = SCA,AP
slot = 0
stateno = 2111
time = 1
ignorehitpause = 1

[State 0, explotar]
type =  ChangeState
trigger1 = movecontact = 1
trigger2 = frontedgebodydist < 0
trigger3 = pos y >= 40
;trigger4 = !ishelper(2113)
;trigger4 = pos y = [var(2)-2,var(2)+2]
value =  2111
ctrl= 1

;-----------------------------------------------------------------
;Banshee Blast - Projectil (Explocion)
[Statedef 2111]
type = A
movetype = A
physics = N
velset = 0,0
sprpriority = 2
juggle = 6
ctrl = 0
anim = 8023;8100

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 8023
ID = 8023
facing = ifelse(random<499,1,-1)
vfacing = ifelse(random<499,1,-1)
bindtime = -1
scale = 0.5,0.5
sprpriority = 3
ignorehitpause = 1

[State 2000, spark]
type = Helper
trigger1 = !time
name = "Hit Spark"
ID = 7000
stateno = 7002
pos = 0,0
postype = p1   ;p2,front,back,left,right
facing = 1
ownpal = 1
supermovetime = 65535
pausemovetime = 65535
sprpriority = 5
ignorehitpause = 1
size.yscale = 0.1
size.xscale = 0.1
persistent = 0

[State 0, lock aft img]
type = AfterImage
trigger1 = time = 0
time = 1

[State 9500, noshadow]
type = AssertSpecial
trigger1 = 1
flag = NoShadow
flag2 = invisible
ignorehitpause = 1

[State 0, sfx explocion]
type = PlaySnd
trigger1 = time = 0
value = S6,0

[State 9500, end]
type = DestroySelf
trigger1 = animtime = 0

;------------------------------------------------------------------------------
;Cannon Beam - Patada
[Statedef 2200]
type = S
movetype = A
physics = S
anim = 2200
velset = 10,0
ctrl = 0
juggle = 2
facep2 = 0
hitdefpersist = 0
movehitpersist = 0
hitcountpersist = 0
sprpriority = 2

[State 0, AfterImage]
type = AfterImage
trigger1 = time = 1
time = 2
palbright = 30,30,30
palcontrast = 120,120,120
paladd = 32,32,32
palmul = .64,.64,.64
length = 5
timegap = 1
framegap = 1
trans = add1

[State 0, AfterImageTime]
type = AfterImageTime
trigger1 = time >= 1
time = 2
ignorehitpause = 1

[State 100, polvo]
type = Explod
trigger1 = time = 1
anim = 9915
ID = 9915
pos = -10,floor(-pos y)
postype = p1
facing = -1
bindtime = 1
;vel = 2,0
;scale=.5,.5
removetime = -2
sprpriority = 10
ownpal = 1

[State 0, remolino]
type = Explod
trigger1 = time = 1
anim = 9419
ID = 9419 
pos = 0,-40
facing = ifelse(random < 499,-1,1)
vel = 0,-0.1
accel = 0,-0.05*(random%6)
random = 0,40
scale = 0.6,0.6
sprpriority = 5
ownpal = 1
removeongethit = 1
ignorehitpause = 0

[State 0, sfx viento]
type = PlaySnd
trigger1 = AnimElem = 3
value = S2,5

[State 0, haaaaa]
type = PlaySnd
trigger1 = AnimElem = 4
value = S14,4
channel = 0

[State 720, 1]
type = HitDef
trigger1 = AnimElem = 4
attr = S, NA
hitflag	= MAF
animtype        = heavy
air.animtype    = heavy
guardflag = MA
priority = 5, Hit
damage	= 44,22
pausetime = 20,16
guard.pausetime	= 10,16
numhits = 1   
sparkno = var(4) := 7002
guard.sparkno = -1
sparkxy	 = var(52):=66, var(53):= -36
hitsound = S240, 0 
guardsound = S0, 9   
ground.type = High
air.type = Low
ground.slidetime = 10
ground.hittime	= 10
air.hittime = 10
ground.velocity	= -10.5,-6
guard.velocity	= -5.5
air.velocity	= -10.5,-6
airguard.velocity	= -4.5,-4.7
ground.cornerpush.veloff = -4.5
air.cornerpush.veloff = -6
fall = 1
fall.yvelocity = -0.2
fall.recover = 0
kill = 0
id			= 2200
getpower		= 0
givepower		= 20
envshake.time   = 10
envshake.freq   = 140
envshake.ampl   = -2
envshake.phase  = 90

[State 0, camara lenta]
type = Pause
triggerall = animelem = 5, > 0
trigger1 = !winko
trigger1 = movehit
trigger1 = timemod = 1,0
time = 5
movetime = 0

[State 0, sig]
type = ChangeState
trigger1 = time = 0
trigger1 = p2bodydist x != [-30,30]
trigger2 = animtime = 0
trigger2 = numtarget(2200) > 0
value = 2201

[State 0, fin]
type = ChangeState
trigger1 = animtime = 0
trigger1 = numtarget(2200) = 0
value = 0
ctrl = 1

;------------------------------------------------------------------------------
;Cannon Beam - Lanzamiento
[Statedef 2201]
type = S
movetype= A
physics = S
anim = 2201
velset = 0,0
poweradd = -500
ctrl = 0
juggle = 2
facep2 = 0
hitdefpersist = 1
movehitpersist = 0
hitcountpersist = 0
sprpriority = 2

[State 0, adelantar anim]
type = ChangeAnim
triggerall = time = 0
trigger1 = numtarget(2200) > 0
value = anim
elem = 2

[State 0, Turn]
type = Turn
trigger1 = p2dist X < 0 && Time = 0

[State 0, zxc]
type = Explod
trigger1 = animelem = 2
anim = 9903
ID = 9903
pos = 36,-64
scale = 0.1,0.1
sprpriority = 3
ownpal = 1
removeongethit = 1

[State 0, zxc]
type = Explod
trigger1 = animelem = 2
anim = 9903
ID = 9903
pos = 36,-64
vfacing = -1
scale = 0.1,0.1
sprpriority = 3
ownpal = 1
removeongethit = 1

[State 0, projectil]
type = Helper
trigger1 = AnimElem = 2
name = "Cannon Beam"
ID = 2210
stateno = 2210
pos = 34,-64
postype = p1
facing = 1
ownpal = 1
size.yscale = 0.5

[State 2200, fin]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;------------------------------------------------------------------------------
;Cannon Beam - Projectil
[Statedef 2210]
type = S
movetype = A
physics = N
juggle = 0
ctrl = 0
anim = 2210
sprpriority = 4

[State 0, sfx]
type = PlaySnd
trigger1 = time = 0
value = S1,4
channel = 3

[State 0, flash]
type = EnvColor
trigger1 = time = 0
under = 1

[State 0, hitby]
type = hitby
trigger1 = 1
value = SCA,NP,SP,HP
time = 1
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, BindToParent]
type = BindToParent
trigger1 = 1
time = 1
pos = 34,-64

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimELem = 2
value = 3001,1
volume = 100
channel = 2

[State 0, HitDef]
type = HitDef
trigger1 = Timemod = 3,1
attr = SCA, NP
hitflag = MAF
guardflag = MA
animtype = light
air.animtype = light
priority = 4,Hit
damage = 9,2
pausetime = 0,0
sparkno = -1
hitsound = -1,-1
guardsound = -1,-1;S0,9
guard.sparkno = -1
guardsound = s2,0
ground.type = High
ground.slidetime = 5
guard.slidetime = 3
ground.hittime = 20
air.hittime = 20
yaccel = 0.5
ground.velocity = -4,0
air.velocity = -7,0
air.juggle = 5
air.fall = 1
numhits = 1
palfx.time = 4
palfx.add = 120,120,0
envshake.time = 10
envshake.freq = 80
envshake.ampl = -2
sprpriority = 4
ID = 2210

[State 0, spark]
type = Explod
trigger1 = movecontact
;trigger1 = numtarget(2210) 
trigger1 = numexplod(2211) < 10
anim = 2211
ID = 2211
pos = -5,-64;(target(2210),pos x
postype = p2
facing = ifelse(random<499,1,-1)
vfacing = ifelse(random<499,1,-1)
bindtime = 9
random = 5,5
removetime = -2
scale = 0.5,0.5
sprpriority = 5
ownpal = 1
ignorehitpause = 1

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = p2movetype = A
id = 2211

[State 0, electric]
type = Explod
trigger1 = random < 300
anim = 9426
ID = 9426
vfacing = ifelse(random<499,1,-1)
vel = 4+random%20,0
random = 0,2
removetime = -2
scale = 0.5,0.5
sprpriority = 4
ownpal = 1

[State 0, Explod]
type = Explod
trigger1 = random < 300
anim = 8013
ID = 8013
facing = ifelse(random<499,1,-1)
vfacing = ifelse(random<499,1,-1)
vel = 4+random%6,-4+random%8
random = 0,0
removetime = -2
scale = 0.1,0.1
sprpriority = 2
ownpal = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = AnimTime = 0
trigger2 = parent, stateno != [2200,2201]

;------------------------------------------------------------------------------
;Mini Galick-Ho - Carga
[Statedef 2300]
type = A
movetype = A
physics = N
anim = 2300
ctrl = 0
juggle = 2
facep2 = 0
poweradd = -500
hitdefpersist = 0
movehitpersist = 0
hitcountpersist = 0
sprpriority = 2

[State 0, VelMul]
type = VelMul
trigger1 =  time = 0
x = 0.075
y = 0.065

[State 0, antibug]
type = PosSet
trigger1 = pos y > 0
y = 0

[State 0, antibug]
type = VelSet
trigger1 = pos y > 0
y = 0

[State 900, sfx]
type = PlaySnd
trigger1 = animelem = 3
value = S2300, 2

[State 0, charge]
type = Explod
trigger1 = animelem = 3
anim = 8201
ID = 8201
pos = -10,-68
bindtime = -1
removetime = -2
scale = 0.4,0.4
sprpriority = 3
ownpal = 1
removeongethit = 1

[State 0, ball]
type = Explod
trigger1 = animelem = 4
anim = 2320
ID = 2320
pos = -10,-68
bindtime = -1
removetime = -1
scale = 0.25,0.25
sprpriority = 3
ownpal = 1
removeongethit = 1
trans = addalpha
alpha = 128,256

[State 0, Explod]
type = Explod
trigger1 = animelem = 4 > 0
anim = 2302
ID = 2302
pos = 0,0
bindtime = 1
random = 4,4
removetime = 2
scale = 1,1
sprpriority = -5
ownpal = 0
removeongethit = 1
trans = add

[State 0, iluminacion]
type = Explod
trigger1 = animelem = 4
anim = 9920
ID =  9920
pos = -10,-68
bindtime = -1
random = 2,2
removetime = -1
scale = 0.1,0.1
sprpriority = -5
ownpal = 0
removeongethit = 1
ignorehitpause = 1
trans = addalpha
alpha = 64, 256

[State 0, escudo]
type = Helper
trigger1 = animelem = 1
name = "Galic Ho escudo"
ID = 2311
stateno = 2311
pos = 0,-46
ownpal = 1
supermovetime 
pausemovetime
size.xscale = 1
size.yscale = 1

[State 0, violet]
type = PalFX
trigger1 = (animelem = 4, >= 0) && time%4 = 0
trigger2 = animelem = 4
time = 4
add = 128,0,256
mul = 192,192,192
sinadd = 32,0,32,2
invertall = 0
color = 64;128

[State 800, Electricidad subiendo]
type = Explod
trigger1 = random < 300
trigger1 = time%8 = 0
anim = 9421+random%2
ID = 9421
pos = 0,-40
facing = ifelse(random < 499,-1,1)
vfacing = ifelse(random < 499,-1,1)
vel = 0,-0.1
accel = 0,-0.05*(random%6)
random = 0,40
scale = 0.6,0.6
sprpriority = 5
ownpal = 0
removeongethit = 1

[State 800, Electricidad]
type = Explod
trigger1 = random < 300
trigger1 = timemod = 4,0
anim = 9423+random%4
ID = 9423
pos = 0,-40
facing = ifelse(random < 499,-1,1)
vfacing = ifelse(random < 499,-1,1)
;vel = 0,-0.1
;accel = 0,-0.05*(random%6)
random = 50,40
scale = 0.5,0.5
sprpriority = 5
ownpal = 0
removeongethit = 1

[State 0, lanzar]
type = ChangeState
triggerall = animelem = 4, > 10
trigger1 = animtime = 0
trigger2 = var(59) <= 0
trigger2 = command != "holdz"
value = 2301

;------------------------------------------------------------------------------
;Mini Galick-Ho - Lazamiento
[Statedef 2301]
type = A
movetype = A
physics = N
anim = 2301
ctrl = 0
juggle = 2
facep2 = 0
hitdefpersist = 0
movehitpersist = 0
hitcountpersist = 0
sprpriority = 2

[State 0, girar]
type = Turn
trigger1 = !time
trigger1 = p2bodydist x < -5
ignorehitpause = 1

[State 900, sfx]
type = PlaySnd
trigger1 = animelem = 1
value = S10, 6

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 2320

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 8201

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 9920

[State 0, Explod]
type = Explod
trigger1 = animelem = 1 < 44
anim = 2303
ID = 2303
pos = 0,0
bindtime = 1
random = 4,4
removetime = 2
scale = 1,1
sprpriority = -5
ownpal = 0
removeongethit = 1
trans = add

[State 0, violet]
type = PalFX
trigger1 = animelem = 1 < 44
trigger1 = timemod = 4,0
trigger2 = animelem = 1
time = 4
add = 128,0,256
mul = 192,192,192
sinadd = 32,0,32,2
invertall = 0
color = 64;128

[State 0, Projectil]
type = Helper
trigger1 = animelem = 1
name = "Galic Ho"
ID = 2310
stateno = 2310
pos = 16,-50
ownpal = 1
supermovetime 
pausemovetime
size.xscale = 0.25
size.yscale = 0.25

[State 0, antibug]
type = PosSet
trigger1 = pos y > 0
y = 0

[State 0, antibug]
type = VelSet
trigger1 = pos y > 0
y = 0

[State 0, fin]
type = StateTypeSet
trigger1 = animelem = 3
movetype = I       
physics = A        

[State 0, CtrlSet]
type = CtrlSet
trigger1 = animelem = 3
value = 1

;---------------------------------------------------------
;Mini Galick-Ho - Projectil
[Statedef 2310]
type = A
movetype = A
physics = N
velset = 0,0
sprpriority = 4
juggle = 6
ctrl = 0
anim = 2321

[State 2310, SprPriority]
type = SprPriority
trigger1 = 1 
value = 5
ignorehitpause = 1

[State 2310, AngleDraw]
type = AngleDraw
trigger1 = 1
value = -130
scale = 1,1
ignorehitpause = 1

[State 2310, Trans]
type = Trans
trigger1 = 1
trans = add
ignorehitpause = 1

[State 2310, BindToParent]
type = BindToParent
trigger1 = 1 
time = 1
pos = 16,-50
ignorehitpause = 1

[State 2310, hit]
type		= HitDef
triggerall = !numtarget(2309)
trigger1 = timemod = 1,0
attr = A, NP
hitflag = MAF
guardflag = MA
animtype = Hard
priority = 5, Hit
damage = 3,1
pausetime = 0,0
guard.pausetime = 0,0
sparkno = -1
guard.sparkno = -1
sparkxy = 0,0
hitsound = -1,-1
guardsound = -1,-1
ground.type = High
air.type = high
ground.slidetime = 25
ground.hittime = 20
air.hittime = 20
ground.velocity = -3
guard.velocity = -3
air.velocity = .5,-.5
airguard.velocity = -.5,-.5
ground.cornerpush.veloff = 0
down.velocity = -1,-2
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
snap = 60,100
sprpriority = 5
ID = 2309
givepower	= 1
getpower = 0
Palfx.time 	= 15
palfx.add 	= 192,0,256
palfx.sinadd 	= 32,0,32,10
palfx.mul 	= 192,192,192
envshake.time 	= 12
envshake.freq 	= 120
envshake.ampl 	= -4

[State 2310, hit 2]
type = HitDef
triggerall = animelem = 21, < 0
triggerall = timemod = 1,0
trigger1 = numtarget(2309)
trigger2 = numtarget(2310)
attr = A, NP
hitflag = MAF
guardflag = MA
animtype = Hard
priority = 5, Hit
damage = 3,1
pausetime = 0,0
guard.pausetime = 0,0
sparkno = -1
guard.sparkno = -1
sparkxy = 0,0
hitsound = -1,-1
guardsound = -1,-1
ground.type = High
air.type = high
ground.slidetime = 25
ground.hittime = 20
air.hittime = 20
ground.velocity = -3
guard.velocity = -3
air.velocity = .5,-.5
airguard.velocity = -.5,-.5
ground.cornerpush.veloff = 0
down.velocity = -1,-2
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
sprpriority = 5
ID = 2310
givepower	= 1
getpower = 0
Palfx.time 	= 15
palfx.add 	= 192,0,256
palfx.sinadd 	= 32,0,32,10
palfx.mul 	= 192,192,192
envshake.time 	= 12
envshake.freq 	= 120
envshake.ampl 	= -4

[State 2310, hit 3]
type = HitDef
triggerall = animelem = 21, >= 0
trigger1 = timemod = 1,0
attr = A, NP
hitflag = MAF
guardflag = MA
animtype = Hard
priority = 5, Hit
damage = 3,1
pausetime = 0,0
guard.pausetime = 0,0
sparkno = -1
guard.sparkno = -1
sparkxy = 0,0
hitsound = -1,-1
guardsound = -1,-1
ground.type = High
air.type = high
ground.slidetime = 25
ground.hittime = 20
air.hittime = 20
ground.velocity = -3
guard.velocity = -3
air.velocity = -13,13
airguard.velocity = -.13,13
ground.cornerpush.veloff = 0
down.velocity = -1,-2
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
down.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
sprpriority = 5
ID = 2310
fall = 1
givepower	= 1
getpower = 0
Palfx.time 	= 15
palfx.add 	= 192,0,256
palfx.sinadd 	= 32,0,32,10
palfx.mul 	= 192,192,192
envshake.time 	= 12
envshake.freq 	= 120
envshake.ampl 	= -4

[State 0, spark]
type = Explod
;trigger2 = numtarget(2310)
trigger1 = numtarget(2310) && (target(2310), movetype = H && movehit)
anim = 8024
ID = 8024
pos = 0,-45
postype = p2
facing = ifelse(random<499,1,-1)
vfacing = ifelse(random<499,1,-1)
random = 10,60
removetime = -2
supermovetime = -1
pausemovetime = -1
scale = 0.5,0.5
sprpriority = 4
ownpal = 1
;ignorehitpause = 1

[State 0, wave ground]
type = Explod
trigger1 = pos y > -90
trigger1 = time%13 = 0
anim = 9121
ID = 9121
pos = 50,floor(-pos y)
removetime = -2
supermovetime = -1
pausemovetime = -1
scale = .5,.5
sprpriority = -3
ownpal = 1
removeongethit = 1
ignorehitpause = 1

[State 2310, noshadow]
type = AssertSpecial
trigger1 = 1
flag = NoShadow
ignorehitpause = 1

[State 2310, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0
trigger2 = parent, stateno != [2300,2301]

;---------------------------------------------------------
;Mini Galic Ho - Escudo
[Statedef 2311]
type = A
movetype = A
physics = N
velset = 0,0
sprpriority = 4
ctrl = 0
anim = 2322

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, BindToParent]
type = BindToParent
trigger1 = 1
time = 1
pos = 0,-46

[State 9500:	HitDef]
type		= HitDef
trigger1		= timemod = 1,0
attr		= A, NP
hitflag		= MAF
guardflag		= -1
animtype		= Hard
priority		= 7, Hit
damage		= 1,0
pausetime		= 1,4
guard.pausetime	= 1,4
sparkno = -1
guard.sparkno = -1
sparkxy		= 0,0
hitsound		= -1,-1
guardsound	= -1,-1
ground.type	= High
air.type		= high
ground.slidetime	= 25
ground.hittime	= 25
air.hittime	= 25
ground.velocity	= -1,-5
guard.velocity	= -3
air.velocity	= -1,-5
airguard.velocity	= 2,2
ground.cornerpush.veloff = 0
down.velocity	= -1,-2
sprpriority = 5
getpower		= 0
givepower		= 0
Palfx.time 	= 5
palfx.add 	= 192,0,256
palfx.sinadd 	= 32,0,32,10
palfx.mul 	= 192,192,192
envshake.time 	= 12
envshake.freq 	= 120
envshake.ampl 	= -4
persistent = 0

[State 0, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0
trigger2 = parent, stateno != [2300,2301]

;------------------------------------------------------------------------------
;Super Ball - Lanzamiento
[Statedef 2400]
type = S
movetype = A
physics = S
anim = 2400
velset = 0,0
poweradd = -500
ctrl = 0
juggle = 2
facep2 = 0
hitdefpersist = 1
movehitpersist = 0
hitcountpersist = 0
sprpriority = 2

[State 0, Turn]
type = Turn
trigger1 = p2dist X < 0 && Time = 0

[State 0, fx fireball]
type = Explod
trigger1 = animelem = 3
anim = 7700
ID = 7700
pos = 47,-46
scale = 0.5,0.5
sprpriority = 3
ownpal = 1
removeongethit = 1

[State 2400, fx explocion]
type = Explod
trigger1 = animelem = 3
anim = 7053
ID = 7053
pos = 47,-46
vfacing = -1
scale = 0.25,0.5
sprpriority = 3
ownpal = 1
removeongethit = 1

[State 2400, projectil]
type = Helper
trigger1 = AnimElem = 3
name = "Super Ball"
ID = 2410
stateno = 2410
pos = 50,-46
ownpal = 1
size.xscale = 0.5
size.yscale = 0.5

[State 2400, fin]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------
;Super Ball - Projectil
[Statedef 2410]
type = A
movetype = A
physics = N
velset = 10,0
sprpriority = 4
juggle = 6
ctrl = 0
anim = 2410

[State 2310, SprPriority]
type = SprPriority
trigger1 = 1 
value = 5
ignorehitpause = 1

[State 2310, AngleDraw]
type = AngleDraw
trigger1 = 1
value = 0
scale = .25,.25
ignorehitpause = 1

[State 2310, Trans]
type = Trans
trigger1 = 1
trans = add
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, sfx]
type = PlaySnd
trigger1 = !time
value = S10,4
channel = 3
ignorehitpause = 1

[State 0, adelante]
type = VelAdd
triggerall = time > 10
triggerall = vel x < 8
trigger1 = p2dist x > 10
x = .5

[State 0, atras]
type = VelAdd
triggerall = time > 10
triggerall = vel x > -8
trigger1 = p2dist x < -10
x = -.5

[State 0, arriba]
type = VelAdd
triggerall = time > 10
triggerall = vel y > -8
trigger1 = p2dist y < -(enemynear, const(size.mid.pos.y)-10)
y = -.5

[State 0, abajo]
type = VelAdd
triggerall = time > 10
triggerall = vel y < 8
trigger1 = p2dist y > -(enemynear, const(size.mid.pos.y)+10)
y = .5

[State 8000, particuas]
type = Explod
trigger1 = time%2 = 0
bindtime = 1
anim = 8001
ID = 8001
vel = vel x*.05,vel y*.1
random = 4,15;0,0
supermovetime = -1
pausemovetime = -1
scale = .5,.5
sprpriority = -5+random%10
vel = vel x*.05,vel y*.1
random = 4,10;0,0

[State 100, polvo]
type = Explod
triggerall = pos y > -100
trigger1 = !time
anim = 9100
ID = 9100
pos = 0,floor(-pos y)
facing = 1
sprpriority = 3
scale = .5,.5
ownpal = 1

[State 100, polvito]
type = Explod
triggerall = pos y > -100
triggerall = vel x != [-2,2]
trigger1 = time%2 = 0
anim = 7528
ID = 7528
pos = 0,floor(-pos y)
facing = ifelse(random<500,1,-1)
vfacing = ifelse(random<500,1,-1)
random = 3,1
vel = vel x*.05,vel y*.1
supermovetime = 777
pausemovetime = 777
scale = 0.5,0.5
sprpriority = 0
ownpal = 1

[State 100, onda]
type = Explod
triggerall = pos y > -100
triggerall = vel x = [-2,2]
trigger1 = time%10 = 0
anim = 9120
ID = 9120
pos = 0,floor(-pos y)
facing = ifelse(random<500,1,-1)
supermovetime = 777
pausemovetime = 777
scale = 0.5,0.5
sprpriority = -5
ownpal = 1

[State 2410,	HitDef]
type		= HitDef
trigger1		= 1
attr		= S, NP
hitflag		= MAF
guardflag		= MA
animtype		= Hard
priority		= 7, Hit
damage		= 132,19
pausetime		= 1,1
guard.pausetime	= 1,1
sparkno = -1
guard.sparkno = -1
sparkxy		= 0,0
hitsound		= -1,0
guardsound	= -1,0
ground.type	= High
air.type		= high
ground.slidetime	= 25
ground.hittime	= 25
air.hittime	= 25
ground.velocity	= -3,-8.2
guard.velocity	= -7
air.velocity	= -3,-8.2
airguard.velocity	= -7,-3
ground.cornerpush.veloff = 0
down.velocity	= -1,-2
getpower		= 0
givepower		= 0
Palfx.time = 30
palfx.add = 0,50,240
palfx.mul = 120,224,150
palfx.sinadd = 85,55,110,10
palfx.color = 0
envshake.time 	= 12
envshake.freq 	= 120
envshake.ampl 	= -4
fall = 1
fall.recovertime = 0
persistent = 0
ID = 2410

[State 0, atrapar al enemigo]
type = Null;TargetBind
trigger1 = movecontact ;= 1
trigger1 = numtarget(2410)
time = 2
id =  2410
pos = 30, -(target(2410), const(size.mid.pos.y))

[State 0, PosSet]
type = PosSet
trigger1 = pos y > -25
y = (floor(-pos y)-25)
ignorehitpause = 1

[State 0, VelSet]
type = VelSet
trigger1 = pos y > -25
trigger1 = vel y > 0
y = 0
ignorehitpause = 1

[State 2010, 1]
type = AfterImage
trigger1 = !time
time = -1
palbright = 0,0,0;90,90,90
palcontrast = 192,192,192
paladd = ifelse((root,var(56)>=1),25,10),25,ifelse((root,var(56)>=1),10,25)
palmul = ifelse((root, var(56)>=1),.75,.65),.65,ifelse((root,var(56)>=1),.65,.75)
length = 15
timegap = 1
framegap = 1
trans = add

[State 2040, activar colicion]
type = HitOverride
trigger1 = 1 
attr = SCA,AP
slot = 0
stateno = 2411
time = 1
ignorehitpause = 1

[State 2410, golpeado por projectiles]
type = HitBy
trigger1 = 1  
value = SCA,AP
time = 1
ignorehitpause = 1

[State 0, explotar o desaparecer]
type = ChangeState
trigger1 = time > 300
trigger2 = movecontact
trigger3 = root, stateno = [3000,4000]
;trigger4 = root, movetype = H
value = 2411+(time > 300)

;---------------------------------------------------------
; Super Ball - Projectil (Explocion)
[Statedef 2411]
type = A
movetype = A
physics = N
velset = 0,0
sprpriority = 5
juggle = 6
ctrl = 0
anim = 2411

[State 2010, 1]
type = AfterImage
trigger1 = !time 
time = 1
palbright = 0,0,0;90,90,90
palcontrast = 192,192,192
paladd = ifelse((root,var(56)>=1),25,10),25,ifelse((root,var(56)>=1),10,25)
palmul = ifelse((root, var(56)>=1),.75,.65),.65,ifelse((root,var(56)>=1),.65,.75)
length = 1
timegap = 1
framegap = 1
trans = add

[State 100, onda]
type = Explod
triggerall = pos y > -100
trigger1 = !time
anim = 9120
ID = 9120
pos = 0,floor(-pos y)
facing = ifelse(random<500,1,-1)
supermovetime = 777
pausemovetime = 777
scale = 0.5,0.5
sprpriority = -5
ownpal = 1

[State 0, implocion]
type = Explod
trigger1 = !time
anim = 9143
ID = 9143
bindtime = -1
scale = .5,.5
sprpriority = 1
ownpal = 1
ignorehitpause = 1

[State 0, explocion 0]
type = Explod
trigger1 = time = 15
anim = 8025
ID = 8025
pos = 0,0
facing = ifelse(random<500,-1,1)
vfacing = ifelse(random<500,-1,1)
bindtime = -1
scale = .5,.5
sprpriority = 4
ownpal = 1
ignorehitpause = 1

[State 0, explocion 1]
type = Explod
trigger1 = !time
anim = 8025
ID = 8025
pos = 10,0
facing = ifelse(random<500,-1,1)
vfacing = ifelse(random<500,-1,1)
bindtime = -1
random = 5,5
scale = .5,.5
sprpriority = 5
ownpal = 1
ignorehitpause = 1

[State 0, explocion 2]
type = Explod
trigger1 = !time
anim = 8025
ID = 8025
pos = -10,0
facing = ifelse(random<500,-1,1)
vfacing = ifelse(random<500,-1,1)
bindtime = -1
random = 5,5
scale = .5,.5
sprpriority = 5
ownpal = 1
ignorehitpause = 1

[State 0, explocion 3]
type = Explod
trigger1 = !time
anim = 8025
ID = 8025
pos = 0,-10
facing = ifelse(random<500,-1,1)
vfacing = ifelse(random<500,-1,1)
bindtime = -1
random = 5,5
scale = .5,.5
sprpriority = 5
ownpal = 1
ignorehitpause = 1

[State 0, explocion 4]
type = Explod
trigger1 = !time
anim = 8025
ID = 8025
pos = 0,10
facing = ifelse(random<500,-1,1)
vfacing = ifelse(random<500,-1,1)
bindtime = -1
random = 5,5
scale = .5,.5
sprpriority = 5
ownpal = 1
ignorehitpause = 1

[State 2310, SprPriority]
type = SprPriority
trigger1 = 1 
value = 5
ignorehitpause = 1

[State 2310, AngleDraw]
type = AngleDraw
trigger1 = 1
value = 0
scale = .25,.25
ignorehitpause = 1

[State 2310, Trans]
type = Trans
trigger1 = 1
trans = add
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
flag2 = invisible
ignorehitpause = 1

[State 0, sfx]
type = PlaySnd
trigger1 = !time
value = S6,2
channel = 3
ignorehitpause = 1

[State 0, flash]
type = EnvColor
trigger1 = !time
under = 1
ignorehitpause = 1

[State 8010, Streaks Explod]
type = Explod
trigger1 = !Time
anim = 7003
ID = 7002
posType = P1
facing = 1
vFacing = 1
sprPriority = 5
removeTime = 32
pauseMoveTime = -1
superMoveTime = -1

[State 8010, Scale Streaks Explod]
type = ModifyExplod
trigger1 = NumExplod(7002)
ID = 7002
scale = 0.4 - (0.009375 * Time), 0.4 - (0.009375 * Time)
trans = AddAlpha
alpha = 256 - (8*time), 256

[State 8010, Streaks Explod]
type = Explod
trigger1 = !Time
anim = 7003
ID = 7003
posType = P1
facing = -1
vFacing = -1
sprPriority = 5
removeTime = 32
pauseMoveTime = -1
superMoveTime = -1

[State 8010, Scale Streaks Explod]
type = ModifyExplod
trigger1 = NumExplod(7003)
ID = 7003
scale = 0.14 + (0.009375 * Time), 0.14 + (0.009375 * Time)
trans = AddAlpha
alpha = 256 - (8*time), 256

[State 8010, aro]
type = Explod
trigger1 = !Time
anim = 6999
ID = 6999
posType = P1
facing = ifElse(Random < 500, -1, 1)
vFacing = ifElse(Random < 500, -1, 1)
sprPriority = 5
removeTime = 32
pauseMoveTime = -1
superMoveTime = -1

[State 8010, aro]
type = ModifyExplod
trigger1 = NumExplod(6999)
ID = 6999
scale = 0.14 + (0.009375 * Time), 0.14 + (0.009375 * Time)
trans = AddAlpha
alpha = 256 - (8*time), 256

[State 2410,	HitDef]
type		= Null;HitDef
trigger1		= 1
attr		= S, NP
hitflag		= MAF
guardflag		= MA
animtype		= Hard
priority		= 7, Hit
damage		= 149,20
pausetime		= 1,1
guard.pausetime	= 1,1
sparkno = -1
guard.sparkno = -1
sparkxy		= 0,0
hitsound		= -1,0
guardsound	= -1,0
ground.type	= High
air.type		= high
ground.slidetime	= 25
ground.hittime	= 25
air.hittime	= 25
ground.velocity	= -3,-8.2
guard.velocity	= -7
air.velocity	= -3,-8.2
airguard.velocity	= -7,-3
ground.cornerpush.veloff = 0
down.velocity	= -1,-2
getpower		= 0
givepower		= 0
Palfx.time = 30
palfx.add = 0,50,240
palfx.mul = 120,224,150
palfx.sinadd = 85,55,110,10
palfx.color = 0
envshake.time 	= 12
envshake.freq 	= 120
envshake.ampl 	= -4
fall = 1
fall.recovertime = 0
persistent = 0

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time > 47
ignorehitpause = 1

;---------------------------------------------------------
; Super Ball - Projectil (Desaparicion)
[Statedef 2412]
type = A
movetype = I
physics = N
;velset = 0,0
juggle = 0
ctrl = 0
anim = 2410

[State 0, VelMul]
type = VelMul
trigger1 = time%2 = 0
x = .1
y = .1
ignorehitpause = 1

[State 0, VarAdd]
type = VarAdd
trigger1 = vel x = 0
trigger1 = vel y = 0
trigger2 = var(1) < 10
v = 1
value = 1

[State 2310, AngleDraw]
type = AngleDraw
trigger1 = 1
value = 0
scale = .25-(0.025*var(1)),.25-(0.025*var(1))
ignorehitpause = 1

[State 2310, Trans]
type = Trans
trigger1 = 1
trans = add
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = var(10) >= 10
flag = noshadow
ignorehitpause = 1

[State 0, implocion]
type = Explod
trigger1 = var(1) > 0
anim = 9143
ID = 9143
bindtime = -1
scale = .5,.5
sprpriority = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = var(1) > 0
value = S2300,0
persistent = 0

[State 0, DestroySelf]
type = DestroySelf
trigger1 = var(1) > 0
trigger1 = !numexplod(9143)
ignorehitpause = 1