[Data]
life = 1000
attack = 100
defence = 100
power = 3000
fall.defence_up = 50
liedown.time = 60
airjuggle = 15
sparkno = -1
guard.sparkno = -1
KO.echo = 0
volume = 0
IntPersistIndex = 60
FloatPersistIndex = 40



[Size]
xscale = 1
yscale = 1
ground.back = 15
ground.front = 16
air.back = 12
air.front = 12
height = 60
attack.dist = 160
proj.attack.dist = 90
proj.doscale = 0
head.pos = -5, -90
mid.pos = -5, -60
shadowoffset = 0
draw.offset = 0,0

[Velocity]
walk.fwd  = 2
walk.back = -2
run.fwd  = 6, 0
run.back = -6, 0
jump.neu = 0,-9.4
jump.back = -2.4
jump.fwd = 2.4
runjump.back = -3.4,-8.1
runjump.fwd = 3.4,-8.1
airjump.neu = 0,-8.1
airjump.back = -3.55
airjump.fwd = 3.5

[Movement]
airjump.num = 0
airjump.height = 35
yaccel = .44
stand.friction = .85
crouch.friction = .82
;---------------------------------------------------------------------------
; Variable usage:
; This is a record of the variables that KFM uses. Keeping a record of your
; variable usage helps you avoid careless mistakes later.
; var(1)  - Used in kfm.cmd for combo condition (updated every tick)
; var(2)  - Used in Kung Fu Throw (state 800) to remember if fwd was being
;           held (remembered from state 800 through state 810).


;-----------------------------------------------------------------------

;Chou Kame Hame Ha
[Statedef 3800]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= -1000
ctrl = 0
velset = 0,0
anim = 3800
sprpriority = -1

[State 0, BGPalFX]
type = BGPalFX
trigger1 = 1
time = 50
add = -256,-256,-256
mul = 256,256,256
sinadd = 0,0,0,10
invertall = 0
color = 256

[State 0, Explod]
type = Explod
trigger1 = numexplod(60200)<2
trigger1 = timemod=30,1
anim = 60200   ;rayas atras
ID = 60200
pos = 0,0
postype = back
bindtime = -1
removetime = -2
pausemovetime = 65535
scale = .5,.5
sprpriority = 5
ontop = 1
ownpal = 1

[State 3100, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S3,34
volume = 0

[State 2300, 1]
type = PlaySnd
trigger1 = time = 1
value = 5, 3
channel = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time= 0
value = S3,9
channel = 2



[State 3000, SuperPause]
type = SuperPause
trigger1 = animelem = 1
time = 40
movetime = 0
anim = -1
sound = -1
darken = 0

[State 3100: EnvShake]
type   = EnvShake
trigger1   = time > 5 && ((GameTime%10) = 0)
time   = 50
freq   = 120
ampl   = -2
phase   = 50


[State 705:     Screen Flash]
type            = EnvColor
trigger1        = (!Time)
value           = 255,255,255
time            = 5
under           = 0



[State 705:		BGPalFX]
type			= BGPalFX
trigger1		= ((Time > 1) && ((GameTime%50) = 0))
time			= 50
add		    	= 200,200,200
mul			    = 256,256,256
sinadd		    = 200,200,200,4


[State 0, VarSet]
type = VarSet
trigger1 = !time
v = 21   ;fv = 10
value = -10

[State 0, VarSet]
type = VarSet
trigger1 = !time
v = 22   ;fv = 10
value = -45

[State 0, Helper]
type = Helper
trigger1 = animelem = 1
helpertype = normal ;player
name = "Super-Charge"
ID = 6800
stateno = 6800
pos = -16 ,-49
size.yscale = 1
size.xscale = 1
postype = p1   ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 999

[State 1651]
type = Helper
triggerall = numhelper(3310) = 0
trigger1 = time >= 10
helpertype = normal
name = "Escudo"
id = 3310
pos = 0,0
postype = p1
stateno = 3310
size.xscale = 1
size.yscale = 1
keyctrl = 0





[State 3000, Charge2]
type = Explod
trigger1 = time = 8
anim = 3803   ; bola energia
ID = 3803
pos = -15 ,-50
sprpriority = 2
removetime = 115
bindtime = -1
ownpal = 1
scale = 0.25,0.25
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1


[State 0, Explod]
type = Explod
triggerall = pos y = 0
trigger1 = Timemod = 15,13
anim = 7105
ID = 7105
pos = ifelse(power < 2000 ,-10, -20) ,3
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .8,.8
sprpriority = -2
ontop = 0
shadow = 0,0,0
ownpal = 1

[State 0, Explod]
type = Explod
triggerall = pos y = 0
trigger1 = Timemod = 15,13
anim = 7105
ID = 7105
pos = ifelse(power < 2000 ,10, 20) ,3
postype = p1
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
scale = .8,.8
sprpriority = -2
ontop = 0
shadow = 0,0,0
ownpal = 1

[State 0, Explod]
type = Explod
triggerall = pos y = 0 && Time >= 14
trigger1 = Timemod = 15,0
anim = 5997
ID = 5997
pos = 0 ,0
postype = p1
scale = .4,.4
facing = -1
bindtime = 1
sprpriority = 2
ownpal = 1

[State 0, Explod]
type = Explod
triggerall = pos y = 0 && Time >= 14
trigger1 = Timemod = 15,0
anim = 9400
ID = 9400
pos = 0 ,-3
postype = p1
scale = .6,.6
facing = -1
bindtime = 1
sprpriority = 2
ownpal = 1

[State 3100, 4]
type =  ChangeState
trigger1 = time = 120;52
value = 3801
ctrl = 1

;------------------------------------------------------------------------
;Chou Kame Hame Ha Release
[Statedef 3801]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 65
ctrl = 0
velset = 0,0
anim = 3801
sprpriority = -1

[State 2300, 1]
type = PlaySnd
trigger1 = time = 1
value = 5, 4
channel = 1

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 3
x = -8;-6
y = 0

[State 0, Turn]
type = turn
trigger1 = p2dist X < 0 && AnimElem = 1

[State 1651]
type = Helper
triggerall = numhelper(3310) = 0
trigger1 = time >= 10
helpertype = normal
name = "Escudo"
id = 3310
pos = 0,0
postype = p1
stateno = 3310
size.xscale = 1
size.yscale = 1
keyctrl = 0




[State 3101, PosAdd]
type = PosAdd
trigger1 =  time = 0
x = 6
y = 0

[State 3000, explod]
type = Explod
trigger1 = animelem = 1
anim = 3804
ID = 3804
pos = 90 ,-60
sprpriority = 2
removetime = -2
bindtime = -1
ownpal = 1
scale = 0.6,0.6
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1

[State 3000, explod]
type = Explod
trigger1 = animelem = 1
anim = 36004
ID = 36004
pos = 40,-48
sprpriority = 2
removetime = -2
bindtime = -1
ownpal = 1
scale = .8,1
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1



[State 3101:		Helper]
type		= Helper
trigger1	= animelem = 1
helpertype	= Normal
name		= "chou kame";"Masenko Rapido"
id		= 3802
pos		= 19,-64
postype		= p1
facing		= 1
stateno		= 3802
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0
size.xscale     = 1
size.yscale     = 1

[State 0, Explod]
type = Explod
triggerall = pos y = 0
trigger1 = Timemod = 15,13
anim = 7105
ID = 7105
pos = ifelse(power < 2000 ,-10, -20) ,3
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .8,.8
sprpriority = -2
ontop = 0
shadow = 0,0,0
ownpal = 1

[State 0, Explod]
type = Explod
triggerall = pos y = 0
trigger1 = Timemod = 15,13
anim = 7105
ID = 7105
pos = ifelse(power < 2000 ,10, 20) ,3
postype = p1
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
scale = .8,.8
sprpriority = -2
ontop = 0
shadow = 0,0,0
ownpal = 1

[State 0, Explod]
type = Explod
triggerall = pos y = 0 && Time >= 14
trigger1 = Timemod = 15,0
anim = 5997
ID = 5997
pos = 0 ,0
postype = p1
scale = .4,.4
facing = -1
bindtime = 1
sprpriority = 2
ownpal = 1

[State 0, Explod]
type = Explod
triggerall = pos y = 0 && Time >= 14
trigger1 = Timemod = 15,0
anim = 9400
ID = 9400
pos = 0 ,-3
postype = p1
scale = .6,.6
facing = -1
bindtime = 1
sprpriority = 2
ownpal = 1


[State 3101, Explod]
type = Explod
trigger1 = animelem = 2
anim =  7100
ID = 7100
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = 1
scale = 0.75,0.75
Ontop = 1
removeongethit = 1

[State 3001, ScreenBound]
type = ScreenBound
trigger1 = p2movetype = H || (BackEdgeBodydist < -1 && BackEdgeBodydist > -30)
movecamera = 0,0
value	= 0




[State 3101, ChangeState]
type = ChangeState
trigger1 = time = 120
value =  0
ctrl = 1
;anim =
;ignorehitpause =
;persistent =


;-----------------------------------------------------------------------------
;Chou Kame Hame Ha-Proyectil
[Statedef 3802]
movetype	= A
anim		= 3802
;velset		= 0,0
ctrl		= 0
poweradd	= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority	= 4

[State 0, BindToParent]
type = BindToParent
trigger1 = 1
time = 1
pos= 14,-54

[State 3150:	AssertSpecial]
type			= AssertSpecial
trigger1		= 1
;flag			= Invisible
flag			= NoShadow
ignorehitpause = 1

[State 9230:	NotHitBy]
type		= NotHitBy
trigger1	= 1
value		= SCA

[State 9230:	PlayerPush]
type		= PlayerPush
trigger1	= 1
value		= 0

[State 105: Arena]
type	= Explod
triggerall = Pos Y <= 0
trigger1 = time %3 = 0
anim	= 7102
pos 	= -20,4
postype	= p2
facing 	= 1
vfacing	= 1
vel 	= 0,0
accel 	= 0,0
scale   = 0.3,0.3
ontop	= 1
sprpriority = 1

[State 3150, 1]
type = PlaySnd
trigger1 = time = 0
value = 3, 36
volume = 200
channel = 3

[State 0, HitDef]
type = HitDef
trigger1 = Time >= 0
attr = SCA, NP
hitflag = MAF
guardflag = MA
animtype = light
air.animtype = light
priority = 4,Hit
damage = 8,3
pausetime = 0,0
sparkno = -1
guard.sparkno = -1
guardsound = -1
ground.type = High
ground.slide = 5
guard.slide = 3
ground.hittime = 20
air.hittime = 20
yaccel = 0.5
ground.velocity = -12,-1.5
air.velocity = -13,-.1
air.animtype = Back
air.juggle = 5
numhits = 1
palfx.time = 50
palfx.add = 0,0,30
sprpriority = 3
fall = 1
envshake.time = 15
envshake.freq = 80
envshake.ampl = ifelse(Random <500,-5,5)



[State 3150, Explod]
type = Explod
triggerall = Numexplod(3805) < 1
trigger1 = movehit = 5
anim =  3805;3151
ID = 3805
pos = 10, -45
postype = p2
facing = 1
vfacing = 1
bindtime = 1
scale = 0.8,0.8
Ontop = 1
removetime = 104
removeongethit = 1

[State 3150, Explod]
type = Explod
triggerall = Numexplod(3805) < 1
trigger1 = (moveguarded)= 5
anim =  3805;3151
ID = 3805
pos = 10, -45
postype = p2
facing = 1
vfacing = 1
bindtime = 1
scale = 0.8,0.8
Ontop = 1
removetime = 104
removeongethit = 1

[State 3150, Explod]
type = Explod
triggerall = timemod = 3,0 && time < 96
trigger1 = movecontact
anim =  3806
ID = 3806
pos = 0, -45
postype = p2
facing = 1
vfacing = 1
bindtime = 80
scale = 0.5,0.5
Ontop = 1
removetime = -2
removeongethit = 1

[State 3150, Explod]
type = Explod
triggerall = timemod = 3,0 && time < 96
trigger1 = movecontact
anim =  3806
ID = 3806
pos = 0, -45
postype = p2
facing = 1
vfacing = 1
bindtime = 80
scale = 0.5,0.5
Ontop = 1
removetime = -2
removeongethit = 1

[State 0, BGPalFX]
type = BGPalFX
trigger1 = 1
time = 50
add = -256,-256,-256
mul = 256,256,256
sinadd = 0,0,0,10
invertall = 0
color = 256

[State 0, Explod]
type = Explod
trigger1 = numexplod(60200)<2
trigger1 = timemod=30,1
anim = 60200
ID = 60200
pos = 0,0
postype = back
bindtime = -1
removetime = -2
pausemovetime = 65535
scale = .5,.5
sprpriority = 5
ontop = 1
ownpal = 1



[State 0, Helper]
type = Helper
trigger1 = movehit = 7
helpertype = normal ;player
name = "Explosion"
ID = 3555
stateno = 3555
pos = -20,-30
postype = p2    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1

[State 0, Helper]
type = Helper
trigger1  = (moveguarded)= 7
helpertype = normal ;player
name = "Explosion"
ID = 3555
stateno = 3555
pos = 0,-45
postype = p2    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1

[State 3150, 1]
type = PlaySnd
trigger1 = movehit = 7
value = 3, 10
volume = 300
channel = -2

[State 3150, 1]
type = PlaySnd
trigger1  = (moveguarded)= 7
value = 3, 10
volume = 300
channel = -2

[State 3150, temblor de choque]
type			= EnvShake
triggerall = timemod = 3,0 && time < 96
trigger1 = movecontact
time			= 30
freq			= 80
ampl			= ifelse(Random <500,-5,5)
phase			= 15




[State 2400:	EnvShake]
type			= EnvShake
trigger1                = (moveguarded)= 7
time			= 30
freq			= 40
ampl			= -2
phase			= 10

[State 2400:	EnvShake]
type			= EnvShake
trigger1                = movehit = 7
time			= 30
freq			= 40
ampl			= -2
phase			= 10




[State 2350:	DestroySelf]
type			= DestroySelf
trigger1 		= animtime = 0;(Parent, NumProjID(1002) = 0)
Trigger2                = Parent, stateno != 3801


;----------------------------------------------------------------------------


;SuperCharge-LVL3
[Statedef 6800]
physics = N
velset = 0,0
anim = 6800
sprpriority = 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S2,22
volume = 512

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nobardisplay
flag2 = nobg
flag3 = noFG

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 26
value = 512

[State 0, VarAdd]
type = VarAdd
triggerall = var(26)>=0
trigger1 = time >= 0
v = 26
value = -11

[State 6800, BgPalfx]
type = Null;BgPalfx
trigger1 = Time >=0
time = 1
add = 256,256,256
mul = var(26),var(26),var(26);512-ceil(21*time),512-ceil(21*time),512-ceil(21*time)
invertall = 1

[State 0, BindToParent]
type = null;BindToParent
trigger1 = 1
pos = parent,var(11),parent,var(12)

[State 0, Explod]
type = Explod
trigger1 = time = 24
anim = 6802
ID = 7005
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = 16
supermovetime = -1
scale = 0.05,0.05
sprpriority = 4
ontop = 1
shadow = 0,0,0
ownpal = 1
removeongethit = 1

[State 8520, Scale]
type = ModifyExplod
trigger1 = numexplod(7005)
ID = 7005
scale = 2 -(0.125 * (time -24)), 2 -(0.125 * (time -24))
trans = addalpha
alpha = ifelse((time -24) < 4, 64 * (time -24), 256), 256

[State 0, Explod]
type = Explod
trigger1 = time = 0 || time = 8 || time = 16 || time = 24
anim = 6801
ID = ifelse(time = 24, 7004, ifelse(time = 16, 7003, ifelse(time = 8, 7002, 7001)))
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = 16
supermovetime = -1
scale = 1,1
sprpriority = 4
ontop = 1
shadow = 0,0,0
ownpal = 1
removeongethit = 1

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = numexplod(7001)
ID = 7001
scale = 1-(0.0625*time), 1-(0.0625*time)
trans = addalpha
alpha = ifelse(time < 4,64*time,256),256

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = numexplod(7002)
ID = 7002
scale = 1-(0.0625*(time -8)),1-(0.0625*(time-8))
trans = addalpha
alpha = ifelse((time -8) < 4,64*(time -8),256),256

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = numexplod(7003)
ID = 7003
scale = 1-(0.0625*(time-16)),1-(0.0625*(time-16))
trans = addalpha
alpha = ifelse((time -16) < 4, 64*(time -16),256),256

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = numexplod(7004)
ID = 7004
scale = 1-(0.0625*(time-24)),1-(0.0625*(time-24))
trans = addalpha
alpha = ifelse((time-24) < 4,64*(time -24), 256),256

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, Trans]
type = Trans
trigger1 = time <= 10
trans = addalpha
alpha = 256,256

[State 0, Trans]
type = Trans
trigger1 = time > 10
trans = addalpha
alpha = ceil(256-(8.53*(time-10))),256

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 500, Angle]
type = Angleadd
trigger1 = 1
value = 15

[State 500, Draw]
type = AngleDraw
trigger1 = 1
scale = .04*time,.04*time

[State 0, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0

;-----------------------------------------------------------------

;choukame - Escudo
[Statedef 3310]
type = S
movetype = I
physics = N
juggle = 0
ctrl = 0
anim = 3310
sprpriority = 4

[State 0, BindToParent]
type = BindToParent
trigger1 = 1
time = 1
facing = 0
pos = 0,0
ignorehitpause = 1

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 3310
time = 1
ignorehitpause = 1

[State 0, HitBy]
type = HitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, VarSet]
type = VarSet
trigger1 = time = 1
v = 58 ;fv = 10
value = 0

[State 0, VarAdd]
type = VarAdd
trigger1 = time = 0
v = 58
value = Ceil(-GetHitVar(damage)/1.5)

[State 0, DestroySelf]
type = DestroySelf
trigger1 = parent, prevstateno = 3801
ignorehitpause = 1
;------------------------------------------------------------------------

;------------------------------------------------------------------------

;Explosion
[Statedef 3555]
movetype = A
anim = 7007
ctrl = 0
velset = 0,0
poweradd = 0
juggle = 0
facep2 = 0
hitdefpersist = 0
movehitpersist = 0
hitcountpersist = 0
sprpriority = 3

[State 0, PosAdd]
type = PosAdd
trigger1 = time = 0
x = 35


[State 0, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 64
ampl = -6


[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0,0


[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = 0+(.1*time),0+(.1*time)

[State 0, AngleAdd]
type = AngleAdd
trigger1 = 1
value = 5*time
ignorehitpause = 1

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256-(8*time),256

[State 0]
type = EnvShake
Trigger1 = timemod = 2,1
time = 2
freq = 10
ampl = -6
phase = 120

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0,End]
type = destroyself
trigger1 = time >= 64


;CHARGESSJ---------------------------------------------------------------------------
[StateDef 17000]
type = S
physics = S
ctrl = 0

[state 0]
type = changeanim
triggerall = var(7) = 0
trigger1 = time = 0
value = 6000

[state 0]
type = changeanim
triggerall = var(7) = 1
trigger1 = time = 0
value = 16000



[state 0]
type = envshake
trigger1 = timemod = 5,0
ampl = 2
time = 5

[state 0]
type = changestate
triggerall = var(10) = 0
trigger1 = command = "holds"
trigger1 = animtime = 0
value = 17001
ctrl = 0

[state 0]
type = changestate
triggerall = var(10) = 1
trigger1 = animtime = 0
value = 17001
ctrl = 0

[state 0]
type = changestate
triggerall = var(10) = 0
trigger1 = command != "holds"
value = 0
ctrl = 1
;---------------------------------------------------------------------------
[StateDef 17001]
type = S
physics = S
ctrl = 0

[state 0]
type = changeanim
triggerall = var(7) = 0
trigger1 = time = 0
value = 6001

[state 0]
type = changeanim
triggerall = var(7) = 1
trigger1 = time = 0
value = 16001



[State 0]
type = Explod
trigger1 = time = 0
anim = 5995
pos = 0,-40
postype = p1  ;p2,front,back,left,right
facing = 1
sprpriority = 5
ownpal = 1
scale = 1,1
removetime = -2
supermove = 1

[State 0, Aura al azar - grande]
type = Explod
trigger1 = random >= 500
anim = 9411    ; AURA PEQUEÑA
ID = 9411
pos = 0,-40
vel = 0,ifelse(random<499,-0.2,-0.3)
random = 40,40
;bindtime = -1
removetime = -2
scale = ifelse(random<499,0.1,0.150), ifelse(random<499,0.1,0.150)
sprpriority = ifelse(random<749,3,-3)
ownpal = 1
removeongethit = 1

[State 0, Aura al azar - pequeña]
type = Explod
trigger1 = random < 499
anim = 9411
ID = 9411
pos = 0,-40
vel = 0,ifelse(random<499,-0.2,-0.3)
random = 40,40
;bindtime = -1
removetime = -2
scale = ifelse(random<499,0.05,0.025), ifelse(random<499,0.05,0.025)
sprpriority = ifelse(random<749,3,-3)
ownpal = 1
removeongethit = 1


 [State 800, onda 1]
type = Explod
trigger1 = AnimElem = 2, > 0
trigger1 = timemod = 15,0
anim = 9401       ;SUELO AMARILLO
pos = 3,floor(-pos y)
id = 9401
sprpriority = 0
removeongethit = 1
removetime = -2
bindtime = -1
supermovetime = 9999999
pausemovetime = 9999999
ownpal = 1
scale = 0.5, 0.5



  [State 800, Polvo der]
type = Explod
trigger1 = timemod = 12,0
anim = 16004      ;AURA
ID = 16004
pos = 0,0
facing = 1
scale = .45,.5
sprpriority = 2
supermovetime = 99999
pausemovetime = 99999
ownpal = 1


[State 200, charge sound]
type = playsnd
trigger1 = TimeMod = 60,13
value = 730,1
channel = 7
Volume = 100

[State 0, StopSnd]
type = StopSnd
trigger1 = command != "holds"
channel = 7







[state 3600:	Electricity]
type 			= explod
trigger1 = time = 20
trigger2 = timemod = 100,0
anim 			= 36004
ID 			= 36004
pos = 0,-50
postype = p1  ;p2,front,back,left,right
removetime = -2
ontop = 1
scale = 0.5,.5
ownpal = 1
bindtime = -1
supermove = 1

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 =  command != "holds"
id =  36004
;ignorehitpause =
;persistent =


[State 0, electricidad]
type = PlaySnd
trigger1 = time = 20
trigger2 = timemod = 100,0
trigger1 = numexplod(36004) > 0
value = S99,0
channel=6

[State 0, StopSnd]
type = StopSnd
trigger1 = command != "holds"
channel = 6

  [State 800, Polvo der]
type = Explod
trigger1 = AnimElem = 2, > 0
trigger1 = timemod = 18,0
anim = 9912
ID = 9912
pos = -4,floor(-pos y)
facing = 1
scale = .5,.5
sprpriority = 2
supermovetime = 99999
pausemovetime = 99999
ownpal = 1

[State 800, Polvo izq]
type = Explod
trigger1 = AnimElem = 2, > 0
trigger1 = timemod = 18,0
anim = 9912
ID = 9912
pos = 8,floor(-pos y)
facing = -1
scale = .5,.5
sprpriority = 2
supermovetime = 99999
pausemovetime = 99999
ownpal = 1


[State 800, Polvito der]
type = Explod
trigger1 = AnimElem = 2, > 0
trigger1 = timemod = 12,0
anim = 9913
ID = 9913
pos = 40,floor(-pos y)
facing = -1
scale = .5,.5
sprpriority = 2
supermovetime = 99999
pausemovetime = 99999
ownpal = 1

[State 800, Polvito izq]
type = Explod
trigger1 = AnimElem = 2, > 0
trigger1 = timemod = 12,0
anim = 9913
ID = 9913
pos = -34,floor(-pos y)
facing = 1
scale = .5,.5
sprpriority = 2
supermovetime = 99999
pausemovetime = 99999
ownpal = 1







[state 0]
type = poweradd
trigger1 = 1
value = 10

[state 0]
type = envshake
trigger1 = timemod = 5,0
ampl = 2
time = 5



[state 0]
type = playsnd
trigger1 = time = 0
value = S0,6




[state 0]
type = changestate
triggerall = var(10) = 0
trigger1 = command != "holds"
value = 17002
ctrl = 0

[state 0]
type = changestate
triggerall = var(10) = 1
trigger1 = time = 100
value = 17002
ctrl = 0
;---------------------------------------------------------------------------
[StateDef 17002]
type = S
physics = S
ctrl = 0

[state 0]
type = changeanim
triggerall = var(7) = 0
trigger1 = time = 0
value = 6002

[state 0]
type = changeanim
triggerall = var(7) = 1
trigger1 = time = 0
value = 16002

[state 0]
type = changeanim
triggerall = var(7) = 2
trigger1 = time = 0
value = 26002

[state 0]
type = changeanim
triggerall = var(7) = 3
trigger1 = time = 0
value = 36002

[State 0]
type = Explod
triggerall = var(7) = 0
trigger1 = time = 0
anim = 6005
pos = 2,10
postype = p1  ;p2,front,back,left,right
facing = 1
sprpriority = 3
scale = 0.6,0.6
ownpal = 1
supermove = 1

[State 0]
type = Explod
triggerall = var(7) >= 1
trigger1 = time = 0
anim = 16005
pos = 2,10
postype = p1  ;p2,front,back,left,right
facing = 1
sprpriority = 3
scale = 0.6,0.6
ownpal = 1
supermove = 1



[state 0]
type = playsnd
trigger1 = time = 0
value = S0,9

[state 0]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1

;--------------------------------------------------------

; teleport---------------------------------------------------------------------------
[StateDef 16006]
type = S
physics = S
velset = 0,0
ctrl = 0
anim = 16006

[state 0]
type = posadd
trigger1 = animelem = 5
x = 500

[state 0]
type = playsnd
trigger1 = time = 0
value = S16,7
volume = 2000

[state 0]
type = playsnd
trigger1 = animelem = 6
value = S16,8
volume = 2000

[State 6021, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;-------------------------------------------------------------

;--------------------------------


;Giga-Explosion Mystica
[Statedef 3900]
type = S
movetype = A
physics =S
;velset = 0,0,0
juggle = 4
ctrl = 0
anim = 3900
poweradd = -3000
sprpriority = 2

[State 0, VelSet]
type = VelSet
triggerall= Pos y >= 0
trigger1 = time >= 0
x = 0
y = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time= 0
value = S3,9
channel = 2

[State 3100: EnvShake]
type   = EnvShake
trigger1   = time > 8 && ((GameTime%10) = 0)
time   = 50
freq   = 120
ampl   = -2
phase   = 50

[State 3000, SuperPause]
type = SuperPause
trigger1 = animelem = 1
time = 40
movetime = 0
anim = -1
sound = -1
darken = 0

[State 0]
type = null;EnvShake
trigger1 = time = 0
trigger2 = timemod =10,1
time = 30
freq = 110
ampl = -2
phase = 60

[State 0, VarSet]
type = VarSet
trigger1 = !time
v = 11
value = 5

[State 0, VarSet]
type = VarSet
trigger1 = !time
v = 12
value = -45

[State 0, Helper]
type = Helper
trigger1 = animelem = 1
helpertype = normal ;player
name = "Super-Charge"
ID = 6801
stateno = 6801
pos = 2,-40
size.yscale = 1
size.xscale = 1
postype = p1   ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 999

[State 3000, Super Charge]
type = Explod
trigger1 = time= 10
anim = 3925
ID = 3925
pos = 0 ,-40
sprpriority = 2
removetime = -2
bindtime = -1
ownpal = 1
scale = 0.3,0.3
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1
removetime = 40



[State 230, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 3901
ctrl = 1
;--------------------------------------------
;Giga-Explosion MysticaRelease
[Statedef 3901]
type = S
movetype = A
physics =S
;velset = 0,0,0
juggle = 4
ctrl = 0
anim = 3901
poweradd = -3000
sprpriority = 2

[State 3150, 1]
type = PlaySnd
trigger1 = animelem = 1
value = 3, 10
volume = 300
channel = 1

[State 1000, Explod]
type = Explod
triggerall = pos y = 0
trigger1 = animelem = 1
anim =  3060
ID = 3060
pos = -25, 3
postype = p1
facing = 1
vfacing = 1
bindtime = 1
scale = 0.6,0.6
Ontop = 1
removetime = -2
removeongethit = 1
sprpriority = 5

[State 1000, Explod]
type = Explod
triggerall = pos y = 0
trigger1 = animelem = 1
anim =  3060
ID = 3060
pos = 0, 3
postype = p1
facing = -1
vfacing = 1
bindtime = 1
scale = 0.6,0.6
Ontop = 1
removetime = -2
removeongethit = 1
sprpriority = 5




[State 0, VelSet]
type = VelSet
triggerall= Pos y >= 0
trigger1 = time >= 0
x = 0
y = 0
;ignorehitpause =
;persistent =

[State 2300, 1]
type = PlaySnd
trigger1 = time = 1
value = s5, 5
volume = 200
channel = 2

[State 2300, 1]
type = PlaySnd
trigger1 = time = 1
value = 3, 39
volume = 200
channel = 1

[State 3150, 1]
type = PlaySnd
trigger1 = time = 1
value = 3, 20
channel = -1




;------------------------
; Helpers  de la explosion
[State 3500:		Helper]
type		= Helper
trigger1	= time = 1
helpertype	= Normal
name		= "Giga-Explosion Mystica Projectile 1"
id		= 3920
pos		= 0, 0
postype		= p1
facing		= 1
stateno		= 3920
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0
size.xscale     = 1
size.yscale     = 1

[State 0, Explod]
type = Explod
triggerall = pos y = 0
trigger1 = Timemod = 15,13
anim = 7105
ID = 7105
pos = ifelse(power < 2000 ,-10, -20) ,3
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .8,.8
sprpriority = -2
ontop = 0
shadow = 0,0,0
ownpal = 1

[State 0, Explod]
type = Explod
triggerall = pos y = 0
trigger1 = Timemod = 15,13
anim = 7105
ID = 7105
pos = ifelse(power < 2000 ,10, 20) ,3
postype = p1
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
scale = .8,.8
sprpriority = -2
ontop = 0
shadow = 0,0,0
ownpal = 1

[State 0, Explod]
type = Explod
triggerall = pos y = 0 && Time >= 14
trigger1 = Timemod = 15,0
anim = 7730
ID = 7730
pos = 0 ,30
postype = p1
scale = .7,.7
facing = -1
bindtime = 1
sprpriority = 2
ownpal = 1


[State 0, Explod]
type = Explod
trigger1 = !time
anim = 3915
ID = 3915
pos = 0,-30
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = 44
supermovetime = 999
scale = 0.000444,0.000444
sprpriority = 4
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = time <=20
ID = 3915
scale = 0.000444+(0.044*time),0.000444+(0.044*time)

[State 3150, 1]
type = PlaySnd
trigger1 = time = 30
value = 3, 47
channel = 3






[State 240, 4]
type = ChangeState
trigger1 = time = 110
value = 0
ctrl= 1

;-----------------------------------------------------------------------
;Giga-Explosion Mystica Projectile 1
[Statedef 3920]
movetype	= A
anim		= 3920
;velset		= 0,0
ctrl		= 0
poweradd	= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority	= 2





[State 0, Trans]
type = Trans
trigger1 = (!time)
trans = add
;ignorehitpause =
;persistent =


[STate 3551: hitby]
type = hitby
trigger1 = 1
value = SAC,NP,SP,HP

[State 3551:	NotHitBy]
type			= NotHitBy
trigger1		= 1
value			= SCA



[State 1050, Hitdef]
type = Hitdef
trigger1 = (1)
attr = S, NP
hitflag	= MAFDP
guardflag= L
animtype = Hard
priority = 7, Hit
damage = 22,10
pausetime = 0,12
sparkno	= -1
sparkxy	= -10,0
;guard.sparkxy = 30, 20
guard.sparkno = -1
ground.type = Low
air.type = Trip
ground.slidetime = 20
ground.hittime = 20
air.hittime = 15
ground.velocity = -3,-6
guard.velocity = -3
air.velocity = -2,-6
airguard.velocity = -2,-6
ground.cornerpush.veloff = 0
fall = 1
fall.xvelocity = -1
fall.yvelocity = -3
fall.recover = 1
fall.recovertime = -1
air.fall = 1
down.velocity = -1,-2
down.bounce = 1
guard.kill = 0
getpower = 0
givepower = 35
envshake.time = 12
envshake.freq = 150
envshake.ampl = -5
palfx.time	= 25
Palfx.add = 224,88,0
Palfx.sinadd = 48,50,32,16
Palfx.color     = 0
Palfx.invertall = 1


 [State 7180, flames]
type = helper
trigger1 = movehit && numtarget && !numhelper(7181)
trigger1 = !(target, time) && (target, movetype = H)&&((enemynear,stateno=[5000,5050])||(enemynear,stateno=2041))
helpertype = normal
stateno = 7181
ID = 7181
name = "flames"
postype = p2
ownpal = 1
facing = -1
ignorehitpause = 1
scale= .1,.1



[State 2450:	DestroySelf]
type			= DestroySelf
trigger1                = animtime = 0
;------------------------------------
 ;----------------------------------------------------------------------------






;-------------------------------------------------------------------------
;SuperCharge-LVL2
[Statedef 6801]
physics = N
velset = 0,0
anim = 6803
sprpriority = 5



[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nobardisplay
flag2 = nobg
flag3 = noFG

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 26
value = 512

[State 0, VarAdd]
type = VarAdd
triggerall = var(26)>=0
trigger1 = time >= 0
v = 26
value = -11

[State 6800, BgPalfx]
type = Null;BgPalfx
trigger1 = Time >=0
time = 1
add = 256,256,256
mul = var(26),var(26),var(26);512-ceil(21*time),512-ceil(21*time),512-ceil(21*time)
invertall = 1

[State 0, BindToParent]
type = null;BindToParent
trigger1 = 1
pos = parent,var(11),parent,var(12)

[State 0, Explod]
type = Explod
trigger1 = time = 24
anim = 6805
ID = 7005
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = 16
supermovetime = -1
scale = 0.05,0.05
sprpriority = 4
ontop = 1
shadow = 0,0,0
ownpal = 1
removeongethit = 1

[State 8520, Scale]
type = ModifyExplod
trigger1 = numexplod(7005)
ID = 7005
scale = 2 -(0.125 * (time -24)), 2 -(0.125 * (time -24))
trans = addalpha
alpha = ifelse((time -24) < 4, 64 * (time -24), 256), 256

[State 0, Explod]
type = Explod
trigger1 = time = 0 || time = 8 || time = 16 || time = 24
anim = 6804
ID = ifelse(time = 24, 7004, ifelse(time = 16, 7003, ifelse(time = 8, 7002, 7105)))
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = 16
supermovetime = -1
scale = 1,1
sprpriority = 4
ontop = 1
shadow = 0,0,0
ownpal = 1
removeongethit = 1

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = numexplod(7105)
ID = 7105
scale = 1-(0.0625*time), 1-(0.0625*time)
trans = addalpha
alpha = ifelse(time < 4,64*time,256),256

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = numexplod(7002)
ID = 7002
scale = 1-(0.0625*(time -8)),1-(0.0625*(time-8))
trans = addalpha
alpha = ifelse((time -8) < 4,64*(time -8),256),256

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = numexplod(7003)
ID = 7003
scale = 1-(0.0625*(time-16)),1-(0.0625*(time-16))
trans = addalpha
alpha = ifelse((time -16) < 4, 64*(time -16),256),256

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = numexplod(7004)
ID = 7004
scale = 1-(0.0625*(time-24)),1-(0.0625*(time-24))
trans = addalpha
alpha = ifelse((time-24) < 4,64*(time -24), 256),256

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, Trans]
type = Trans
trigger1 = time <= 10
trans = addalpha
alpha = 256,256

[State 0, Trans]
type = Trans
trigger1 = time > 10
trans = addalpha
alpha = ceil(256-(8.53*(time-10))),256

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 500, Angle]
type = Angleadd
trigger1 = 1
value = 15

[State 500, Draw]
type = AngleDraw
trigger1 = 1
scale = .04*time,.04*time

[State 0, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0
;=============================
[Statedef 7181]
physics=N
velset=0,0
anim=9999
sprpriority=4
[State 7180, Assert]
type=assertspecial
trigger1= 1
flag=noshadow
ignorehitpause=1
[State 7180, flames]
type=explod
trigger1= 1
anim=8023+random%2
ID=8023
sprpriority=3
postype=p2
vel=-.2,-.75
pos= (enemynear,const(size.mid.pos.x)), ifelse((enemynear,statetype=L), 0, (enemynear,const(size.mid.pos.y) + 10))
random=40,40
scale=.25,.25
ownpal=1
[State 7180, Pos]
type=posadd
trigger1= 1
x=ceil(p2dist x)
y=ceil(p2dist y)

[State End]
type=destroyself
triggerall= numenemy
trigger1= enemynear,ctrl
trigger2= enemynear,movetype!=H || enemynear,stateno=5300
trigger3= enemynear,statetype=L && (enemynear,stateno!=[5080,5081])
trigger4= !numenemy || time>=120


;-------------------------------------
;poder arriba
[Statedef 9000]
type    = S
movetype= A
physics = S
ctrl = 0
velset = 0
poweradd = -750

[state 0]
type = changeanim
triggerall = var(7) = 0
trigger1 = time = 0
value = 9000

[state 0]
type = changeanim
triggerall = var(7) = 1
trigger1 = time = 0
value = 19000





[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S3,33
volume = 0

[State 2300, 1]
type = PlaySnd
trigger1 = time = 80
value = 3, 19
channel = 1


[State 2300, StopSnd]
type = StopSnd
triggerall = time > 15
trigger1   = command != "holdb"
trigger2   = time = 200
channel = 1


[State 1000, Explod]
type = Explod
trigger1 = animelem = 1
anim =  902   ; bola de enrgia
ID = 902
pos = -14, -93
postype = p1
facing = 1
vfacing = 1
bindtime = 200
scale = 0.3,0.3
Ontop = 5
removetime = 999
removeongethit = 1

[State 0]
type = Helper
trigger1 = animelem = 1
helpertype = normal ;player
name = "Effect"
ID = 9002
stateno = 9002
pos = -14, -93
postype = back
ownpal = -1
supermovetime = 100
size.xscale     = 0.4
size.yscale     = 0.4







[State 2300, RemoveExplod]
type = RemoveExplod
triggerall = time > 15
trigger1   = command != "holdb"
trigger2 = time = 200
id =  902


[State 2300, 4]
type =  ChangeState
triggerall = time > 15
trigger1 = command != "holdb"
trigger2 = time = 200
value = 9001
ctrl = 1

;------------------------------------------------------------------------
;poder arriba lanzar
[Statedef 9001]
type = A
movetype= A
physics = S
ctrl = 0
velset = 0,0
sprpriority = 0
poweradd = 75

[state 0]
type = changeanim
triggerall = var(7) = 0
trigger1 = time = 0
value = 9002

[state 0]
type = changeanim
triggerall = var(7) = 1
trigger1 = time = 0
value = 19002

[state 0]
type = posadd
trigger1 = animelem = 1
y = (p2dist y) -60

[state 0]
type = turn
trigger1 = animelem = 6


[state 0]
type = envshake
triggerall = time > 18
trigger1 = timemod = 5,0
ampl = 2
time = 5

[state 0]
type = playsnd
trigger1 = time = 0
value = S2,46

[State 1000, Explod]
type = Explod
trigger1 = animelem = 1
anim =  8102   ; bola de ener mano lanzar
ID = 8102
pos = 0, 50
postype = p1
facing = 1
vfacing = 1
bindtime = 1
scale = .7,.7
Ontop = 1
removetime = -2
removeongethit = 1

[State 700:		Helper]
type		= Helper
trigger1	= animelem = 1
helpertype	= Normal
name		= "explo"
id		= 9003
pos		= 0,0
postype		= p1
facing		= 1
stateno		= 9003
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0
size.xscale     = 1
size.yscale     = 1



[State 0]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1


;poder arriba help-------------------------------------
[StateDef 9002]
type = S
movetype = A
physics = S
ctrl = 0
anim = 9001
sprpriority = 4
juggle = 1


[State 0]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256,256

[State 0]
type = AngleDraw
trigger1 = 1
scale = 1,1

[State 0, AngleAdd]
type = AngleAdd
trigger1 = 1
value = -5

[state 0]
type = bindtoroot
trigger1 = 1
pos = -14, -93



[State 0]
type			= DestroySelf
trigger1 		= animtime = 100
trigger2 = parent,stateno != 9000


;poder arriba help-------------------------------------
[StateDef 9003]
type = S
movetype = A
physics = S
ctrl = 0
anim = 9103
sprpriority = 4
juggle = 1

[State 0]
type = HitDef
trigger1 = 1
attr = S, NA
damage = 2,1
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
sparkno = -1
hitsound = S0,15
guardsound = S0,15
ground.type = High
ground.slidetime = 5
ground.hittime  = 20
ground.velocity = -5
airguard.velocity = -5
air.type = High
air.velocity = -5
air.hittime = 20
fall = 1
palfx.time = 20
palfx.mul = 16,156,255
palfx.add = 16,255,166


[State 7180, flames]
type = helper
trigger1 = movehit && numtarget && !numhelper(7180)
trigger1 = !(target, time) && (target, movetype = H)&&((enemynear,stateno=[5000,5050])||(enemynear,stateno=9003))
helpertype = normal
stateno = 7180
ID = 7180
name = "flames"
postype = p2
ownpal = 1
facing = -1
ignorehitpause = 1

[State 2300, 1]
type = PlaySnd
trigger1 = time = 0
value = 0,20
volume = 200
channel = 1

[state 0]
type = bindtoroot
trigger1 = 1
pos = 0,0



[State 0]
type			= DestroySelf
trigger1 		= animtime = 100
trigger2 = parent,stateno != 9001

;========================<FIRE>=============================
[Statedef 7180]
physics=N
velset=0,0
anim=9999
sprpriority=4
[State 7180, Assert]
type=assertspecial
trigger1= 1
flag=noshadow
ignorehitpause=1
[State 7180, flames]
type=explod
trigger1= 1
anim=7182+random%2
ID=7182
sprpriority=3
postype=p2
vel=-.2,-.75
pos= (enemynear,const(size.mid.pos.x)), ifelse((enemynear,statetype=L), 0, (enemynear,const(size.mid.pos.y) + 10))
random=40,40
scale=.3,.3
ownpal=1
[State 7180, Pos]
type=posadd
trigger1= 1
x=ceil(p2dist x)
y=ceil(p2dist y)

[State End]
type=destroyself
triggerall= numenemy
trigger1= enemynear,ctrl
trigger2= enemynear,movetype!=H || enemynear,stateno=5300
trigger3= enemynear,statetype=L && (enemynear,stateno!=[5080,5081])
trigger4= !numenemy || time>=120
;-----------------------------------------------

;-------------------------------------------------------------------------
;ki beam
[Statedef 22221]
type =S
movetype= A
physics = S
juggle = 1
physics = S
velset = 0,0
ctrl = 0
poweradd = -600
sprpriority = -1



[state 0]
type = changeanim
triggerall = var(7) = 0
trigger1 = time = 0
value = 3690

[state 0]
type = changeanim
triggerall = var(7) = 1
trigger1 = time = 0
value = 13690




[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S27,27

[State 0, Explod]
type = Explod
trigger1 = animelem = 2
anim = 902     ;-
ID = 902
pos = 38,-66
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
supermove
pausemove
scale = 0.5,0.5
sprpriority = 3
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0

[State 10002, Helper]
type = Helper
trigger1 = animelem = 2
helpertype = normal
name = "ki beam"
ID = 12224
stateno = 12224
pos = 28,-65
postype = p1
facing = 1
keyctrl = 0
ownpal = 0
supermove
pausemove
size.xscale = .7
size.yscale = .25




[State 0, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;-------------------------------------------------------------------------
;ki beam helper
[Statedef 12224]
type =S
movetype= A
physics = S
juggle = 1
physics = S
velset = 0,0
ctrl = 0
anim = 901       ;-
poweradd = 0
sprpriority = 2

[State 2350:	AssertSpecial]
type			= AssertSpecial
trigger1		= 1
;flag			= Invisible
flag			= NoShadow
ignorehitpause = 1


[State 0]
type = HitDef
trigger1 = 1
scale = 2, 2
attr = S, HP
animtype  = Hard
Damage = 2, 1
guardflag = MA
pausetime = 1,1
sparkno = s991231291
sparkxy = -5, 10
guard.sparkno = s912312991
hitsound = s61233, 61233
guardsound = s61233,61233
getpower = 0
ground.type = High
ground.slidetime = 10
ground.hittime  = 15
ground.velocity = -25, -2
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.velocity = -25, -2
fall = 1
fall.recover = 1





[State 0, DestroySelf]
type = DestroySelf
trigger1 = Time = 34

;-----------------------
;---------------------------------------------------------------------------
; Energy Barrier
[Statedef 3590]
type    = S
movetype= I
physics = S
poweradd= -1000
ctrl = 0
velset = 0,0
sprpriority = 1

[state 0]
type = changeanim
triggerall = var(7) = 0
trigger1 = time = 0
value = 3590

[state 0]
type = changeanim
triggerall = var(7) = 1
trigger1 = time = 0
value = 13590


[State 0, SprPriority]
type = SprPriority
trigger1 = 1
value = 1
;ignorehitpause =
;persistent =

[State 730, 3]
type = PlaySnd
trigger1 = time = 0
value = 1,10

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal ;player
name = "energy barrier"
ID = 3591
stateno = 3591
pos = -3,3
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 0
pausemovetime = 0
size.xscale = 0.38
size.yscale = 0.38



[State 0, ChangeState]
type = ChangeState
trigger1 = time = 139
value = 0
ctrl = 1
;anim =
;ignorehitpause =
;persistent =

;---------------------------------------------------------------------------
; Energy Barrier  - helper
[Statedef 3591]
type    = S
movetype= A
physics = S
poweradd= 0
ctrl = 0
velset = 0,0
anim = 9932
sprpriority = 2

[State 0, BindToParent]
type = BindToParent
trigger1 = time >= 0
time = 8
pos = -3,3


[State 0, SprPriority]
type = SprPriority
trigger1 = time >= 0
value = 2
;ignorehitpause =
;persistent =


[State 240, 2]
type = HitDef
trigger1 = time > 1
trigger1 = timemod = 5,0
attr = S, NA
animtype  = Medium
damage    = 10,2
guardflag = MA
pausetime = 0,0
sparkno = s7831
guard.sparkno = s7831
sparkxy = -30,-60
hitsound   = s875,0
guardsound = s875,0
ground.type = Low
ground.slidetime = 12
ground.hittime  = 40
ground.velocity = -1.9,0
air.velocity = -1.9,-1.2
fall = 0
sprpriority = 2
air.hittime = 40
getpower = 0



[State 0, PalFXWiz]
type = PalFX
trigger1 = time >= 0
time = 5
add = 0,0,0
mul = 256,256,356
sinadd = 0,0,0,1
invertall = 0
color = 256
;ignorehitpause = 0
;persistent = 1


[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = time >= 0
flag = noshadow

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S883,0
volume = 150
channel = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 15
value = S882,0
volume = 150
channel = -1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0
;ignorehitpause =
;persistent =

;-----------------------------------------------
;-------------------------------------------


;-------------------------------------------------------------------------------
;Gekiretsukodan-Carga
[Statedef 3550]
type   = S
movetype= A
physics = S
juggle = 4
ctrl = 0
poweradd= -1000
sprpriority = 2
ctrl = 0


[state 0]
type = changeanim
triggerall = var(7) = 0
trigger1 = time = 0
value = 3550

[state 0]
type = changeanim
triggerall = var(7) = 1
trigger1 = time = 0
value = 13552


[State 0]
type = EnvShake
trigger1 = time = 10
time = 50
freq = 110
ampl = -2
phase = 60

[State 0]
type = EnvShake
trigger1 = timemod =10,1
time = 50
freq = 110
ampl = -2
phase = 60



[State 0, VarSet]
type = VarSet
trigger1 = !time
v = 11   ;fv = 10
value = 50

[State 0, VarSet]
type = VarSet
trigger1 = !time
v = 12   ;fv = 10
value = -60



[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = s3,4
channel = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
trigger2 = timemod = 45,1
value = s2,33

[State 2701, VelSet]
type = velset
trigger1 = !Time
x = 0
y = 0

[State 0, Explod]
type = Explod
trigger1 = animelem = 3;time = 0
anim = 3562
ID = 3561
pos = 18,-44
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -1
supermovetime = 999
pausemovetime = 0
scale = .13,.13
sprpriority = 4
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1

[State 0, Explod]
type = Explod
trigger1 = animelem = 3;time = 0
anim = 9440
ID = 3561
pos = 18,-44
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -1
supermovetime = 999
pausemovetime = 0
scale = .16,.16
sprpriority = 4
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1





[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 39
value = 1

[State 3500: ChangeState]
type   = ChangeState
triggerall   = time > 9
trigger1  = (Command != "holdx")
trigger2 = time > 200
value   = 3551
;-------------------------------------------------------------------------------
;Gekiretsukodan-Lanzar
[Statedef 3551]
type   = A
movetype= A
physics = S
velset = 0,0
juggle = 0
ctrl = 0
poweradd= 0
facep2 = 1
sprpriority = 2
ctrl = 0


[state 0]
type = changeanim
triggerall = var(7) = 0
trigger1 = time = 0
value = 13551

[state 0]
type = changeanim
triggerall = var(7) = 1
trigger1 = time = 0
value = 13553


[State 0, Explod]
type = Explod
trigger1 = time = 5
anim = 1642
ID = 1640
pos = 40,-65
postype = p1
removetime = -2
scale = .6,.7
sprpriority = 3
ownpal = 1
removeongethit = 0

[State 0, Explod]
type = null;Explod
trigger1 = time = 5
anim = 7009
ID = 7009
pos = 40,-65
postype = p1
removetime = -2
scale = .25,.6
sprpriority = 3
ownpal = 1
removeongethit = 0

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 20
value = 0


[State 0, VarAdd]
type = VarAdd
trigger1 = command = "a"
trigger2 = command = "b"
trigger3 = command = "c"
trigger4 = command = "x"
trigger5 = command = "y"
trigger6 = command = "z"
trigger7 = timemod = 40,1
v = 20
value = 1
ignorehitpause = 1


[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 5
id = 7032

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 3561

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = s3,23
channel = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = S2,59
volume = 255
channel = 2

[State 1651]
type = helper
trigger1 = time =5
helpertype = normal
name = "Air-BigBang-1"
id = 3560
pos = 40,-65
postype = p1
stateno = 3560
keyctrl = 0
ownpal = 1
size.xscale = .3
size.yscale = .3
sprpriority = 3

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = numhelper(3510)=1
id = 3505

[State 0, ScreenBound]
type = ScreenBound
trigger1 = BackEdgeBodyDist <= 15
value = 0
movecamera = 0,0

[State 3000, 2]
type = ChangeState
triggerall = time >= 5
trigger1 = !numhelper(3560)
trigger2 = helper(3560),stateno = 3564
value = 3552
ctrl = 1
;--------------------------------------------
; RUN_FWD
[Statedef 3253]
type   = S
physics = S
sprpriority = 1

[state 0]
type = changeanim
triggerall = var(7) = 0
trigger1 = time = 0
value = 100

[state 0]
type = changeanim
triggerall = var(7) = 1
trigger1 = time = 0
value = 10100


[State 100:  ScreenBound]
type   = ScreenBound
trigger1  = (BackEdgeBodyDist <= -5)
value   = 0
movecamera  = 0,0

[State 100:  CtrlSet]
type   = CtrlSet
trigger1  = 1
value   = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S2,46

[State 0]
type = AfterImage
trigger1 = Time = 0
time = 2
trans = add1
TimeGap = 2
FrameGap = 2
length = 5
PalBright = 0, 0, 0
PalContrast = 128,128,128
PalAdd = 0, 0, 0
PalMul = 1, 1, 1

[State 0, AfterImageTime]
type = AfterImageTime
trigger1 = anim = 100
time = 2

[State 105: Areia]
type = Explod
trigger1 = time = 0
anim = 7102
id = 7102
pos  = 15,0
postype = p1
facing  = 1
vfacing = 1
vel  = 0,0
accel  = 0,0
scale   = 0.6,0.4
ownpal = 1
ontop = 1
sprpriority = 3
removetime = -2

[State 105: Areia]
type = Explod
triggerall = time != 0
trigger1 = time %11 = 0
anim = 7105
pos  = -20,0
postype = p1
facing  = 1
vfacing = 1
vel  = 0,0
accel  = 0,0
scale   = 0.35,0.5
ontop = 1
ownpal = 1
sprpriority = -1
removetime = -2

[State 100, 1]
type = VelSet
trigger1 = 1
x = 8

[State 100, 2] ;Prevent run from canceling into walk
type = AssertSpecial
trigger1 = 1
flag = NoWalk

[State 100, 3] ;Prevent from turning
type = AssertSpecial
trigger1 = 1
flag = NoAutoTurn

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time > 30
id = 102

[State 100, 3]
type = ChangeState
triggerall = time > 30 && (prevstateno != [3000,3999])
trigger1 =  command != "holdfwd"
trigger2 =  time = 40
value = 101

[State 100, 4]
type = ChangeState
triggerall = prevstateno = 3252 || prevstateno = 3552  || prevstateno = 3502
trigger1 = (BackEdgeBodyDist > -1)
value = 101


;--------------------------------
;Gekiretsukodan-Fin
[Statedef 3552]
type = S
movetype = A
physics = S
ctrl = 0
velset = 0,0
poweradd= 0
ctrl = 0

[state 0]
type = changeanim
triggerall = var(7) = 0
trigger1 = time = 0
value = 3552

[state 0]
type = changeanim
triggerall = var(7) = 1
trigger1 = time = 0
value = 13554

[State 0, ScreenBound]
type = ScreenBound
trigger1 = BackEdgeBodyDist <= 15
value = 0
movecamera = 0,0
ignorehitpause = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 2,23

[State 1455]
type = Explod
trigger1 = time = 0
anim = 2450
ID = 2450
pos = 0,-45
postype = p1
facing = 1
vfacing = 1
bindtime = -1
superMovetime = -1
removetime = -2
pausemovetime = -1
scale = 0.75,0.75
sprpriority = 4
shadow = 0,0,0
ownpal = 1
removeongethit = 1

[State 0, ChangeState]
type = ChangeState
triggerall = time >= 12
trigger1 =(BackEdgeBodyDist <=-20)
trigger1 = p2movetype !=H || p2life = 0
value = 3253
ctrl = 1

[State 0, ChangeState]
type = ChangeState
triggerall = time >= 24
trigger1 =(BackEdgeBodyDist > -20)
;trigger1 = p2stateno = 1027
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
;Gekiretsukodan-Proyectil
[Statedef 3560]
movetype = A
anim = 3560
ctrl = 0
poweradd = 0
velset = 0,0
juggle = 0
facep2 = 0
hitdefpersist = 0
movehitpersist = 0
hitcountpersist = 0
sprpriority = 3

[State 0, Helper]
type = Helper
trigger1 = Movehit && NumTarget
trigger1 =(target,Movetype = H)
triggerall = NumHelper (8025) < 1
helpertype = normal
name = "P2 Body Electricity"
ID = 8025
stateno = 8025
pos = 0,-57
postype = p2
facing = 1
keyctrl = 0
ownpal = 1
ignorehitpause = 1

[State 1005, Helper]
type = Helper
trigger1 = MoveContact = 1 && NumTarget
trigger1 = !(Target,HitShakeOver)
helpertype = normal
name = "Hit Spark"
ID = 8000
stateno = IfElse(MoveGuarded, 7998, 8000)
pos = ceil(P2Dist x),0
postype = p1   ;p2,front,back,left,right
facing = 1
ownpal = 1
supermovetime = 65535
pausemovetime = 65535
ignorehitpause = 1
size.yscale = 1
size.xscale = 1
persistent = 0

[State 0, Explod]
type = Explod
trigger1 = random >50
anim = 3572
ID = 3572
pos = -10,0
vel = -7+random%4,(-9+random%18)*.1
accel = 0,0
random = 10,30
removetime = -2
pausemovetime = 0
scale = .5,.5
sprpriority = 3+random%2
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 0, Pete]
type = Explod
trigger1 = random <950
anim = 7032+random%5
ID = 7032
pos = -10,0
vel = 0,0;-7+random%4,(-9+random%18)*.1
accel = 0,0
random = 10,30
removetime = -2
pausemovetime = 0
scale = .2,.2
sprpriority = 3+random%2
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,AA,AP,AT
stateno = 3570
time = -1
ignorehitpause = 1

[State 0, HitBy]
type = HitBy
trigger1 = 1
value = SCA,NP,SP,HP
time = -1
ignorehitpause = 1

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256,256
ignorehitpause = 1

[State 0, Explod]
type = Explod
trigger1 = timemod = 5,1
anim = 7102
ID = 7102
pos = -10,floor(-pos y)
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
scale = 0.35,0.35
sprpriority = 1+random%2
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0
trans = add

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, ]
type = VelSet
trigger1 = time >= 0
x = 10

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0,0

[State 0,HitDef]
type= HitDef
trigger1= time = 0
attr = SCA, HP
animtype= Back
air.animtype= Back
priority= 5
pausetime = 0,13
damage = 225,25
sparkno = -1
guard.sparkno= -1
sparkxy= 0,-10
hitsound= -1;s7030,32
guardsound= -1;s7030,32
ground.type= High
air.type= light
ground.velocity = -20,-4
guard.velocity= -20
ground.slidetime= 50
ground.hittime = 50
air.hittime= 50
air.velocity= -20,-4
airguard.velocity= -20,-4
fall = 1
air.fall = 1
fall.recover = 0
envshake.time = 10
envshake.freq = 260
envshake.ampl = -4
envshake.phase = 90
p1sprpriority = 4
p2sprpriority = 1
getpower = 0,0
givepower = 0,0
palfx.time = 48
palfx.add = 128, 128,0
palfx.sinadd = -128, -128, 0, 128
id = 35600

[State 0, TargetState]
type = TargetState
trigger1 = WinKo
id = 35600
value = 3625

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 40
value = 0
ignorehitpause =

[State 0, VarAdd]
type = VarAdd
trigger1 = movecontact = 1
v = 40
value = 1
ignorehitpause =

[State 0]
type = EnvColor
trigger1 = var(40)>0
time = 1
value = 255,255,255
ignorehitpause = 1
persistent = 0

[State 0]
type = EnvShake
trigger1 = var(40)>0
time = 20
freq = 60
ampl = -8
ignorehitpause = 1
persistent = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = var(40)>0
trigger2 = frontedgedist <=-50 && var(40)=0
value = S2,51

[State 0, Explod]
type = Explod
trigger1 = var(40)>0
trigger2 = frontedgedist <=-50 && var(40)=0
anim = 3022
ID = 3021
pos = 20,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = 1,1
sprpriority = 4
ownpal = 1
removeongethit = 0

[State 0, Explod]
type = Explod
trigger1 = var(40)>0
trigger2 = frontedgedist <=-50 && var(40)=0
anim = 3025
ID = 3021
pos = 20,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,-3
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = 1,1
sprpriority = 4
ownpal = 1
removeongethit = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = var(40)>0
trigger2 = frontedgedist <=-50 && var(40)=0
value = 3563
ctrl = 0
;-------------------------------------------------------------------------------
;Gekiretsukodan-Explosion
[Statedef 3563]
movetype = A
anim = 3012
ctrl = 0
velset = 0,0
poweradd = 0
juggle = 0
facep2 = 0
hitdefpersist = 1
movehitpersist = 1
hitcountpersist = 1
sprpriority = 3

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256-(8*time),256
ignorehitpause = 1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time >= 0
scale = .2+(.15*time),.2+(.15*time)

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 0,0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0,End]
type = destroyself
trigger1 = time >= 32
;-------------------------------------------------------------------------------
;Gekiretsukodan-Explosion
[Statedef 3564]
movetype = A
anim = 3012
ctrl = 0
velset = 0,0
poweradd = 0
juggle = 0
facep2 = 0
hitdefpersist = 1
movehitpersist = 1
hitcountpersist = 1
sprpriority = 3

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time >= 0
scale = 0+(.15*time),0+(.15*time)

[State 0, Trans]
type = Trans
trigger1 = time >=30
trans = addalpha
alpha = 256-(4*(time-30)),256

[State 0, VelSet]
type = VelSet
trigger1 = time =0
x = 0
y = 0
ignorehitpause = 1

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256-(8*time),256

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = s2,7
volume = 255

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0,0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
;flag2 = invisible
ignorehitpause = 1

[State 0,End]
type = destroyself
trigger1 =time >= 32
;-------------------------------------------------------------------------------
;Choque de bolas (suena feo)
[Statedef 3570]
type = A
movetype = A
physics = N
velset = 0,0
ctrl = 0
sprpriority = 5

[State 3705, Helper]
type = Helper
trigger1 = numhelper(16023)<1
helpertype = normal
name = "Viento"
ID = 16023
stateno = 16023
pos = 0,0
postype = back
facing = 1
ownpal = 1
supermovetime = 65535
pausemovetime = 65535
size.xscale = 1
size.yscale = 1
ignorehitpause = 1

[State 0, Explod]
type = Explod
trigger1 = numexplod(7102)<1
anim = 7102
ID = 7102
pos = -20,floor(-pos y)
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = -2,0
accel = 0,0
random = 0,0
removetime = -2
scale = 0.25,0.15
sprpriority = 1+random%2
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0
trans = add

[State 0, efecto]
type = Explod
trigger1 = numexplod(8110)<1
anim = 8110
ID = 8110
pos = 0,0
postype = p1
random = 0,0
removetime = -2
supermovetime = 65535
pausemovetime = 65535
vfacing = 1
scale = .75,.75
sprpriority = 2
vel=0,0
ontop = 0
ownpal = 1
ignorehitpause = 1

[State 0, Explod]
type = Explod
trigger1 = random >200
anim = 3572
ID = 3572
pos = 0,0
vel = (30+random%30)*(-.1),(-30+random%60)*(.1)
accel = 0,0
random = 10,30
removetime = -2
pausemovetime = 0
scale = .4,.4
sprpriority = -5+random%10
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
triggerall = prevstateno = 3560
trigger1 = time = 0
value = s2,20
ignorehitpause = 1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
ignorehitpause = 1

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 0
y = 0
ignorehitpause = 1

[State 0, PosAdd]
type = PosAdd
trigger1 = 1
x = ifelse(time %2,2,-2)
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nojugglecheck
flag2 = timerfreeze
ignorehitpause = 1

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr =  SCA,AA,AP,AT
stateno = 3570
time = -1
ignorehitpause = 1

[State 0, HitBy]
type = HitBy
trigger1 = 1
value = SCA,NP,SP,HP
time = 1
ignorehitpause = 1

[State 200,HitDef]
type=HitDef
trigger1= 1;timemod = 2,1
attr= S,HP
animtype=Light
damage= 0
guardflag=
hitflag= MADF
priority=1,hit
pausetime= 0,0
sparkno= -1
sparkxy= 0,0
;hitsound= s5,0;ifelse(random < 250,0,11011)
ground.type=High
ground.slidetime=13
ground.hittime=18
ground.velocity= 0
air.velocity= 0,0
guard.dist = 0
kill = 0
sprpriority = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = parent,var(20)>=30 || time>= 25
value = 3560
ignorehitpause = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = enemy,var(20)>=30 || parent,movetype = H
value = 3564
ignorehitpause = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = frontedgedist <-20

;-------------------------------------------------------------------------------
;Efecto De viento Locooooo
[Statedef 16023]
type    = S
movetype= I
physics = N
velset = 0,0
ctrl = 0
anim = 16020
sprpriority = 5

[State 0, Explod]
type = Explod
trigger1 = numexplod(6020)<2
trigger1 = timemod=30,1
anim = 16020
ID = 16020
pos = 0,0
postype = back
bindtime = -1
removetime = -2
pausemovetime = 65535
scale = .5,.5
sprpriority = 5
ontop = 1
ownpal = 1

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
flag2= invisible
ignorehitpause = 1

[State 0, ChangeAnim]
type = null;ChangeAnim
trigger1 = animtime = 0
value = IFELSE(anim=6020,6021,6020)
elem = 1

[State 0, BGPalFX]
type = BGPalFX
trigger1 = 1
time = 1
add = -256,-256,-256
mul = 256,256,256
sinadd = 0,0,0,10
invertall = 0
color = 256

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = parent,stateno!=3570 || parent,movetype = H
id = 16020

[State 0, DestroySelf]
type = DestroySelf
trigger1 = parent,stateno!=3570 || parent,movetype = H
;-----------------------------------------------------------------------

;-------------------------------------
;Makankosappo
[Statedef 3250]
type    = S
movetype= A
physics = S
ctrl = 0
velset = 0
poweradd = -750

[state 0]
type = changeanim
triggerall = var(7) = 0
trigger1 = time = 0
value = 3250

[state 0]
type = changeanim
triggerall = var(7) = 1
trigger1 = time = 0
value = 13250





[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = 2,8   ;inicio
volume = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
trigger2 = timemod = 45,1
value = s2,33


[State 2300, StopSnd]
type = StopSnd
triggerall = time > 15
trigger1   = command != "holdy"
trigger2   = time = 200
channel = 1


[State 1000, Explod]
type = Explod
trigger1 = animelem = 1
anim =  7015   ; bola de enrgia
ID = 7015
pos = 19, -60
facing = 1
vfacing = 1
bindtime = 200
scale = 0.12,0.12
Ontop = 1
removetime = 999
removeongethit = 1


[State 1000, Explod]
type = Explod
trigger1 = animelem = 1
anim =  9440   ;electicity
ID = 9440
pos = 19, -60
facing = 1
vfacing = 1
bindtime = 200
scale = 0.09,0.09
Ontop = 1
removetime = 999
removeongethit = 1






[State 2300, RemoveExplod]
type = RemoveExplod
triggerall = time > 15
trigger1   = command != "holdx"
trigger2 = time = 200
id =  7015

[State 2300, RemoveExplod]
type = RemoveExplod
triggerall = time > 15
trigger1   = command != "holdx"
trigger2 = time = 200
id =  9440


[State 2300, 4]
type =  ChangeState
triggerall = time > 15
trigger1 = command != "holdx"
trigger2 = time = 200
value = 3251
ctrl = 1

;------------------------------------------------------------------------
;;Makankosappo Lanzar
[Statedef 3251]
type    = S
movetype= A
physics = S
poweradd= 65
ctrl = 0
velset = 0
movetime = 80

[state 0]
type = changeanim
triggerall = var(7) = 0
trigger1 = time = 0
value = 3251

[state 0]
type = changeanim
triggerall = var(7) = 1
trigger1 = time = 0
value = 13251




[State 2300, 1]
type = PlaySnd
trigger1 = animelem = 1
value = s4, 1
volume = 200
channel = 1

[State 0, Turn]
type = turn
trigger1 = p2dist X < 0 && AnimElem = 1


[State 0, Explod]
type = Explod
triggerall = time > 1 && numhelper(3260)
trigger1 = !numexplod(7014) <2 && gametime%12=0 || time = 1
anim = 7014
ID = 7014
pos = 69,-51
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = .4,.4
sprpriority = 4
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 1



[State 1000, Explod]
type = Explod
triggerall = pos y = 0
trigger1 = animelem = 1
anim =  7100  ; polvo
ID = 7100
pos = -25, 3
postype = p1
facing = 1
vfacing = 1
bindtime = 1
scale = 0.75,0.75
Ontop = 1
removetime = -2
removeongethit = 1

[State 0, PosAdd]
type = PosAdd
trigger1 =  time = 0
x = 5
y = 0
;ignorehitpause =
;persistent =


[State 4000]
type = Helper
trigger1 = ANIMELEM = 1
helpertype = normal
name = "Final_Flash"
id = 3260
pos = 69, -51
stateno = 3260;ifelse(command="holdup" || command = "holduf",3261,3260)
keyctrl = 0
ontop= 1
ownpal = 1
supermove = 0
supermovetime = 0
pausemovetime = 0
ctrl = 0
sprpriority = 3
size.xscale = .01
size.yscale = .01

[State 4000]
type = Helper
trigger1 = ANIMELEM = 1
helpertype = normal
name = "Final_Flash"
id = 3261
pos = 69, -51
stateno = 3261;ifelse(command="holdup" || command = "holduf",3261,3260)
keyctrl = 0
ontop= 1
ownpal = 1
supermove = 0
supermovetime = 0
pausemovetime = 0
ctrl = 0
sprpriority = 3
size.xscale = .3
size.yscale = .3


[State 3000, 2]
type = ChangeState
triggerall = time > 120
trigger1 = numhelper(3260)=0; || helper(3260),stateno=3212
value = 3252
ctrl = 0
;anim =
;ignorehitpause =
;persistent =
;------------------------------------------
;Makankosappo-Fin
[Statedef 3252]
type = S
movetype = A
physics = S
ctrl = 0
velset = 0,0
poweradd= 0
ctrl = 0

[state 0]
type = changeanim
triggerall = var(7) = 0
trigger1 = time = 0
value = 3252

[state 0]
type = changeanim
triggerall = var(7) = 1
trigger1 = time = 0
value = 13252



[State 0, ScreenBound]
type = ScreenBound
trigger1 = BackEdgeBodyDist <= 15
value = 0
movecamera = 0,0
ignorehitpause = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = s2,23

[State 1455]
type = Explod
trigger1 = time = 0
anim = 2450
ID = 2450
pos = 15,-50
postype = p1
facing = 1
vfacing = 1
bindtime = -1
superMovetime = -1
removetime = -2
pausemovetime = -1
scale = 0.75,0.75
sprpriority = 4
shadow = 0,0,0
ownpal = 1
removeongethit = 1

[State 1455]
type = Explod
trigger1 = time = 0
anim = 2121
ID = 2121
pos = 69,-51
postype = p1
facing = 1
vfacing = 1
bindtime = -1
superMovetime = -1
removetime = -2
pausemovetime = -1
scale = 0.6,0.6
sprpriority = 3
shadow = 0,0,0
ownpal = 1
removeongethit = 1

[State 0, ChangeState]
type = ChangeState
triggerall = time >= 40
trigger1 =(BackEdgeBodyDist <=-20)
trigger1 = p2movetype !=H || p2life = 0
value = 3253
ctrl = 1

[State 0, ChangeState]
type = ChangeState
triggerall = time >= 40
trigger1 =(BackEdgeBodyDist > -20)
value = 0
ctrl = 1
;-------------------------------
;------------------------------------------------------
;Makankosappo-Beam
[Statedef 3260]
type = A
movetype = A
physics  = N
velset = 0,0
anim = 3259
ctrl = 0
poweradd = 0
juggle = 0
facep2 = 0
hitdefpersist = 0
movehitpersist = 0
hitcountpersist = 0
sprpriority  = 3

[State 0, Helper]
type = Helper
trigger1 = Movehit && NumTarget
trigger1 =(target,Movetype = H)
triggerall = NumHelper (8025) < 1
helpertype = normal
name = "P2 Body Electricity"
ID = 8025
stateno = 8025
pos = 0,-57
postype = p2
facing = 1
keyctrl = 0
ownpal = 1
ignorehitpause = 1

[State 3260, Hit Detection]
type = VarSet
trigger1 = MoveContact = 1 && var(30) < 0
v = 30
value = Hitpausetime
ignoreHitPause = 1

[State 3260, Hit Sparks]
type = Helper
triggerAll = MoveContact = 1 && var(30) = HitPauseTime
trigger1 = MoveHit = 1&& NumEnemy
trigger2 = MoveGuarded = 1 && NumEnemy
helperType = Normal
stateNo = ifElse(MoveGuarded, 7998,8000)
ID = 8000
name = "Spark"
postype = P1
pos = ifElse(P2Dist x < 0, 0, ifElse(P2Dist x < 20, ceil(P2Dist x), 20)),0
facing = -1
ownPal = 0
pauseMoveTime = 65535
superMoveTime = 65535
ignoreHitPause = 1
ontop = 1

[State 3260, Hit Detection]
type = VarSet
trigger1 = MoveType = I
trigger2 = MoveType = H && Time
var(30) = -1
ignoreHitPause = 1

[State 3260, Hit Detection]
type = VarSet
trigger1 = 1
var(30) = -1

[State 0, Explod]
type = Explod
trigger1 = gametime%5=0
anim = 7102  ;polvo
ID = 7102
pos = 0,floor(-pos y)
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = .45,.4
sprpriority = 3
ownpal = 1

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr =  SCA,AA,AP,AT
stateno = 3280
time = -1
ignorehitpause = 1

[State 0, HitBy]
type = HitBy
trigger1 = 1
value = SCA,NP,SP,HP
time = -1
ignorehitpause = 1

[State 0, DisplayToClipboard]
type = DisplayToClipboard
trigger1 = 1
text = "Explods = %d"
params = numexplod
ignorehitpause = 1

[State 0, Explod]
type = Explod
trigger1 = time = 1
anim = 3266   ; poder
ID = 3266
pos = -10,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = 45
scale = .8,.8
sprpriority = 1
ownpal = 1
removeongethit = 0


[State 0, Trans]
type = Trans
trigger1 = 1
trans = add
ignorehitpause = 1

[State 4001,AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, VelSet]
type = VelSet
trigger1 = time= 1
x = 13

[State 0, VelSet]
type = VelSet
trigger1 = movehit = 1
trigger2 = moveguarded = 1
x = 4
ignorehitpause = 1

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0,0

[State 0, SprPriority]
type = SprPriority
trigger1 = 1
value = 3
ignorehitpause = 1

[State 4001,HitDef 2]
type = HitDef
trigger1= 1
attr = S, HP
hitflag = MAFD
guardflag = MA
animtype = Hard
priority = 7, Hit
damage = 70,13
pausetime = 4,8;0,16
guard.pausetime = 5,10;0,32
sparkno = -1;s7040
guard.sparkno = -1; -1;s7040
sparkxy = 0,0
hitsound = s1,9;-1
guardsound = s1,6
ground.type = Trip
air.type = Trip
ground.slidetime = 25
ground.hittime = 25
air.hittime = 25
yaccel = 0.35
ground.velocity = -14,-8
guard.velocity = -10
air.velocity = -14,-8
airguard.velocity = -14,-8
ground.cornerpush.veloff = 0
fall = 1
fall.recover = 0
palfx.time = 100
palfx.mul = 256,256,256
palfx.add = 255,255,255
palfx.sinadd = -100,-100,-155,40
getpower = 0,0
givepower = 0,0
id = 3213

[State 0]
type = EnvShake
trigger1 = gametime%10=0
time = 12
freq = 100
ampl = -6
phase = 85

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 40    ;fv = 10
value = 0

[State 0, VarAdd]
type = VarAdd
trigger1 = movecontact = 1
v = 40
value = 1
;ignorehitpause = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = parent,movetype = H
trigger2 = var(40)>=5
trigger3 = frontedgedist <-150
value = 3212
ctrl = 0

;----------------------------------------------------------------------
;Makankosappo-aros

[Statedef 3261]
type = A
movetype = A
physics  = N
velset = 0,0
anim = 3268
ctrl = 0
poweradd = 0
juggle = 0
facep2 = 0
hitdefpersist = 0
movehitpersist = 0
hitcountpersist = 0
sprpriority  = 3



[State 0, Explod]
type = Explod
trigger1 = vel x = 13
anim = 3267
ID = 3267
pos = -10,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel                     = 0,0
accel = 0,0
random = 0,0
removetime = 45
scale = .3,.3
sprpriority = 1
ownpal = 1
removeongethit = 0



[State 3260, Hit Detection]
type = VarSet
trigger1 = MoveType = I
trigger2 = MoveType = H && Time
var(30) = -1
ignoreHitPause = 1

[State 3260, Hit Detection]
type = VarSet
trigger1 = 1
var(30) = -1


[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr =  SCA,AA,AP,AT
stateno = 3280
time = -1
ignorehitpause = 1

[State 0, HitBy]
type = HitBy
trigger1 = 1
value = SCA,NP,SP,HP
time = -1
ignorehitpause = 1

[State 0, DisplayToClipboard]
type = DisplayToClipboard
trigger1 = 1
text = "Explods = %d"
params = numexplod
ignorehitpause = 1


[State 0, Trans]
type = Trans
trigger1 = 1
trans = add
ignorehitpause = 1

[State 4001,AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, VelSet]
type = VelSet
trigger1 = time= 1
x = 13

[State 0, VelSet]
type = VelSet
trigger1 = movehit = 1
trigger2 = moveguarded = 1
x = 4
ignorehitpause = 1

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0,0

[State 0, SprPriority]
type = SprPriority
trigger1 = 1
value = 3
ignorehitpause = 1



[State 0]
type = EnvShake
trigger1 = gametime%10=0
time = 12
freq = 100
ampl = -6
phase = 85

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 40    ;fv = 10
value = 0

[State 0, VarAdd]
type = VarAdd
trigger1 = movecontact = 1
v = 40
value = 1
;ignorehitpause = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = parent,movetype = H
trigger2 = var(40)>=5
trigger3 = frontedgedist <-150
value = 3212
ctrl = 0
;=======================================
;-------------------------------------------------------------------------------
;Explosion
[Statedef 3212]
movetype = A
anim = 8022
ctrl = 0
velset = 0,0
poweradd = 0
juggle = 0
facep2 = 0
hitdefpersist = 0
movehitpersist = 0
hitcountpersist = 0
sprpriority = 3

[State 4001,2]
type = PlaySnd
trigger1 = time = 0
value = s2,28
persistent = 0

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 64
ampl = -6

[State 0, Explod]
type = Explod
trigger1 = time =0
anim = 7016;7006
ID = 7006
removetime = -2
scale = .8,.8
sprpriority = 4
ownpal = 1

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0,0

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = time < 32
ID = 3262
trans = addalpha
alpha = 256-(8*time),256

[State 0, ModifyExplod]
type = RemoveExplod
trigger1 = time >= 32
ID = 3262

[State 0, PalFXWiz]
type = null;allPalFX
trigger1 = time = 12
time = 36
add = 200,200,256
mul = 200,200,256
sinadd = 200,200,256,60
invertall = 0
color = 256
persistent = 0

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = 0+(.2*time),0+(.2*time)

[State 0, AngleAdd]
type = AngleAdd
trigger1 = 1
value = 5*time
ignorehitpause = 1

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = ceil(256-(5.333*time)),256

[State 0]
type = EnvShake
Trigger1 = timemod = 2,1
time = 2
freq = 10
ampl = -6
phase = 120

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 2,28
volume = 255

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0,End]
type = destroyself
trigger1 = time >= 64
;-------------------------------------------------------
;---------------------------------------------------------------------
;Choque de Rayos
[Statedef 3280]
type = A
movetype = A
physics = N
velset = 0,0
ctrl = 0
sprpriority = 5

[State 3705, Helper]
type = Helper
trigger1 = numhelper(6022)<1
helpertype = normal
name = "Viento"
ID = 6022
stateno = 6022
pos = 0,0
postype = back
facing = 1
ownpal = 1
supermovetime = 65535
pausemovetime = 65535
size.xscale = 1
size.yscale = 1
ignorehitpause = 1

[State 0, Explod]
type = Explod
trigger1 = numexplod(7102)<1
anim = 7102
ID = 7102
pos = -20,floor(-pos y)
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = -2,0
accel = 0,0
random = 0,0
removetime = -2
scale = 0.45,0.45
sprpriority = -1
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0
trans = add

[State 0, efecto]
type = Explod
trigger1 = numexplod(8110)<1
anim = 8110
ID = 8110
pos = 0,0
postype = p1
random = 0,0
removetime = -2
supermovetime = 65535
pausemovetime = 65535
vfacing = 1
scale = .75,.75
sprpriority = 2
vel=0,0
ontop = 0
ownpal = 1
ignorehitpause = 1

[State 0, Explod]
type = Explod
trigger1 = random >250
anim = 3572
ID = 3572
pos = 0,0
vel = (60+random%30)*(-.1),(-40+random%80)*(.1)
accel = 0,0
random = 10,30
removetime = -2
pausemovetime = 0
scale = .55,.55
sprpriority = -5+random%10
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 0
y = 0
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = prevstateno = 3260 && time = 0
value = s2,20
ignorehitpause = 1

[State 0, PosAdd]
type = PosAdd
trigger1 = 1
x = ifelse(time % 2,3,-3)
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nojugglecheck
flag2 = timerfreeze
ignorehitpause = 1

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr =  SCA,AA,AP,AT
stateno = 3280
time = 1
ignorehitpause = 1

[State 0, HitBy]
type = HitBy
trigger1 = 1
value = SCA,NP,SP,HP
time = -1
ignorehitpause = 1

[State 200,HitDef]
type=HitDef
trigger1= 1;timemod = 2,1
attr= S,HP
animtype=Light
damage= 0
guardflag=
hitflag= MADF
priority=1,hit
pausetime= 0,0
sparkno= -1
sparkxy= 0,0
;hitsound= s5,0;ifelse(random < 250,0,11011)
ground.type=High
ground.slidetime=13
ground.hittime=18
ground.velocity= 0
air.velocity= 0,0
guard.dist = 0
kill = 0
sprpriority = 5

[State 0, SprPriority]
type = SprPriority
trigger1 = 1
value = 5
ignorehitpause = 1
;persistent =

[State 0, ChangeState]
type = ChangeState
trigger1 = parent,var(20)>=30 || time>25
value = 3260
ignorehitpause = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = ENEMY,var(20)>=30 || parent,movetype = H
value = 3212
ignorehitpause = 1

[State 0, DestroySelf]
type = changestate
trigger1 = frontedgedist <-20
value = 3260
ctrl = 0
;-------------------------------------------------------
;-------------------------------------------------------------------------------
;HitSparks
[Statedef 8000]
anim = IfElse((parent,stateno=[200,999]),8005,IfElse((parent,stateno=[1000,2999]),8007,8009))
type = A
physics = N
moveType = I
velSet = 0,0
sprPriority = 5

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = parent,movetype = H
value = IfElse((parent,prevstateno=[200,999]),8005,IfElse((parent,prevstateno=[1000,2999]),8007,8009))
ignorehitpause = 1

[State 8000, Explod]
type = Explod
trigger1 = Time<=4
trigger1 = numexplod(8000)<5
anim = IfElse((parent,stateno=[200,999]),8000,IfElse((parent,stateno=[1000,2999]),8001,8002))
ID = 8000
postype = p1
vel = -5+random%11, -5+random%11
supermovetime = -1
pausemovetime = -1
scale = .5,.5
sprpriority = 5

[State 7020, ModifyExplod]
type = ModifyExplod
trigger1 = NumExplod(8000)
ID = 8000
trans = addalpha
alpha = 256-16*Time,256

[State 8000, AngleDraw]
type = AngleDraw
trigger1 = Time < 10
scale = .2625+(time*.07875), .2625-(time*.02625)

[State 8000, AngleDraw]
type = AngleDraw
trigger1 = Time>=10
scale = 0,0

[State 8000, Explod]
type = Explod
trigger1 = !Time
anim = IfElse((parent,stateno=[200,999]),8006,IfElse((parent,stateno=[1000,2999]),8008,8010))
ID = 8006
postype = p1
removetime = 14
supermovetime = -1
pausemovetime = -1
sprpriority = 5

[State 8000, ModifyExplod]
type = ModifyExplod
trigger1 = NumExplod(8006)
ID = 8006
scale = 0+(.025*Time), 0+(.025*Time)

[State 8000, ModifyExplod]
type = ModifyExplod
trigger1 = time > 4
ID = 8006
trans = addalpha
alpha = Ceil(256-25.6*(Time-4)),256

[State 8011, AngleSet]
type = AngleSet
trigger1 = !Time
value = 1+random%360

[State 8011, AngleAdd]
type = AngleAdd
trigger1 = !time
value = 1+random%360

[State 8000, Transparency]
type = Trans
trigger1 = 1
trans = AddAlpha
alpha = 256,256
ignoreHitPause = 1

[State 0]
type = Assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 7014]
type = destroyself
trigger1 = time>= 16
;----------------------------------------------------------------------------
;Helper de Electricidad
[Statedef 8025]
physics = N
velset = 0,0
anim = 7031
sprpriority = 4

[State 8023, AssertSpecial]
type = AssertSpecial
trigger1 = Time >= 0
flag = NoShadow
flag2 =invisible
ignorehitpause = 1

[State 8023, flames]
type = Explod
trigger1 = 1
anim = 3572
ID = 3572
sprpriority = 3
postype = p2
vel = ifelse(random>500,-.3,.3),ifelse(random>500,-.6,.6)
pos = (enemynear,const(size.mid.pos.x)),(enemynear,const(size.mid.pos.y))+10
random = 40,40
removetime = -2
scale = .25,.25
ownpal = 1

[State 8023, flames]
type = Explod
trigger1 = numexplod(8023)<8
anim = 7032+random%4
ID = 8023
sprpriority = 3
postype = p2
vel = -.2,-.75
pos = (enemynear,const(size.mid.pos.x)),(enemynear,const(size.mid.pos.y))+10
random = 40,40
removetime = -2
scale = .3,.3
ownpal = 1

[State 8023, PosAdd]
type = PosAdd
trigger1 = Time >= 0
x = ceil(p2dist x)
y = ceil(p2dist y)

[State 8023, DestroySelf]
type = DestroySelf
trigger1 = time >= 120
trigger2 = enemynear,ctrl ||(enemynear,movetype!=H) || (enemynear,statetype=L)
;--------------------------------------
;-------------------------------------
; FireBall AIR
[Statedef 12223]
type    = A
movetype= A
physics = N
juggle  = 5
poweradd= -100
ctrl = 0
velset = 0,0
sprpriority = 2

[state 0]
type = changeanim
triggerall = var(7) = 0
trigger1 = time = 0
value = 1707

[state 0]
type = changeanim
triggerall = var(7) = 1
trigger1 = time = 0
value = 11707




[State 210, 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = 700,0
volume = 200

[State 0]
type = displaytoclipboard
trigger1 = 1
text = "var(18) = %d"
params = var(18)

[State 0]
type = varrandom
trigger1 = time = 0
v = 18
range = 1,9

[State 0, Explod]
type = Explod
trigger1 = AnimElem = 2
anim = 2020
ID = 2020
pos = 45,-49
postype = p1
bindtime = 1
removetime = -2
scale = 0.18,0.18
sprpriority = 3
shadow = 0,0,0
ownpal = 1
pausemovetime           = 999

[State 0, Helper]
type = Helper
trigger1 = AnimElem = 2
helpertype = normal
name = "Fireball"
ID = 701
stateno = 701
pos = 45,-49
postype = p1
facing = 1
ownpal = 1
size.xscale = .25
size.yscale = .25
pausemovetime           = 999


[State 240, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1

;-------------------------------------------
; FireBall ABAJO
[Statedef 12222]
type    = C
movetype= A
physics = C
ctrl = 0
velset = 0
poweradd = -100

[state 0]
type = changeanim
triggerall = var(7) = 0
trigger1 = time = 0
value = 1706

[state 0]
type = changeanim
triggerall = var(7) = 1
trigger1 = time = 0
value = 11706


[State 2222,1]
type = playsnd
trigger1 = AnimElem = 2
value = 700,0
volume = 255

[State 2222: magia(mao)]
type = Explod
trigger1 = animelem = 2
anim = 2020   ;resplandor azul
postype = p1
pos = 42, -41
sprpriority = 3
bindtime = -1
removeongethit = 1
scale = 0.18,0.18
ownpal = 1

[State 2222,2]
type = Helper
trigger1 = AnimElem = 2
helpertype = normal
name = "Fire_ball"
id = 701
pos = 42, -41
stateno = 701
keyctrl = 1
ownpal = 1
size.xscale = .25
size.yscale = .25



[State 2222, 4]
type=ChangeState
trigger1=AnimTime=0
value=11
ctrl=1



;super kame ssj2--------------------------------------------------------------------------
[StateDef 8035]
type = S
movetype= A
physics = S
ctrl = 0
velset = 0,0
sprpriority = 0
poweradd = -3000

[State 0]
type = SuperPause
trigger1 = time = 0
time = 180
anim = -1
movetime = 180
darken = 0

[state 0]
type = changeanim
triggerall = var(7) = 0
trigger1 = time = 0
value = 6035

[state 0]
type = changeanim
triggerall = var(7) = 1
trigger1 = time = 0
value = 16035

[state 0]
type = changeanim
triggerall = var(7) = 2
trigger1 = time = 0
value = 26035

[state 0]
type = changeanim
triggerall = var(7) = 3
trigger1 = time = 0
value = 36035

[State 0]
type = Helper
trigger1 = animelem = 2
helpertype = normal ;player
name = "Effect"
ID = 8036
stateno = 8036
pos = 0,0
postype = p1
ownpal = 1
supermovetime = 200
size.xscale =  1
size.yscale =  1

[State 0]
type = Helper
trigger1 = animelem = 19
helpertype = normal ;player
name = "Effect"
ID = 8038
stateno = 8038
pos = 20,5
postype = p1
ownpal = 1
supermovetime = 200
size.xscale =  .6
size.yscale =  .6

[state 0]
type = playsnd
trigger1 = animelem = 2
value = S0,21

[state 0]
type = playsnd
trigger1 = time = 5
value = S0,26

[state 0]
type = playsnd
trigger1 = animelem = 19
value = S0,25

[state 0]
type = playsnd
trigger1 = animelem = 19
value = S0,27

[State 0]
type = Helper
trigger1 = animelem = 19
helpertype = normal ;player
name = "Kamehameha"
ID = 8037
stateno = 8037
pos = 20,-40
postype = p1
ownpal = 1
size.xscale = 1
size.yscale =  1.5

[state 0]
type = envshake
triggerall = time >= 190
trigger1 = timemod = 10,0
ampl = 4
time = 10
ignorehitpause = 1

[State 0]
type = Explod
trigger1 = time = 100
anim = 5995
pos = 0,-40
postype = p1  ;p2,front,back,left,right
facing = 1
sprpriority = 5
ownpal = 1
scale = 1,1
removetime = -2
supermove = 1

[State 0]
type = Explod
trigger1 = time = 100
anim = 6007
pos = 5,10
postype = p1  ;p2,front,back,left,right
facing = 1
sprpriority = 3
ownpal = 1
scale = 0.45,0.45
removetime = 435
supermove = 1
removeongethit = 1

[State 0]
type = Explod
triggerall = var(7) = 0
trigger1 = time = 100
anim = 6004
pos = 1,5
postype = p1  ;p2,front,back,left,right
facing = 1
sprpriority = 3
ownpal = 1
scale = 0.45,0.45
bindtime = -1
removetime = 435
supermove = 1
removeongethit = 1

[State 0]
type = Explod
triggerall = var(7) >= 1
trigger1 = time = 100
anim = 16004
pos = 1,5
postype = p1  ;p2,front,back,left,right
facing = 1
sprpriority = 3
ownpal = 1
scale = 0.5,0.5
bindtime = -1
removetime = 435
supermove = 1
removeongethit = 1

[State 0]
type = Explod
triggerall = var(7) >= 2
trigger1 = time = 100
anim = 26004
pos = 1,5
postype = p1  ;p2,front,back,left,right
sprpriority = -5
ontop = 1
scale = 0.45,0.45
bindtime = -1
removetime = 435
supermove = 1
removeongethit = 1

[state 0]
type = playsnd
trigger1 = time = 100
value = S0,6

[State 0]
type = playsnd
triggerall = time >= 100
trigger1 = timemod = 72,0
value = S0,7

[State 0]
type = Explod
triggerall = var(7) = 0
trigger1 = animtime = 0
anim = 6005
pos = 2,10
postype = p1  ;p2,front,back,left,right
facing = 1
sprpriority = 3
scale = 0.6,0.6
ownpal = 1
supermove = 1

[State 0]
type = Explod
triggerall = var(7) >= 1
trigger1 = animtime = 0
anim = 16005
pos = 2,10
postype = p1  ;p2,front,back,left,right
facing = 1
sprpriority = 3
scale = 0.6,0.6
ownpal = 1
supermove = 1

[state 0]
type = playsnd
trigger1 = animtime = 0
value = S0,9

[State 0]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
[StateDef 8036]
type = S
movetype = A
physics = S
ctrl = 0
anim = 9996
sprpriority = 5
juggle = 1

[State 0]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256,256

[State 0]
type = AngleDraw
trigger1 = 1
scale = 0.4,0.4

[State 0, AngleAdd]
type = AngleAdd
trigger1 = 1
value = -5

[state 0]
type = bindtoroot
trigger1 = 1
pos = -15,-45



[state 0]
type = destroyself
trigger1 = time = 185
trigger2 = parent,stateno != 8035
;---------------------------------------------------------------------------
[StateDef 8037]
type = S
movetype= A
physics = S
anim = 9997
sprpriority = 5
juggle = 1

[state 0]
type = angledraw
trigger1 = 1
scale = 1,1

[State 0]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256,256

[state 0]
type = bindtoroot
trigger1 = 1
pos = 25,-52




[state 0]
type = assertspecial
trigger1 = 1
flag = noshadow

[State 0]
type = HitDef
triggerall = time < 348
trigger1 = timemod = 2,0
attr = S, NA
damage = 2,1
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
sparkno = -1
ground.type = High
ground.slidetime = 5
ground.hittime  = 20
ground.velocity = -2
airguard.velocity = -2
air.type = High
air.velocity = -2
air.hittime = 20

[State 0]
type = HitDef
trigger1 = time = 349
attr = S, NA
damage = 2,1
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
sparkno = -1
ground.type = High
ground.slidetime = 5
ground.hittime  = 20
ground.velocity = -2
airguard.velocity = -2
air.type = High
air.velocity = -2
air.hittime = 20
fall = 1

[State 6014]
type = Destroyself
trigger1 = Time = 350
trigger2 = parent,stateno != 8035
;---------------------------------------------------------------------------
[StateDef 8038]
type = S
movetype = A
physics = S
ctrl = 0
anim = 9995
sprpriority = 5
juggle = 1

[State 0]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256,256

[state 0]
type = angledraw
trigger1 = 1
scale = .8,1

[state 0]
type = bindtoroot
trigger1 = 1
pos = 50,-52

[state 0]
type = destroyself
trigger1 = time = 350
trigger2 = parent,stateno != 8035

 ;---------------------------------------------------------------------------
; FireBall
[Statedef 2222]
type    = S
movetype= A
physics = S
ctrl = 0
velset = 0
poweradd = -100

[state 0]
type = changeanim
triggerall = var(7) = 0
trigger1 = time = 0
value = 706

[state 0]
type = changeanim
triggerall = var(7) = 1
trigger1 = time = 0
value = 707

[state 0]
type = changeanim
triggerall = var(7) = 2
trigger1 = time = 0
value = 708

[State 2222,1]
type = playsnd
trigger1 = AnimElem = 2
value = 700,0
volume = 255

[State 2222: magia(mao)]
type = Explod
trigger1 = animelem = 2
anim = 2020   ;resplandor azul
postype = p1
pos = 43, -51
sprpriority = 3
bindtime = -1
removeongethit = 1
scale = 0.18,0.18
ownpal = 1

[State 2222,2]
type = Helper
trigger1 = AnimElem = 2
helpertype = normal
name = "Fire_ball"
id = 701
pos = 43, -51
stateno = 701
keyctrl = 1
ownpal = 1
size.xscale = .25
size.yscale = .25



[State 2222, 4]
type=ChangeState
trigger1=AnimTime=0
value=0
ctrl=1

;helper fireball----------------


; Fireball helper|


[Statedef 701]
movetype = A
anim = 2010
velset = 0,0
ctrl = 0
juggle = 0
sprpriority = 2
poweradd = 0



[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, Explod]
type = Explod
trigger1 = random > 200
anim = 2022
ID = 2022
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = vel x*.05,vel y*.1
random = 4,10;0,0
removetime = -2
scale = .04,.04
sprpriority = ifelse(random > 500,4,-4)
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, VelSet]
type = VelSet
trigger1 = !time
x = 10
y = (-20+random%40)*0.1;ifelse(random < 500,0,ifelse(random<500,2,-2))

[State 0, VelAdd]
type = VelAdd
trigger1 = time > 0
x = 0.3

[State 201, 1]
type = HitDef
trigger1 = time = 0
attr = S, NP
damage   = 25,3
animtype = medium
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 0,7
sparkno = -1
guard.sparkno = -1
sparkxy = 0,0
hitsound = s2,4
guardsound = s2,4
ground.type = heavy
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = ifelse(parent,stateno=1002,-7,-2)
airguard.velocity = -2,-3
air.velocity = ifelse(parent,stateno=1002,-7,-2)
getpower = 0,0
givepower = 40,40
palfx.time = 30
palfx.add = 100,100,0
palfx.sinadd = -100,-100,-0, 120
envshake.time=12
envshake.freq=100
envshake.ampl=4

[State 0, HitBy]
type = HitBy
trigger1 = 1
value = SCA,NP,SP,HP
time = -1

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,AA,AP,AT
slot = 0
stateno = 2011
time = -1

[State 0, AfterImageTime]
type = AfterImageTime
trigger1 = movecontact
time = 0


[State 0, ChangeState]
type = ChangeState
trigger1 = movecontact || BackEdgeDist < -35 || FrontEdgeDist < -35
value = 702


;Fireball Explosion ------------------------------


[Statedef 702]
type = S
anim = 7999
sprpriority = 3

[State 0, ParentVarAdd]
type = ParentVarAdd
trigger1 = Time = 1
v = 21
value = 1

[State 0, Explod]
type = Explod
trigger1 = Time = 1
anim = 2135
ID = 2135
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .5,.5
sprpriority = 3
shadow = 0,0,0
ownpal = 1
removeongethit = 0



[State 0, EnvShake]
type = EnvShake
trigger1 = Time = 0
time = 10
freq = 60
ampl = -4
phase = 90

[State 0, PlaySnd]
type = PlaySnd
trigger1 = Time = 1
value = 2,5
volume = 0
channel = 2

[State 0, DestroySelf]
type = DestroySelf
trigger1 = Time >= 130
ignorehitpause = 1




;---------------------
;-------------------------------------------------------------------------------

;---------------------------------------------------------------------------
;Melee ssj
[Statedef 1052]
type 			        = S
movetype		        = A
physics		            = S
juggle	    	        = 1
anim    			    = 1052
velset		            = 0,0
ctrl			        = 0
poweradd		        = 69
facep2		            = 0
hitdefpersist	        = 0
movehitpersist	        = 0
hitcountpersist	        = 0
sprpriority		        = 2

[State 0: VelSet]
type                    = VelSet
trigger1                = AnimElem = 3
x                       = 15

[State 0, ]
type                    = PlaySnd
trigger1                = AnimElem = 3
value                   = 0, 10

[State 0, ]
type                    = MakeDust
trigger1                = AnimElem = 2 > 0 && AnimElem = 4 < 0
pos                     = -5,-2
spacing                 = 4

[State 0:       Dust Right]
type                    = Explod
trigger1                = AnimElem = 3
anim                    = 7100 ;polvo
ID                      = 7100
bindtime                = 1
pos                     = -7,3
removetime              = -2
sprpriority             = 3
ownpal                  = 1
removeongethit          = 0

[State 0, ]
type                    = HitDef
trigger1                = AnimElem = 3
attr                    = S, SA
damage                  = 0, 0
snap                    = 10,0
numhits                 = 0
animtype                = Heavy
guardflag               = M
hitflag                 = MAF
priority                = 5, Hit
pausetime               = 7, 20
sparkno = -1
guard.sparkno = -1
sparkxy                 = 0, -40
hitsound                = S0,13
guardsound              = S0,17
ground.type             = low
ground.slidetime        = 0
ground.hittime          = 0
ground.velocity         = 0
airguard.velocity       = -3.9,-1
air.type                = low
air.velocity            = 0
air.hittime             = 12
getpower                = 0
givepower		        = 0
envshake.time           = 10
envshake.freq           = 100
envshake.ampl           = -4
envshake.phase          = 10
yaccel		            = 0.5
p1stateno               = 1053

[State 0]
type = Explod
trigger1 = movehit = 1
anim = 5998
pos = 40,-55
postype = p1  ;p2,front,back,left,right
removetime = -2
ontop = 1
scale = 1,1
ownpal = 1

[State 0]
type = Explod
trigger1 = movehit = 0
trigger1 = movecontact = 1
anim = 5999
pos = 40,-55
postype = p1  ;p2,front,back,left,right
removetime = -2
ontop = 1
scale = 1,1
ownpal = 1

[State 0, ]
type                    = ChangeState
trigger1                = !AnimTime
value                   = 0
ctrl                    = 1

;---------------------------------------------------------------------------
;Melee ssj - hit
[Statedef 1053]
type 			        = S
movetype		        = A
physics		            = N
juggle	    	        = 1
anim    			    = 1053
velset		            = 0,0
ctrl			        = 0
poweradd		        = 0
facep2		            = 0
hitdefpersist	        = 0
movehitpersist	        = 0
hitcountpersist	        = 0
sprpriority		        = 2

[State 0: PlayerPush]
type                    = PlayerPush
trigger1                = AnimElem = 1
value                   = 0
ignorehitpause          = 1

[State 0, ]
type                    = PlaySnd
trigger1                = AnimElem = 6, 2
trigger2                = AnimElem = 10, 2
value                   = 0, 31

[State 0: Pause]
type                    = Pause
trigger1                = AnimElem = 6, 2
trigger2                = AnimElem = 10, 2
time                    = 2
movetime                = 2

[State 0: PosAdd]
type                    = PosAdd
trigger1                = AnimElem = 6, 2
trigger2                = AnimElem = 10, 2
x                       = 80

[State 0: Turn]
type                    = Turn
trigger1                = AnimElem = 6, 2
trigger2                = AnimElem = 10, 2

[State 0: 	AfterImage]
type 			        = AfterImage
trigger1 		        = (!Time)
time 			        = 9999999
framegap 		        = 4
length 		            = 6
paladd 		            = 0, 0, 0
palmul 		            = .60, .60, .60
palcontrast 	        = 100, 100, 100
trans 		            = add

[State 0, AfterImage]
type                    = AfterImageTime
trigger1                = 1
time                    = 2

[State 0, ]
type                    = HitDef
trigger1                = AnimElem = 3
trigger2                = AnimElem = 8
attr                    = S, SA
damage                  = Ceil(IfElse(Var(15) >= 5, IfElse((20*(24-Var(15)+5)/24) > 0, 20*(24-Var(15)+5)/24,10),20)), 8
numhits                 = 0
animtype                = Light
guardflag               = M
hitflag                 = MAF
priority                = 5, Hit
pausetime               = 5, 12
sparkno = -1
guard.sparkno = -1
sparkxy                 = 0, -50
hitsound                = S0,13
guardsound              = S0,17
ground.type             = low
ground.slidetime        = 20
ground.hittime          = 20
ground.velocity         = -3, 0
airguard.velocity       = -3, 0
air.type                = High
air.velocity            = -3, -4
air.hittime             = 12
getpower                = 27
givepower		        = 0
envshake.time           = 10
envshake.freq           = 100
envshake.ampl           = -4
envshake.phase          = 10
yaccel		            = 0.5


[State 0, ]
type                    = HitDef
trigger1                = AnimElem = 12
attr                    = S, SA
damage                  = Ceil(IfElse(Var(15) >= 5, IfElse((20*(24-Var(15)+5)/24) > 0, 20*(24-Var(15)+5)/24,10),20)), 0
animtype                = Heavy
guardflag               = M
hitflag                 = MAF
priority                = 3, Hit
pausetime               = 11, 12
sparkno = -1
guard.sparkno = -1
sparkxy                 = 0, -40
hitsound                = S0,13
guardsound              = S0,17
ground.type             = High
ground.slidetime        = 12
ground.hittime          = 12
ground.velocity         = -4, -9.3
airguard.velocity       = -3, -3
air.type                = High
air.velocity            = -4, -9.3
air.hittime             = 12
getpower                = 0
givepower		        = 0
yaccel		            = 0.5
fall                    = 1
fall.recover            = 0
envshake.time           = 10
envshake.freq           = 100
envshake.ampl           = -4
envshake.phase          = 10

[State 0]
type = Explod
trigger1 = movehit = 1
anim = 5998
pos = 40,-55
postype = p1  ;p2,front,back,left,right
removetime = -2
ontop = 1
scale = 1,1
ownpal = 1

[State 0]
type = Explod
trigger1 = movehit = 0
trigger1 = movecontact = 1
anim = 5999
pos = 40,-55
postype = p1  ;p2,front,back,left,right
removetime = -2
ontop = 1
scale = 1,1
ownpal = 1

;--------------

[State 0: PlaySnd]
type                    = PlaySnd
trigger1                = AnimElem = 13
value                   = 1030, 0
volume                  = 255

[State 0: Pause]
type                    = Pause
triggerall              = AnimElem = 13,>  0
trigger1                = gametime%2 = 0
time                    = 1
movetime                = 1

[State 0: Explod]
type                    = Explod
trigger1                = AnimElem = 14
anim                    = 70341 ;bola energia
ID                      = 70341
pos                     = 4,-83
postype                 = p1
bindtime                = -1
removetime              = -1
pausemovetime           = 999
scale                   = 1,1
sprpriority             = 3
ownpal                  = 1
removeongethit          = 1

[State 0: RemoveExplod]
type                    = RemoveExplod
trigger1                = AnimElem = 15
ID                      = 70341
ignorehitpause          = 1

[State 0: Explod]
type                    = Explod
trigger1                = AnimElem = 15
anim                    = 70341  ; b0la
ID                      = 70342
pos                     = 32,-57
postype                 = p1
bindtime                = -1
removetime              = -1
pausemovetime           = 999
scale                   = 1,1
sprpriority             = 3
ownpal                  = 1
removeongethit          = 1

;--------------

[State 0, ]
type                    = ChangeState
trigger1                = AnimElem = 15 > 15 && P2bodydist Y > -80
value                   = 22221
ctrl                    = 0

;---------------------

;---------------------------------------------------------------------------
;Melee normal
[Statedef 1050]
type 			        = S
movetype		        = A
physics		            = S
juggle	    	        = 1
anim    			    = 1050
velset		            = 0,0
ctrl			        = 0
poweradd		        = 69
facep2		            = 0
hitdefpersist	        = 0
movehitpersist	        = 0
hitcountpersist	        = 0
sprpriority		        = 2

[State 0: VelSet]
type                    = VelSet
trigger1                = AnimElem = 3
x                       = 15

[State 0, ]
type                    = PlaySnd
trigger1                = AnimElem = 3
value                   = 0, 10

[State 0, ]
type                    = MakeDust
trigger1                = AnimElem = 2 > 0 && AnimElem = 4 < 0
pos                     = -5,-2
spacing                 = 4

[State 0:       Dust Right]
type                    = Explod
trigger1                = AnimElem = 3
anim                    = 7100 ;polvo
ID                      = 7100
bindtime                = 1
pos                     = -7,3
removetime              = -2
sprpriority             = 3
ownpal                  = 1
removeongethit          = 0

[State 0, ]
type                    = HitDef
trigger1                = AnimElem = 3
attr                    = S, SA
damage                  = 0, 0
snap                    = 10,0
numhits                 = 0
animtype                = Heavy
guardflag               = M
hitflag                 = MAF
priority                = 5, Hit
pausetime               = 7, 20
sparkno = -1
guard.sparkno = -1
sparkxy                 = 0, -40
hitsound                = S0,13
guardsound              = S0,17
ground.type             = low
ground.slidetime        = 0
ground.hittime          = 0
ground.velocity         = 0
airguard.velocity       = -3.9,-1
air.type                = low
air.velocity            = 0
air.hittime             = 12
getpower                = 0
givepower		        = 0
envshake.time           = 10
envshake.freq           = 100
envshake.ampl           = -4
envshake.phase          = 10
yaccel		            = 0.5
p1stateno               = 1051

[State 0]
type = Explod
trigger1 = movehit = 1
anim = 5998
pos = 40,-55
postype = p1  ;p2,front,back,left,right
removetime = -2
ontop = 1
scale = 1,1
ownpal = 1

[State 0]
type = Explod
trigger1 = movehit = 0
trigger1 = movecontact = 1
anim = 5999
pos = 40,-55
postype = p1  ;p2,front,back,left,right
removetime = -2
ontop = 1
scale = 1,1
ownpal = 1

[State 0, ]
type                    = ChangeState
trigger1                = !AnimTime
value                   = 0
ctrl                    = 1

;---------------------------------------------------------------------------
;Melee - hit
[Statedef 1051]
type 			        = S
movetype		        = A
physics		            = N
juggle	    	        = 1
anim    			    = 1051
velset		            = 0,0
ctrl			        = 0
poweradd		        = 0
facep2		            = 0
hitdefpersist	        = 0
movehitpersist	        = 0
hitcountpersist	        = 0
sprpriority		        = 2

[State 0: PlayerPush]
type                    = PlayerPush
trigger1                = AnimElem = 1
value                   = 0
ignorehitpause          = 1

[State 0, ]
type                    = PlaySnd
trigger1                = AnimElem = 6, 2
trigger2                = AnimElem = 10, 2
value                   = 0, 31

[State 0: Pause]
type                    = Pause
trigger1                = AnimElem = 6, 2
trigger2                = AnimElem = 10, 2
time                    = 2
movetime                = 2

[State 0: PosAdd]
type                    = PosAdd
trigger1                = AnimElem = 6, 2
trigger2                = AnimElem = 10, 2
x                       = 80

[State 0: Turn]
type                    = Turn
trigger1                = AnimElem = 6, 2
trigger2                = AnimElem = 10, 2

[State 0: 	AfterImage]
type 			        = AfterImage
trigger1 		        = (!Time)
time 			        = 9999999
framegap 		        = 4
length 		            = 6
paladd 		            = 0, 0, 0
palmul 		            = .60, .60, .60
palcontrast 	        = 100, 100, 100
trans 		            = add

[State 0, AfterImage]
type                    = AfterImageTime
trigger1                = 1
time                    = 2

[State 0, ]
type                    = HitDef
trigger1                = AnimElem = 3
trigger2                = AnimElem = 8
attr                    = S, SA
damage                  = Ceil(IfElse(Var(15) >= 5, IfElse((20*(24-Var(15)+5)/24) > 0, 20*(24-Var(15)+5)/24,10),20)), 8
numhits                 = 0
animtype                = Light
guardflag               = M
hitflag                 = MAF
priority                = 5, Hit
pausetime               = 5, 12
sparkno = -1
guard.sparkno = -1
sparkxy                 = 0, -50
hitsound                = S0,13
guardsound              = S0,17
ground.type             = low
ground.slidetime        = 20
ground.hittime          = 20
ground.velocity         = -3, 0
airguard.velocity       = -3, 0
air.type                = High
air.velocity            = -3, -4
air.hittime             = 12
getpower                = 27
givepower		        = 0
envshake.time           = 10
envshake.freq           = 100
envshake.ampl           = -4
envshake.phase          = 10
yaccel		            = 0.5


[State 0, ]
type                    = HitDef
trigger1                = AnimElem = 12
attr                    = S, SA
damage                  = Ceil(IfElse(Var(15) >= 5, IfElse((20*(24-Var(15)+5)/24) > 0, 20*(24-Var(15)+5)/24,10),20)), 0
animtype                = Heavy
guardflag               = M
hitflag                 = MAF
priority                = 3, Hit
pausetime               = 11, 12
sparkno = -1
guard.sparkno = -1
sparkxy                 = 0, -40
hitsound                = S0,13
guardsound              = S0,17
ground.type             = High
ground.slidetime        = 12
ground.hittime          = 12
ground.velocity         = -4, -9.3
airguard.velocity       = -3, -3
air.type                = High
air.velocity            = -4, -9.3
air.hittime             = 12
getpower                = 0
givepower		        = 0
yaccel		            = 0.5
fall                    = 1
fall.recover            = 0
envshake.time           = 10
envshake.freq           = 100
envshake.ampl           = -4
envshake.phase          = 10

[State 0]
type = Explod
trigger1 = movehit = 1
anim = 5998
pos = 40,-55
postype = p1  ;p2,front,back,left,right
removetime = -2
ontop = 1
scale = 1,1
ownpal = 1

[State 0]
type = Explod
trigger1 = movehit = 0
trigger1 = movecontact = 1
anim = 5999
pos = 40,-55
postype = p1  ;p2,front,back,left,right
removetime = -2
ontop = 1
scale = 1,1
ownpal = 1

;--------------

[State 0: PlaySnd]
type                    = PlaySnd
trigger1                = AnimElem = 13
value                   = 1030, 0
volume                  = 255

[State 0: Pause]
type                    = Pause
triggerall              = AnimElem = 13,>  0
trigger1                = gametime%2 = 0
time                    = 1
movetime                = 1

[State 0: Explod]
type                    = Explod
trigger1                = AnimElem = 14
anim                    = 70341 ;bola energia
ID                      = 70341
pos                     = 4,-83
postype                 = p1
bindtime                = -1
removetime              = -1
pausemovetime           = 999
scale                   = 1,1
sprpriority             = 3
ownpal                  = 1
removeongethit          = 1

[State 0: RemoveExplod]
type                    = RemoveExplod
trigger1                = AnimElem = 15
ID                      = 70341
ignorehitpause          = 1

[State 0: Explod]
type                    = Explod
trigger1                = AnimElem = 15
anim                    = 70341  ; b0la
ID                      = 70342
pos                     = 32,-57
postype                 = p1
bindtime                = -1
removetime              = -1
pausemovetime           = 999
scale                   = 1,1
sprpriority             = 3
ownpal                  = 1
removeongethit          = 1

;--------------

[State 0, ]
type                    = ChangeState
trigger1                = AnimElem = 15 > 15 && P2bodydist Y > -80
value                   = 3000
ctrl                    = 0

;---------------------



;------------------------------------------------------------------------------
;Masenko  rapido
[Statedef 3000]
type    = S
movetype= A
physics = S
ctrl = 0
velset = 0
poweradd = -750

[state 0]
type = changeanim
triggerall = var(7) = 0
trigger1 = time = 0
value = 3000

[state 0]
type = changeanim
triggerall = var(7) = 1
trigger1 = time = 0
value = 3001





[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S3,33
volume = 0

[State 2300, 1]
type = PlaySnd
trigger1 = time = 80
value = 3, 19
channel = 1


[State 2300, StopSnd]
type = StopSnd
triggerall = time > 15
trigger1   = command != "holda"
trigger2   = time = 200
channel = 1


[State 1000, Explod]
type = Explod
trigger1 = animelem = 1
anim =  3051   ; bola de enrgia
ID = 3051
pos = -6, -79
postype = p1
facing = 1
vfacing = 1
bindtime = 200
scale = 0.5,0.5
Ontop = 0
removetime = 999
removeongethit = 1







[State 2300, RemoveExplod]
type = RemoveExplod
triggerall = time > 15
trigger1   = command != "holda"
trigger2 = time = 200
id =  3051


[State 2300, 4]
type =  ChangeState
triggerall = time > 15
trigger1 = command != "holda"
trigger2 = time = 200
value = 3001
ctrl = 1

;------------------------------------------------------------------------
;Masenko Lanzar
[Statedef 3001]
type    = S
movetype= A
physics = S
poweradd= 65
ctrl = 0
velset = 0

[state 0]
type = changeanim
triggerall = var(7) = 0
trigger1 = time = 0
value = 3003

[state 0]
type = changeanim
triggerall = var(7) = 1
trigger1 = time = 0
value = 3004



[State 2300, 1]
type = PlaySnd
trigger1 = animelem = 1
value = s4, 1
volume = 200
channel = 1

[State 0, Turn]
type = turn
trigger1 = p2dist X < 0 && AnimElem = 1

[State 1000, Explod]
type = Explod
trigger1 = animelem = 1
anim =  3551    ; bola de ener mano lanzar
ID = 3551
pos = 50, -59
postype = p1
facing = 1
vfacing = 1
bindtime = 1
scale = 1.1,1
Ontop = 1
removetime = -2
removeongethit = 1



[State 1000, Explod]
type = Explod
triggerall = pos y = 0
trigger1 = animelem = 1
anim =  7100  ; polvo
ID = 7100
pos = -25, 3
postype = p1
facing = 1
vfacing = 1
bindtime = 1
scale = 0.75,0.75
Ontop = 1
removetime = -2
removeongethit = 1

[State 0, PosAdd]
type = PosAdd
trigger1 =  time = 0
x = 5
y = 0
;ignorehitpause =
;persistent =


[State 700:		Helper]
type		= Helper
trigger1	= animelem = 1
helpertype	= Normal
name		= "Masenko Rapido"
id		= 3050
pos		= 30,-48
postype		= p1
facing		= 1
stateno		= 3050
keyctrl		= 0
ownpal		= 1
supermovetime	= 0
pausemovetime	= 0
size.xscale     = 0.6
size.yscale     = 0.6

[State 0, ChangeState]
type = ChangeState
trigger1 = time = 30
value =  0
ctrl = 1
;anim =
;ignorehitpause =
;persistent =


;-----------------------------------------------------------------------------
;Maseko-Proyectil
[Statedef 3050]
movetype	= A
anim		= 3050   ;poder
;velset		= 0,0
ctrl		= 0
poweradd	= 0
juggle		= 0
facep2		= 0
hitdefpersist	= 0
movehitpersist	= 0
hitcountpersist	= 0
sprpriority	= 2

[State 0, BindToParent]
type = BindToParent
trigger1 = 1
time = 1
pos= 30,-58

[State 2350:	AssertSpecial]
type			= AssertSpecial
trigger1		= 1
;flag			= Invisible
flag			= NoShadow
ignorehitpause = 1

[STate 2350: hitby]
type = hitby
trigger1 = 1
value = SAC,NP,SP,HP

[State 2350:	NotHitBy]
type			= NotHitBy
trigger1		= 1
value			= SCA


[State 0, PosAdd]
type = PosAdd
trigger1 =  time = 0
x = 5
y = 0
;ignorehitpause =
;persistent =


[State 2300, 1]
type = PlaySnd
trigger1 = time = 0
value = 3, 26
volume = 200
channel = 1

[State 2350:	Hitdef]
type            = Hitdef
;triggerall      = hitcount < 8
trigger1        = (!time) ;animelem = 1 ||animelem = 3 || animelem = 5 || animelem = 7 || animelem = 9  || animelem = 11 || animelem = 13 || animelem = 15
attr		= S, NP
hitflag		= MAFDP
guardflag	= MA
animtype	= Hard
priority	= 7, Hit
damage		= 120,20
pausetime	= 3, 8
sparkno		= -       1
sparkxy		= 0, 50
;guard.sparkxy   = 30, 20
guard.sparkno	= s1060
hitsound	= s3,31
guardsound	= s3,31
ground.type	= Low
air.type	= Trip
ground.slidetime= 20
ground.hittime	= 20
air.hittime	= 15
ground.velocity	= -15
guard.velocity	= -4
air.velocity	= -4,-3
airguard.velocity = -4,-3
ground.cornerpush.veloff = 0
fall.xvelocity	= -1
fall.yvelocity	= -3
fall.recover	= 0
air.fall	= 1
down.velocity	= -1,-2
down.bounce	= 1
guard.kill	= 0
getpower	= 0
givepower	= 35
envshake.time 	= 12
envshake.freq 	= 120
envshake.ampl 	= -4
fall = 1
palfx.time	= 25
palfx.mul	= 150,150,50
palfx.add	= 250,250,100
palfx.sinadd 	= 175,25,5,4

[State 1000, Explod]
type = Explod
triggerall = Numexplod(3061) < 1
trigger1 = Movehit = 1
anim =  3061  ;explosion
ID = 3061
pos = 0, -60
postype = p2
facing = 1
vfacing = 1
bindtime = 1
scale = 0.3,0.3
Ontop = 1
removetime = -2
removeongethit = 1

[State 2350:	DestroySelf]
type			= DestroySelf
trigger1 		= animtime = 0;(Parent, NumProjID(1002) = 0)
trigger2
;super MASENKO------------------------------------
[Statedef 1900]
type    = S
movetype= A
physics = S
ctrl = 0
velset = 0
poweradd = -1000


[state 0]
type = changeanim
triggerall = var(7) = 0
trigger1 = time = 0
value = 1900

[state 0]
type = changeanim
triggerall = var(7) = 1
trigger1 = time = 0
value = 1902

[state 0]
type = changeanim
triggerall = var(7) = 2
trigger1 = time = 0
value = 1903





[State 0]
type = Explod
trigger1 = timemod = 52,0
anim = 36004 ;RAYOS
pos = -5,-50
postype = p1
id = 7030
supermove = -1
pausemove  = -1
facing = 1
vfacing = 1
bindtime = -1
scale = 0.5,0.5
sprpriority = 30
removeongethit = 1

;PONER AURA NORMAL AQUI



[State 0]
type = Explod
trigger1 = time = 60
anim = 7803 ;ANILLO EXPANSIBLE COPIAR AINIMACION
pos = -15,-85
postype = p1
facing = 1
supermove = -1
pausemove  = -1
vfacing = 1
bindtime = -1
sprpriority = 30
removeongethit = 1

[State 0]
type = EnvShake
trigger1 = time = 20
time = 90
ampl = 4
phase = 18
[State 0]

type = Explod
trigger1 = time = 20
anim = 2095 ;PODER COPIAR ANIMACION
pos = -10,-80
postype = p1
facing = 1
vfacing = 1
bindtime = -1
supermove = -1
pausemove  = -1
scale = 0.2,0.2
sprpriority = 20
removeongethit = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 =time=0
value = S99,7 ;GRITO BUSCAR EN ESPAÑOL
volume = 255
channel = -1

[State 0]
type = SuperPause
trigger1 = time = 0
time = 115
anim = S12300
movetime = 115
sound = S1800,0
pos = 43,-44
darken = 0
unhittable = 1

[State 0]
type = Varset
trigger1 = time = 0
v = 12
value = -200

[State 0]
type = VarAdd
trigger1 = time >= 45 && Var(12) < 0
v = 12
value = 6

[State 0]
type = BGPalFX
trigger1 = Time > 0
time = 1
add = Var(12),Var(12),Var(12)

[State 0]
Type = PowerAdd
Trigger1 = time >= 1
value = -10
[State 0]

Type = VelSet
Trigger1 = Time = 0
y = 0
[State 0]

type = ChangeState
trigger1 = animTime = 0
value = 1901
ctrl = 1

;----------------------------------------------

[Statedef 1901]
type    = S
movetype= A
physics = S
poweradd= 0
ctrl = 0
velset = 0


[state 0]
type = changeanim
triggerall = var(7) = 0
trigger1 = time = 0
value = 1901

[state 0]
type = changeanim
triggerall = var(7) = 1
trigger1 = time = 0
value = 1904

[state 0]
type = changeanim
triggerall = var(7) = 2
trigger1 = time = 0
value = 1905



[State 0]
type = PlaySnd
trigger1 = time = 5
value = 1000,0
volume = 255

[State 0]
type = Helper
trigger1 = Time = 1
name = "KiBeam"
stateno = 12400
postype = p1
pos = 38, -54
keyctrl = 0
ownpal = 1
id = 12400

[State 0]
type = BGPalFX
trigger1 = time = 45
time = 15
add = 255,239,57

[State 0]
type = ChangeState
trigger1 = AnimTime = 0 && power = 0
value = 5300
ctrl = 1

[State 0]
type = ChangeState
trigger1 = Time = 60
value	= IfElse(BackEdgeBodydist >= 0, 0, 100)
ctrl = 1
;------------------------------------------------------
[Statedef 1905]
type    = S
movetype= A
physics = S
poweradd= 0
ctrl = 0
velset = 0
anim = 1900 ;CARGA MASENKO

[State 0]
type = SuperPause
trigger1 = time = 0
time = 50
anim = S12300
sound = S1800,0
pos = 20,-35
darken = 1
unhittable = 1

[State 0]
Type = VelSet
Trigger1 = Time = 0
y = 0

[State 0]
type = ChangeState
trigger1 = Time = 2
value = 1901
ctrl = 1

;------------------------------------------------------------------

[StateDef 12400]
type = A
physics = N
movetype = A
velset = 0, 0
anim = 12400 ;PODER DESCARGADO
ctrl = 0
sprpriority = 4

[State 0]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S99,8 ;PODER
volume = 255
channel = -1

[State 0]
type = AssertSpecial
trigger1 = time >= 0
flag = noshadow
[State 0]

type = HitDef
trigger1 = time >= 0
attr = S, HP
animtype  = Hard
Damage = 30,2
guard.pausetime = 1,20
guardflag = MA
pausetime = 1,1
sparkno = -1
sparkxy = -5,0
hitsound   = -1
guardsound = -1
ground.type = High
ground.slidetime = 10
ground.hittime  = 15
ground.velocity = -25, -4
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.velocity = -25, -4
fall = 1
fall.recover = 1
kill = 1
guard.kill = 1

[State 0]
type = EnvShake
trigger1 = time = 0
time = 70
ampl = 6
phase = 18

[State 0]
type = Explod
trigger1 = time = 42
Anim = 10022 ;EXPLOSION
Pos = 200,160
sprpriority = 5
removeongethit = 1
bindtime = 1
Postype = p1
scale = 1.5,1.5

[State 0]
type = Explod
trigger1 = time = 6
Anim = 10022 ;EXPLOSION
Pos = 200,160
sprpriority = 5
removeongethit = 1
bindtime = 1
Postype = p1
scale = 2,2

[State 0]
type = Explod
trigger1 = time = 40
Anim = 124001 ;PODER
Pos = 0,0
velocity = 0,0
sprpriority = 3
removeongethit = 1
bindtime = 1
Postype = p1
SuperMove = 1
ownpal = 1
scale = 0.8, 0.8

[State 0]
type = ScreenBound
trigger1 = p2movetype = H || (BackEdgeBodydist < -1 && BackEdgeBodydist > -30)
movecamera = 0,0
value	= 0

[State 12400, DestroySelf]
type = DestroySelf
trigger1 = time = 42

;ACABA--------------------------------------


;---------------------------------------------------------------------------
; Lose by Time Over
; CNS difficulty: basic
; CNS x: î{
[Statedef 170]
type = S
ctrl = 0
anim = 170
velset = 0,0

[state 0]
type = varset
trigger1 = time = 0
v = 7
value = 3




[state 0]
type = envshake
trigger1 = timemod = 5,0
ampl = 5
time = 5



[State 170, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

;---------------------------------------------------------------------------
; Win state decider
; CNS difficulty: basic
; win decider
[Statedef 180]
type = S

[State 180, 1]
type = ChangeState
trigger1 = Time = 0
value = 181

;---------------------------------------------------------------------------
; Win yo no morire
[Statedef 181]
type = S
ctrl = 0
velset = 0,0

[state 0]
type = changeanim
triggerall = var(7) = 0
trigger1 = time = 0
value = 181

[state 0]
type = changeanim
triggerall = var(7) = 1
trigger1 = time = 0
value = 10181


[state 0]
type = playsnd
trigger1 = animelem =2
value = s0,42
channel =5
volume = 2000

[state 0]
type = playsnd
triggerall = var(7) > 0
trigger1 = time = 10
value = s0,6
volume = 2000

[state 0]
type = varset
trigger1 = time = 11
v = 7
value = 0

[State 0]
type = Explod
triggerall = var(7) > 0
trigger1 = time = 10
anim = 5995
pos = 0,-60
postype = p1  ;p2,front,back,left,right
removetime = -2
ontop = 1
scale = 1,1
ownpal = 1

[State 181, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

;---------------------------------------------------------------------------
; Introduction
; CNS difficulty: basic
; intro este atuendo
[Statedef 191]
type = S
ctrl = 0
anim = 190
velset = 0,0

[State 191, 1] ;Freeze animation until PreIntro is over
type = ChangeAnim
trigger1 = RoundState = 0
value = 190

[State 191, 2] ;Assert this until you want "round 1, fight" to begin
type = AssertSpecial
trigger1 = 1
flag = Intro

[state 0]
type = playsnd
trigger1 = animelem = 1
value = S123,123
volume = 255

[State 191, 3] ;Change to stand state when done
type = ChangeState
trigger1 = AnimTime = 0
value = 0
;CARGAR ---------------------------------------------------------------------------
;---------------------------------------------------------------------------
[StateDef 6000]
type = S
physics = S
ctrl = 0

[state 0]
type = changeanim
triggerall = var(7) = 0
trigger1 = time = 0
value = 6000

[state 0]
type = changeanim
triggerall = var(7) = 1
trigger1 = time = 0
value = 16000

[state 0]
type = changeanim
triggerall = var(7) = 2
trigger1 = time = 0
value = 26000

[state 0]
type = changeanim
triggerall = var(7) = 3
trigger1 = time = 0
value = 36000

[state 0]
type = envshake
trigger1 = timemod = 5,0
ampl = 2
time = 5

[state 0]
type = changestate
triggerall = var(10) = 0
trigger1 = command = "holds"
trigger1 = animtime = 0
value = 6001
ctrl = 0

[state 0]
type = changestate
triggerall = var(10) = 1
trigger1 = animtime = 0
value = 6001
ctrl = 0

[state 0]
type = changestate
triggerall = var(10) = 0
trigger1 = command != "holds"
value = 0
ctrl = 1
;---------------------------------------------------------------------------
[StateDef 6001]
type = S
physics = S
ctrl = 0

[state 0]
type = changeanim
triggerall = var(7) = 0
trigger1 = time = 0
value = 6001

[state 0]
type = changeanim
triggerall = var(7) = 1
trigger1 = time = 0
value = 16001

[state 0]
type = changeanim
triggerall = var(7) = 2
trigger1 = time = 0
value = 26001

[state 0]
type = changeanim
triggerall = var(7) = 3
trigger1 = time = 0
value = 36001

[State 0]
type = Explod
trigger1 = time = 0
anim = 5995
pos = 0,-40
postype = p1  ;p2,front,back,left,right
facing = 1
sprpriority = 5
ownpal = 1
scale = 1,1
removetime = -2
supermove = 1

[State 0, Aura al azar - grande]
type = Explod
trigger1 = random >= 500
anim = 9416
ID = 9416
pos = 0,-40
vel = 0,ifelse(random<499,-0.2,-0.3)
random = 40,40
;bindtime = -1
removetime = -2
scale = ifelse(random<499,0.1,0.150), ifelse(random<499,0.1,0.150)
sprpriority = ifelse(random<749,3,-3)
ownpal = 1
removeongethit = 1

[State 0, Aura al azar - pequeña]
type = Explod
trigger1 = random < 499
anim = 9416
ID = 9416
pos = 0,-40
vel = 0,ifelse(random<499,-0.2,-0.3)
random = 40,40
;bindtime = -1
removetime = -2
scale = ifelse(random<499,0.05,0.025), ifelse(random<499,0.05,0.025)
sprpriority = ifelse(random<749,3,-3)
ownpal = 1
removeongethit = 1

[State 800, onda 1]
type = Explod
trigger1 = AnimElem = 2, > 0
trigger1 = timemod = 15,0
anim = 9400
pos = 3,floor(-pos y)
id = 9400
sprpriority = 0
removeongethit = 1
removetime = -2
bindtime = -1
supermovetime = 9999999
pausemovetime = 9999999
ownpal = 1
scale = 0.5, 0.5

[State 0]
type = Explod
triggerall = var(7) = 0
trigger1 = time = 0
anim = 6004
id = 6001
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
sprpriority = 3
ownpal = 1
scale = 0.45,0.45
bindtime = -1
removetime = -1
supermove = 1

[State 0]
type = Explod
triggerall = var(7) >= 1
trigger1 = time = 0
anim = 16004
id = 6001
pos = 1,5
postype = p1  ;p2,front,back,left,right
facing = 1
sprpriority = 3
ownpal = 1
scale = 0.5,0.5
bindtime = -1
removetime = -1
supermove = 1

[State 0]
type = Explod
triggerall = var(7) >= 2
trigger1 = time = 0
anim = 26004
id = 6001
pos = 0,5
postype = p1  ;p2,front,back,left,right
sprpriority = -5
ownpal = 1
scale = 0.45,0.45
removetime = -1
supermove = 1
bindtime = -1

[State 0]
type = Explod
trigger1 = time = 0
anim = 6007
id = 6001
pos = 5,10
postype = p1  ;p2,front,back,left,right
facing = 1
sprpriority = 3
ownpal = 1
scale = 0.85,0.85
removetime = -1
supermove = 1

[state 0]
type = poweradd
trigger1 = 1
value = 10

[state 0]
type = envshake
trigger1 = timemod = 5,0
ampl = 2
time = 5


[state 0]
type = playsnd
trigger1 = time = 0
value = S0,6

[State 200, charge sound]
type = playsnd
trigger1 = TimeMod = 60,13
value = 730,1
channel = 7
Volume = 100

[State 0, StopSnd]
type = StopSnd
trigger1 = command != "holds"
channel = 7

[state 0]
type = changestate
triggerall = var(10) = 0
trigger1 = command != "holds"
value = 6002
ctrl = 0

[state 0]
type = changestate
triggerall = var(10) = 1
trigger1 = time = 100
value = 6002
ctrl = 0
;---------------------------------------------------------------------------
[StateDef 6002]
type = S
physics = S
ctrl = 0

[state 0]
type = changeanim
triggerall = var(7) = 0
trigger1 = time = 0
value = 6002

[state 0]
type = changeanim
triggerall = var(7) = 1
trigger1 = time = 0
value = 16002

[state 0]
type = changeanim
triggerall = var(7) = 2
trigger1 = time = 0
value = 26002

[state 0]
type = changeanim
triggerall = var(7) = 3
trigger1 = time = 0
value = 36002

[State 0]
type = Explod
triggerall = var(7) = 0
trigger1 = time = 0
anim = 6005
pos = 2,10
postype = p1  ;p2,front,back,left,right
facing = 1
sprpriority = 3
scale = 0.6,0.6
ownpal = 1
supermove = 1

[State 0]
type = Explod
triggerall = var(7) >= 1
trigger1 = time = 0
anim = 16005
pos = 2,10
postype = p1  ;p2,front,back,left,right
facing = 1
sprpriority = 3
scale = 0.6,0.6
ownpal = 1
supermove = 1



[state 0]
type = playsnd
trigger1 = time = 0
value = S0,9

[state 0]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1

;-------------------------------------------------------------------------
[StateDef 6009]
type = S
physics = S
ctrl = 1

[state 0]
type = changeanim
triggerall = var(7) = 0
trigger1 = time = 0
value = 6009

[state 0]
type = changeanim
triggerall = var(7) = 1
trigger1 = time = 0
value = 16009

[state 0]
type = changeanim
triggerall = var(7) = 2
trigger1 = time = 0
value = 26009

[state 0]
type = changeanim
triggerall = var(7) = 3
trigger1 = time = 0
value = 36009

[state 0]
type = velset
trigger1 = 1
x = -10

[State 0]
type = AssertSpecial
trigger1 = 1
flag = NoWalk

[State 0]
type = Explod
trigger1 = timemod = 4,0
anim = 6008
pos = 0,10
postype = p1  ;p2,front,back,left,right
facing = -1
removetime = -2
ontop = 1
scale = 0.75,0.75
ownpal = 1
supermove = 1

[state 0]
type = playsnd
trigger1 = time = 0
value = S0,10

[State 0]
type = ChangeState
triggerall = var(10) = 1
trigger1 = time = 20
value = 0
ctrl = 1

[State 0]
type = ChangeState
triggerall = var(10) = 0
trigger1 = command != "holdback"
value = 0
ctrl = 1
;---------------------------------------------------------------------------
[StateDef 6010]
type = S
physics = S
ctrl = 1

[state 0]
type = changeanim
triggerall = var(7) = 0
trigger1 = time = 0
value = 6010

[state 0]
type = changeanim
triggerall = var(7) = 1
trigger1 = time = 0
value = 16010

[state 0]
type = changeanim
triggerall = var(7) = 2
trigger1 = time = 0
value = 26010

[state 0]
type = changeanim
triggerall = var(7) = 3
trigger1 = time = 0
value = 36010

[state 0]
type = velset
trigger1 = 1
x = 10

[State 0]
type = AssertSpecial
trigger1 = 1
flag = NoWalk

[State 0]
type = Explod
trigger1 = timemod = 4,0
anim = 6008
pos = 0,10
postype = p1  ;p2,front,back,left,right
removetime = -2
ontop = 1
scale = 0.75,0.75
ownpal = 1
supermove = 1

[state 0]
type = playsnd
trigger1 = time = 0
value = S0,10

[State 0]
type = ChangeState
triggerall = var(10) = 1
trigger1 = time = 20
value = 0
ctrl = 1

[State 0]
type = ChangeState
triggerall = var(10) = 0
trigger1 = command != "holdfwd"
value = 0
ctrl = 1
;---------------------------------------------------------------------------
[StateDef 6011]
type = A
movetype= A
physics = A
ctrl = 0
poweradd = 100

[state 0]
type = changeanim
triggerall = var(7) = 0
trigger1 = time = 0
value = 6011

[state 0]
type = changeanim
triggerall = var(7) = 1
trigger1 = time = 0
value = 16011

[state 0]
type = changeanim
triggerall = var(7) = 2
trigger1 = time = 0
value = 26011

[state 0]
type = changeanim
triggerall = var(7) = 3
trigger1 = time = 0
value = 36011

[state 0]
type = velset
trigger1 = animelem = 2
x = 1
y = 0

[State 0]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
damage = 20,10
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
sparkno = -1
guard.sparkno = -1
hitsound = S0, 13
guardsound = S0, 17
ground.type = High
ground.slidetime = 0
ground.hittime  = 20
ground.velocity = -1
airguard.velocity = -1
air.type = High
air.velocity = -1
air.hittime = 20

[State 0]
type = Explod
trigger1 = movehit = 1
anim = 5998
pos = 30,-30
postype = p1  ;p2,front,back,left,right
removetime = -2
ontop = 1
scale = 1,1
ownpal = 1

[State 0]
type = Explod
trigger1 = movehit = 0
trigger1 = movecontact = 1
anim = 5999
pos = 30,-30
postype = p1  ;p2,front,back,left,right
removetime = -2
ontop = 1
scale = 1,1
ownpal = 1

[state 0]
type = playsnd
trigger1 = animelem = 2
value = S0,11

[State 0]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;---------------------------------------------------------------------------
[StateDef 6012]
type = A
movetype= A
physics = A
ctrl = 0
poweradd = 100

[state 0]
type = changeanim
triggerall = var(7) = 0
trigger1 = time = 0
value = 6012

[state 0]
type = changeanim
triggerall = var(7) = 1
trigger1 = time = 0
value = 16012

[state 0]
type = changeanim
triggerall = var(7) = 2
trigger1 = time = 0
value = 26012

[state 0]
type = changeanim
triggerall = var(7) = 3
trigger1 = time = 0
value = 36012

[state 0]
type = velset
trigger1 = animelem = 2
x = 2
y = 0

[State 0]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
damage = 20,10
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
sparkno = -1
guard.sparkno = -1
hitsound = S0, 14
guardsound = S0, 17
ground.type = High
ground.slidetime = 0
ground.hittime  = 20
ground.velocity = -1
airguard.velocity = -1
air.type = High
air.velocity = -1
air.hittime = 20

[State 0]
type = Explod
trigger1 = movehit = 1
anim = 5998
pos = 45,5
postype = p1  ;p2,front,back,left,right
removetime = -2
ontop = 1
scale = 1,1
ownpal = 1

[State 0]
type = Explod
trigger1 = movehit = 0
trigger1 = movecontact = 1
anim = 5999
pos = 45,5
postype = p1  ;p2,front,back,left,right
removetime = -2
ontop = 1
scale = 1,1
ownpal = 1

[state 0]
type = playsnd
trigger1 = animelem = 2
value = S0,12

[State 0]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;---------------------------------------------------------------------------
[StateDef 6013]
type = A
movetype= A
physics = A
ctrl = 0
poweradd = 100

[state 0]
type = changeanim
triggerall = var(7) = 0
trigger1 = time = 0
value = 6013

[state 0]
type = changeanim
triggerall = var(7) = 1
trigger1 = time = 0
value = 16013

[state 0]
type = changeanim
triggerall = var(7) = 2
trigger1 = time = 0
value = 26013

[state 0]
type = changeanim
triggerall = var(7) = 3
trigger1 = time = 0
value = 36013

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = 1,1

[State 0, AngleAdd]
type = Angleset
trigger1 = 1
value = -20

[state 0]
type = velset
trigger1 = animelem = 2
x = 1
y = 2

[State 0]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
damage = 20,10
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
sparkno = -1
guard.sparkno = -1
hitsound = S0, 16
guardsound = S0, 17
ground.type = High
ground.slidetime = 0
ground.hittime  = 20
ground.velocity = -2,10
airguard.velocity = -2,10
air.type = High
air.velocity = -2,10
air.hittime = 20
fall = 1

[state 0]
type = envshake
trigger1 = movecontact = 1
ampl = 5
time = 10
ignorehitpause = 1

[State 0]
type = Explod
trigger1 = movehit = 1
anim = 5995
pos = 40,5
postype = p1  ;p2,front,back,left,right
removetime = -2
ontop = 1
scale = 1,1
ownpal = 1

[State 0]
type = Explod
trigger1 = movehit = 0
trigger1 = movecontact = 1
anim = 5999
pos = 40,5
postype = p1  ;p2,front,back,left,right
removetime = -2
ontop = 1
scale = 1,1
ownpal = 1

[state 0]
type = playsnd
trigger1 = animelem = 2
value = S0,12

[state 0]
type = velset
trigger1 = movecontact = 1
x = -2
y = -8

[State 0]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;---------------------------------------------------------------------------
[StateDef 6014]
type = A
movetype= A
physics = A
ctrl = 0
poweradd = 100

[state 0]
type = changeanim
triggerall = var(7) = 0
trigger1 = time = 0
value = 6014

[state 0]
type = changeanim
triggerall = var(7) = 1
trigger1 = time = 0
value = 16014

[state 0]
type = changeanim
triggerall = var(7) = 2
trigger1 = time = 0
value = 26014

[state 0]
type = changeanim
triggerall = var(7) = 3
trigger1 = time = 0
value = 36014

[state 0]
type = velset
trigger1 = animelem = 2
x = 2
y = 2

[State 0]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
damage = 20,10
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
sparkno = -1
guard.sparkno = -1
hitsound = S0, 15
guardsound = S0, 17
ground.type = High
ground.slidetime = 0
ground.hittime  = 20
ground.velocity = -1,10
airguard.velocity = -1,10
air.type = High
air.velocity = -1,10
air.hittime = 20
fall = 1

[state 0]
type = envshake
trigger1 = movecontact = 1
ampl = 5
time = 10
ignorehitpause = 1

[State 0]
type = Explod
trigger1 = movehit = 1
anim = 5995
pos = 20,-10
postype = p1  ;p2,front,back,left,right
removetime = -2
ontop = 1
scale = 1,1
ownpal = 1

[State 0]
type = Explod
trigger1 = movehit = 0
trigger1 = movecontact = 1
anim = 5999
pos = 20,-10
postype = p1  ;p2,front,back,left,right
removetime = -2
ontop = 1
scale = 1,1
ownpal = 1

[state 0]
type = playsnd
trigger1 = animelem = 2
value = S0,11

[state 0]
type = velset
trigger1 = movecontact = 1
x = -5
y = -10

[State 0]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;---------------------------------------------------------------------------
[StateDef 6015]
type = S
movetype= A
physics = S
ctrl = 0
velset = 0,0
sprpriority = 0
poweradd = -1000

[State 0]
type = SuperPause
trigger1 = time = 0
time = 45
anim = -1
movetime = 45
darken = 0

[state 0]
type = changeanim
triggerall = var(7) = 0
trigger1 = time = 0
value = 6015

[state 0]
type = changeanim
triggerall = var(7) = 1
trigger1 = time = 0
value = 16015

[state 0]
type = changeanim
triggerall = var(7) = 2
trigger1 = time = 0
value = 26015

[state 0]
type = changeanim
triggerall = var(7) = 3
trigger1 = time = 0
value = 36015

[State 0]
type = Explod
trigger1 = time = 20
anim = 6016
pos = 15,-52
postype = p1  ;p2,front,back,left,right
removetime = 35
removeongethit = 1
bindtime = -1
ontop = 1
scale = 0.3,0.3
ownpal = 1
supermove = 1

[State 0]
type = Explod
trigger1 = time = 20
anim = 6016
pos = -17,-52  ;derecha
postype = p1  ;p2,front,back,left,right
removetime = 35
removeongethit = 1
bindtime = -1
ontop = 1
scale = 0.3,0.3
ownpal = 1
supermove = 1

[State 0]
type = Explod
trigger1 = animelem = 20
anim = 6016
pos = -18,-62
postype = p1  ;p2,front,back,left,right
removetime = 20
removeongethit = 1
bindtime = -1
ontop = 1
scale = 0.4,0.4
ownpal = 1
supermove = 1

[state 0]
type = playsnd
trigger1 = Time = 20
value = S0,18

[state 0]
type = playsnd
trigger1 = animelem = 3
trigger2 = animelem = 5
trigger3 = animelem = 7
trigger4 = animelem = 9
trigger5 = animelem = 11
trigger6 = animelem = 13
trigger7 = animelem = 15
trigger8 = animelem = 17
trigger9 = animelem = 19
value = S0,19

[state 0]
type = playsnd
trigger1 = animelem = 20
value = S0,21

[state 0]
type = playsnd
trigger1 = animelem = 21
value = S0,22

[State 0]
type = Helper
trigger1 = animelem = 3
trigger2 = animelem = 5
trigger3 = animelem = 7
trigger4 = animelem = 9
trigger5 = animelem = 11
trigger6 = animelem = 13
trigger7 = animelem = 15
trigger8 = animelem = 17
trigger9 = animelem = 19
helpertype = normal ;player
name = "Ki Ball"
ID = 6016
stateno = 6016
pos = 34,-55
postype = p1    ;p2,front,back,left,right
facing = 1
ownpal = 1

[State 0]
type = Helper
trigger1 = animelem = 21
helpertype = normal ;player
name = "Ki Ball"
ID = 6017
stateno = 6017
pos = 34,-55
postype = p1    ;p2,front,back,left,right
facing = 1
ownpal = 1

[State 0]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
[StateDef 6016]
type = S
movetype= A
physics = S
ctrl = 0
sprpriority = 5
anim = 6016

[state 0]
type = veladd
trigger1 = 1
x = 3

[state 0]
type = angledraw
trigger1 = 1
scale = 0.3,0.3

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256,256

[State 0]
type = HitDef
trigger1 = 1
attr = S, NA
damage = 10,5
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
sparkno = -1
guard.sparkno = -1
hitsound = S0, 20
guardsound = S0, 20
ground.type = High
ground.slidetime = 0
ground.hittime  = 25
guard.ctrltime = 25
ground.velocity = -2
airguard.velocity = -2
air.type = High
air.velocity = -2
air.hittime = 25

[state 0]
type = envshake
trigger1 = movecontact = 1
ampl = 2
time = 5
ignorehitpause = 1

[State 0]
type = Explod
trigger1 = movecontact = 1
anim = 6017
pos = 0,0
postype = p1  ;p2,front,back,left,right
removetime = -2
ontop = 1
scale = 0.5,0.5
ownpal = 1

[State 0]
type = Destroyself
trigger1 = movecontact = 1
trigger2 = time = 50
;---------------------------------------------------------------------------
[StateDef 6017]
type = S
movetype= A
physics = S
ctrl = 0
sprpriority = 5
anim = 6016

[state 0]
type = veladd
trigger1 = 1
x = 3

[state 0]
type = angledraw
trigger1 = 1
scale = 0.4,0.4

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256,256

[State 0]
type = HitDef
trigger1 = 1
attr = S, NA
damage = 20,10
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
sparkno = -1
guard.sparkno = -1
hitsound = S0, 20
guardsound = S0, 20
ground.type = High
ground.slidetime = 0
ground.hittime  = 25
guard.ctrltime = 25
ground.velocity = -5
airguard.velocity = -5
air.type = High
air.velocity = -5
air.hittime = 25
fall = 1

[state 0]
type = envshake
trigger1 = movecontact = 1
ampl = 5
time = 10
ignorehitpause = 1

[State 0]
type = Explod
trigger1 = movecontact = 1
anim = 6017
pos = 0,0
postype = p1  ;p2,front,back,left,right
removetime = -2
ontop = 1
scale = 0.75,0.75
ownpal = 1

[State 0]
type = Destroyself
trigger1 = movecontact = 1
trigger2 = time = 50
;KAMEHAMEHA--------------------------------------------------------------------------
[StateDef 6020]
type = S
movetype= A
physics = S
ctrl = 0
velset = 0,0
sprpriority = 0
poweradd = -2000

[State 0]
type = SuperPause
trigger1 = time = 0
time = 50
anim = -1
movetime = 50
darken = 0

[state 0]
type = changeanim
triggerall = var(7) = 0
trigger1 = time = 0
value = 6020

[state 0]
type = changeanim
triggerall = var(7) = 1
trigger1 = time = 0
value = 16020



[State 0]
type = Helper
trigger1 = animelem = 2
helpertype = normal ;player
name = "Effect"
ID = 6021
stateno = 6021
pos = 25,5
postype = back
ownpal = -1
supermovetime = 100

[State 0]
type = Explod
trigger1 = animelem = 11
anim = 6024
pos = 60,-52
postype = p1  ;p2,front,back,left,right
removetime = 94
sprpriority = 5
ontop = 2
scale = 0.35,0.35
ownpal = 1
bindtime = -1
removeongethit = 1

[State 0]
type = Explod
trigger1 = animelem = 11
anim = 36004
pos = 70,-48
postype = p1  ;p2,front,back,left,right
removetime = 94
sprpriority = 5
ontop = 1
scale = .7,1
ownpal = 1
bindtime = -1
removeongethit = 1







[state 0]
type = playsnd
trigger1 = animelem = 2
value = S0,21

[state 0]
type = playsnd
trigger1 = time = 5
value = S0,24

[state 0]
type = playsnd
trigger1 = animelem = 11
value = S0,25

[state 0]
type = playsnd
trigger1 = animelem = 11
value = S0,28

[State 0]
type = Helper
trigger1 = animelem = 11
helpertype = normal ;player
name = "Kamehameha"
ID = 6023
stateno = 6023
pos = 40,-40
postype = p1
ownpal = -1
size.xscale =  1
size.yscale =   .7











[state 0]
type = envshake
triggerall = time >= 60
trigger1 = timemod = 10,0
ampl = 2
time = 10
ignorehitpause = 1

[State 0]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
[StateDef 6021]
type = S
movetype = A
physics = S
ctrl = 0
anim = 6021
sprpriority = 0
juggle = 1





[State 0]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256,256

[State 0]
type = AngleDraw
trigger1 = 1
scale = 0.5,0.5

[State 0, AngleAdd]
type = AngleAdd
trigger1 = 1
value = -5

[state 0]
type = bindtoroot
trigger1 = 1
pos = -9,-45

[state 0]
type = destroyself
trigger1 = time = 52
trigger2 = parent,stateno != 6020
trigger2 = parent,stateno != 6075
;---------------------------------------------------------------------------
[StateDef 6023]
type = S
movetype= A
physics = S
anim = 6023
sprpriority = 5
juggle = 1

[State 0]
type = AngleDraw
trigger1 = 1
scale = .6,.6

[State 0]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256,256

[state 0]
type = bindtoroot
trigger1 = 1
pos = 53,-52

[state 0]
type = assertspecial
trigger1 = 1
flag = noshadow

[State 0]
type = HitDef
trigger1 = 1
attr = S, NA
damage = 2,1
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
sparkno = -1
guard.sparkno = -1
ground.type = High
ground.slidetime = 5
ground.hittime  = 5
ground.velocity = -6
airguard.velocity = -6
air.type = High
air.velocity = -6
air.hittime = 5
fall = 1
palfx.time = 20
palfx.mul = 16,156,255
palfx.add = 16,255,166



[State 7180, flames]
type = helper
trigger1 = movehit && numtarget && !numhelper(7180)
trigger1 = !(target, time) && (target, movetype = H)&&((enemynear,stateno=[5000,5050])||(enemynear,stateno=9003))
helpertype = normal
stateno = 7180
ID = 7180
name = "flames"
postype = p2
ownpal = 1
facing = -1
ignorehitpause = 1

[State 1000, Explod]
type = Explod
triggerall = Numexplod(3960) < 1
trigger1 = Movehit = 5
anim =  3960  ;explosion
ID = 3960
pos = 0, -60
postype = p2
facing = 1
vfacing = 1
bindtime = 1
scale = 0.3,0.3
Ontop = 1
removetime = -2
removeongethit = 1

[State 6014]
type = Destroyself
trigger1 = AnimTime = 0
trigger2 = parent,stateno != 6020
;-------------------------------------------------------

;---------------------------------------------------------------------------
[StateDef 6025]
type = S
movetype= A
physics = S
ctrl = 0
poweradd = 100

[state 0]
type = changeanim
triggerall = var(7) = 0
trigger1 = time = 0
value = 6025

[State 0]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
damage = 20,10
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
sparkno = -1
guard.sparkno = -1
hitsound = S0, 13
guardsound = S0, 17
ground.type = High
ground.slidetime = 0
ground.hittime  = 20
ground.velocity = -2
airguard.velocity = -2
air.type = High
air.velocity = -2
air.hittime = 20

[State 0]
type = Explod
trigger1 = movehit = 1
anim = 5998
pos = 40,-55
postype = p1  ;p2,front,back,left,right
removetime = -2
ontop = 1
scale = 1,1
ownpal = 1

[State 0]
type = Explod
trigger1 = movehit = 0
trigger1 = movecontact = 1
anim = 5999
pos = 40,-55
postype = p1  ;p2,front,back,left,right
removetime = -2
ontop = 1
scale = 1,1
ownpal = 1

[state 0]
type = playsnd
trigger1 = animelem = 2
value = S0,11

[State 0]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 0]
type = ChangeState
triggerall = var(10) = 1
trigger1 = movecontact && Time = 15
value = 6026
ctrl = 0
;---------------------------------------------------------------------------
[StateDef 6026]
type = S
movetype= A
physics = S
ctrl = 0
poweradd = 100

[state 0]
type = changeanim
triggerall = var(7) = 0
trigger1 = time = 0
value = 6026

[State 0]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
damage = 20,10
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
sparkno = -1
guard.sparkno = -1
hitsound = S0, 13
guardsound = S0, 17
ground.type = High
ground.slidetime = 0
ground.hittime  = 20
ground.velocity = -2
airguard.velocity = -2
air.type = High
air.velocity = -2
air.hittime = 20

[State 0]
type = Explod
trigger1 = movehit = 1
anim = 5998
pos = 45,-55
postype = p1  ;p2,front,back,left,right
removetime = -2
ontop = 1
scale = 1,1
ownpal = 1

[State 0]
type = Explod
trigger1 = movehit = 0
trigger1 = movecontact = 1
anim = 5999
pos = 45,-55
postype = p1  ;p2,front,back,left,right
removetime = -2
ontop = 1
scale = 1,1
ownpal = 1

[state 0]
type = playsnd
trigger1 = animelem = 2
value = S0,11

[State 0]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 0]
type = ChangeState
triggerall = var(10) = 1
trigger1 = movecontact && Time = 15
value = 6027
ctrl = 0
;---------------------------------------------------------------------------
[StateDef 6027]
type = S
movetype= A
physics = S
ctrl = 0
poweradd = 100

[state 0]
type = changeanim
triggerall = var(7) = 0
trigger1 = time = 0
value = 6027

[State 0]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
damage = 20,10
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
sparkno = -1
guard.sparkno = -1
hitsound = S0, 16
guardsound = S0, 17
ground.type = High
ground.slidetime = 0
ground.hittime  = 20
ground.velocity = -5,1
airguard.velocity = -5,1
air.type = High
air.velocity = -5,1
air.hittime = 20
fall = 1

[State 0]
type = Explod
trigger1 = movehit = 1
anim = 5995
pos = 50,0
postype = p1  ;p2,front,back,left,right
removetime = -2
ontop = 1
scale = 1,1
ownpal = 1

[State 0]
type = Explod
trigger1 = movehit = 0
trigger1 = movecontact = 1
anim = 5999
pos = 50,0
postype = p1  ;p2,front,back,left,right
removetime = -2
ontop = 1
scale = 1,1
ownpal = 1

[state 0]
type = playsnd
trigger1 = animelem = 2
value = S0,11

[State 0]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
[StateDef 6028]
type = S
movetype= A
physics = S
ctrl = 0
poweradd = 100

[state 0]
type = changeanim
triggerall = var(7) = 0
trigger1 = time = 0
value = 6028

[State 0]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
damage = 20,10
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
sparkno = -1
guard.sparkno = -1
hitsound = S0, 13
guardsound = S0, 17
ground.type = High
ground.slidetime = 0
ground.hittime  = 20
ground.velocity = -2
airguard.velocity = -2
air.type = High
air.velocity = -2
air.hittime = 20

[State 0]
type = Explod
trigger1 = movehit = 1
anim = 5998
pos = 45,-55
postype = p1  ;p2,front,back,left,right
removetime = -2
ontop = 1
scale = 1,1
ownpal = 1

[State 0]
type = Explod
trigger1 = movehit = 0
trigger1 = movecontact = 1
anim = 5999
pos = 45,-55
postype = p1  ;p2,front,back,left,right
removetime = -2
ontop = 1
scale = 1,1
ownpal = 1

[state 0]
type = playsnd
trigger1 = animelem = 2
value = S0,11

[State 0]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 0]
type = ChangeState
triggerall = var(10) = 1
trigger1 = movecontact && Time = 15
value = 6029
ctrl = 0
;---------------------------------------------------------------------------
[StateDef 6029]
type = S
movetype= A
physics = S
ctrl = 0
poweradd = 100

[state 0]
type = changeanim
triggerall = var(7) = 0
trigger1 = time = 0
value = 6029

[State 0]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
damage = 20,10
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
sparkno = -1
guard.sparkno = -1
hitsound = S0, 13
guardsound = S0, 17
ground.type = High
ground.slidetime = 0
ground.hittime  = 20
ground.velocity = -2
airguard.velocity = -2
air.type = High
air.velocity = -2
air.hittime = 20

[State 0]
type = Explod
trigger1 = movehit = 1
anim = 5998
pos = 40,-55
postype = p1  ;p2,front,back,left,right
removetime = -2
ontop = 1
scale = 1,1
ownpal = 1

[State 0]
type = Explod
trigger1 = movehit = 0
trigger1 = movecontact = 1
anim = 5999
pos = 40,-55
postype = p1  ;p2,front,back,left,right
removetime = -2
ontop = 1
scale = 1,1
ownpal = 1

[state 0]
type = playsnd
trigger1 = animelem = 2
value = S0,11

[State 0]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 0]
type = ChangeState
triggerall = var(10) = 1
trigger1 = movecontact && Time = 15
value = 6030
ctrl = 0
;---------------------------------------------------------------------------
[StateDef 6030]
type = S
movetype= A
physics = S
ctrl = 0
poweradd = 100

[state 0]
type = changeanim
triggerall = var(7) = 0
trigger1 = time = 0
value = 6030

[State 0]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
damage = 20,10
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
sparkno = -1
guard.sparkno = -1
hitsound = S0, 16
guardsound = S0, 17
ground.type = High
ground.slidetime = 0
ground.hittime  = 20
ground.velocity = -2,-10
airguard.velocity = -2,-10
air.type = High
air.velocity = -2,-10
air.hittime = 20
fall = 1

[State 0]
type = Explod
trigger1 = movehit = 1
anim = 5995
pos = 40,-80
postype = p1  ;p2,front,back,left,right
removetime = -2
ontop = 1
scale = 1,1
ownpal = 1

[State 0]
type = Explod
trigger1 = movehit = 0
trigger1 = movecontact = 1
anim = 5999
pos = 40,-80
postype = p1  ;p2,front,back,left,right
removetime = -2
ontop = 1
scale = 1,1
ownpal = 1

[state 0]
type = playsnd
trigger1 = animelem = 2
value = S0,11

[State 0]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;super kame---------------------------------------------------------------------------
[StateDef 6035]
type = S
movetype= A
physics = S
ctrl = 0
velset = 0,0
sprpriority = 0
poweradd = -3000

[State 0]
type = SuperPause
trigger1 = time = 0
time = 180
anim = -1
movetime = 180
darken = 0

[state 0]
type = changeanim
triggerall = var(7) = 0
trigger1 = time = 0
value = 6035

[state 0]
type = changeanim
triggerall = var(7) = 1
trigger1 = time = 0
value = 16035

[state 0]
type = changeanim
triggerall = var(7) = 2
trigger1 = time = 0
value = 26035

[state 0]
type = changeanim
triggerall = var(7) = 3
trigger1 = time = 0
value = 36035

[State 0]
type = Helper
trigger1 = animelem = 2
helpertype = normal ;player
name = "Effect"
ID = 6036
stateno = 6036
pos = 0,0
postype = p1
ownpal = 1
supermovetime = 200
size.xscale =  1
size.yscale =  1

[State 0]
type = Helper
trigger1 = animelem = 19
helpertype = normal ;player
name = "Effect"
ID = 6038
stateno = 6038
pos = 20,5
postype = p1
ownpal = 1
supermovetime = 200
size.xscale =  .6
size.yscale =  .6

[state 0]
type = playsnd
trigger1 = animelem = 2
value = S0,21

[state 0]
type = playsnd
trigger1 = time = 5
value = S0,26

[state 0]
type = playsnd
trigger1 = animelem = 19
value = S0,25

[state 0]
type = playsnd
trigger1 = animelem = 19
value = S0,27

[State 0]
type = Helper
trigger1 = animelem = 19
helpertype = normal ;player
name = "Kamehameha"
ID = 6037
stateno = 6037
pos = 20,-40
postype = p1
ownpal = 1
size.xscale = 1
size.yscale =  0.8

[state 0]
type = envshake
triggerall = time >= 190
trigger1 = timemod = 10,0
ampl = 4
time = 10
ignorehitpause = 1

[State 0]
type = Explod
trigger1 = time = 100
anim = 5995
pos = 0,-40
postype = p1  ;p2,front,back,left,right
facing = 1
sprpriority = 5
ownpal = 1
scale = 1,1
removetime = -2
supermove = 1

[State 0]
type = Explod
trigger1 = time = 100
anim = 6007
pos = 5,10
postype = p1  ;p2,front,back,left,right
facing = 1
sprpriority = 3
ownpal = 1
scale = 0.45,0.45
removetime = 435
supermove = 1
removeongethit = 1

[State 0]
type = Explod
triggerall = var(7) = 0
trigger1 = time = 100
anim = 6004
pos = 1,5
postype = p1  ;p2,front,back,left,right
facing = 1
sprpriority = 3
ownpal = 1
scale = 0.45,0.45
bindtime = -1
removetime = 435
supermove = 1
removeongethit = 1

[State 0]
type = Explod
triggerall = var(7) >= 1
trigger1 = time = 100
anim = 16004
pos = 1,5
postype = p1  ;p2,front,back,left,right
facing = 1
sprpriority = 3
ownpal = 1
scale = 0.5,0.5
bindtime = -1
removetime = 435
supermove = 1
removeongethit = 1

[State 0]
type = Explod
triggerall = var(7) >= 2
trigger1 = time = 100
anim = 26004
pos = 1,5
postype = p1  ;p2,front,back,left,right
sprpriority = -5
ontop = 1
scale = 0.45,0.45
bindtime = -1
removetime = 435
supermove = 1
removeongethit = 1

[state 0]
type = playsnd
trigger1 = time = 100
value = S0,6

[State 0]
type = playsnd
triggerall = time >= 100
trigger1 = timemod = 72,0
value = S0,7

[State 0]
type = Explod
triggerall = var(7) = 0
trigger1 = animtime = 0
anim = 6005
pos = 2,10
postype = p1  ;p2,front,back,left,right
facing = 1
sprpriority = 3
scale = 0.6,0.6
ownpal = 1
supermove = 1

[State 0]
type = Explod
triggerall = var(7) >= 1
trigger1 = animtime = 0
anim = 16005
pos = 2,10
postype = p1  ;p2,front,back,left,right
facing = 1
sprpriority = 3
scale = 0.6,0.6
ownpal = 1
supermove = 1

[state 0]
type = playsnd
trigger1 = animtime = 0
value = S0,9

[State 0]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
[StateDef 6036]
type = S
movetype = A
physics = S
ctrl = 0
anim = 6021
sprpriority = 5
juggle = 1

[State 0]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256,256

[State 0]
type = AngleDraw
trigger1 = 1
scale = 0.5,0.5

[State 0, AngleAdd]
type = AngleAdd
trigger1 = 1
value = -5

[state 0]
type = bindtoroot
trigger1 = 1
pos = -15,-45



[state 0]
type = destroyself
trigger1 = time = 185
trigger2 = parent,stateno != 6035
;---------------------------------------------------------------------------
[StateDef 6037]
type = S
movetype= A
physics = S
anim = 6037
sprpriority = 5
juggle = 1

[state 0]
type = angledraw
trigger1 = 1
scale = 1,1

[State 0]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256,256

[state 0]
type = bindtoroot
trigger1 = 1
pos = 35,-52




[state 0]
type = assertspecial
trigger1 = 1
flag = noshadow

[State 0]
type = HitDef
triggerall = time < 348
trigger1 = timemod = 2,0
attr = S, NA
damage = 2,1
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
sparkno = -1
ground.type = High
ground.slidetime = 5
ground.hittime  = 20
ground.velocity = -2
airguard.velocity = -2
air.type = High
air.velocity = -2
air.hittime = 20

[State 0]
type = HitDef
trigger1 = time = 349
attr = S, NA
damage = 2,1
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
sparkno = -1
ground.type = High
ground.slidetime = 5
ground.hittime  = 20
ground.velocity = -2
airguard.velocity = -2
air.type = High
air.velocity = -2
air.hittime = 20
fall = 1

[State 6014]
type = Destroyself
trigger1 = Time = 350
trigger2 = parent,stateno != 6035
;---------------------------------------------------------------------------
[StateDef 6038]
type = S
movetype = A
physics = S
ctrl = 0
anim = 6024
sprpriority = 5
juggle = 1

[State 0]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256,256

[state 0]
type = angledraw
trigger1 = 1
scale = .8,1

[state 0]
type = bindtoroot
trigger1 = 1
pos = 50,-52

[state 0]
type = destroyself
trigger1 = time = 350
trigger2 = parent,stateno != 6035
;---------------------------------------------------------------------------
[StateDef 6040]
type = S
movetype= A
physics = S
ctrl = 0
velset = 0,0
poweradd = -1000

[State 0]
type = SuperPause
trigger1 = time = 0
time = 60
anim = -1
movetime = 60
darken = 0

[state 0]
type = changeanim
triggerall = var(7) = 0
trigger1 = time = 0
value = 6040

[state 0]
type = changeanim
triggerall = var(7) = 1
trigger1 = time = 0
value = 16040

[state 0]
type = changeanim
triggerall = var(7) = 2
trigger1 = time = 0
value = 26040

[state 0]
type = changeanim
triggerall = var(7) = 3
trigger1 = time = 0
value = 36040

[state 0]
type = velset
triggerall = time > 60
triggerall = time < 75
trigger1 = 1
x = 1

[state 0]
type = veladd
triggerall = time > 75
trigger1 = 1
x = 4

[state 0]
type = playerpush
triggerall = time > 75
trigger1 = 1
value = 0

[State 0]
type = Explod
trigger1 = animelem = 2
trigger2 = animelem = 3
anim = 5995
pos = 0,-40
postype = p1  ;p2,front,back,left,right
facing = 1
sprpriority = 5
ownpal = 1
scale = 1,1
removetime = -2
supermove = 1

[State 0]
type = Explod
triggerall = var(7) = 0
trigger1 = animelem = 2
anim = 6004
pos = 1,5
postype = p1  ;p2,front,back,left,right
facing = 1
sprpriority = 3
ownpal = 1
scale = 0.85,0.85
bindtime = -1
removetime = 50
supermove = 1

[State 0]
type = Explod
triggerall = var(7) >= 1
trigger1 = animelem = 2
anim = 16004
pos = 1,5
postype = p1  ;p2,front,back,left,right
facing = 1
sprpriority = 3
ownpal = 1
scale = 0.85,0.85
bindtime = -1
removetime = 50
supermove = 1

[State 0]
type = Explod
triggerall = var(7) >= 2
trigger1 = animelem = 2
anim = 26004
pos = 0,5
postype = p1  ;p2,front,back,left,right
sprpriority = -5
ownpal = 1
scale = 0.55,0.55
removetime = 50
supermove = 1
bindtime = -1

[State 0]
type = Explod
trigger1 = animelem = 2
anim = 6007
pos = 5,10
postype = p1  ;p2,front,back,left,right
facing = 1
sprpriority = 3
ownpal = 1
scale = 0.85,0.85
removetime = 50
supermove = 1

[State 0]
type = Explod
triggerall = time > 75
triggerall = time < 100
trigger1 = timemod = 1,0
anim = 6042
pos = 10,-45
postype = p1  ;p2,front,back,left,right
facing = 1
sprpriority = 3
ownpal = 1
scale = 0.75,0.75
removetime = -2
supermove = 1

[State 0]
type = Explod
triggerall = time > 75
triggerall = time < 100
trigger1 = timemod = 2,0
anim = 6008
pos = 0,10
postype = p1  ;p2,front,back,left,right
removetime = -2
ontop = 1
scale = 0.75,0.75
ownpal = 1
supermove = 1

[State 0]
type = Explod
trigger1 = animelem = 3
anim = 6041
pos = -5,-40
postype = p1  ;p2,front,back,left,right
facing = 1
sprpriority = 3
ownpal = 1
scale = 1,1
removetime = 10
supermove = 1
bindtime = -1

[State 0]
type = Explod
trigger1 = animelem = 4
anim = 6041
pos = 35,-40
postype = p1  ;p2,front,back,left,right
facing = 1
sprpriority = 3
ownpal = 1
scale = 1,1
removetime = 30
supermove = 1
bindtime = -1

[State 0]
type = Explod
triggerall = var(7) = 0
trigger1 = animelem = 3
anim = 6005
pos = 2,10
postype = p1  ;p2,front,back,left,right
facing = 1
sprpriority = 3
scale = 0.9,0.9
ownpal = 1
supermove = 1

[State 0]
type = Explod
triggerall = var(7) >= 1
trigger1 = animelem = 3
anim = 16005
pos = 2,10
postype = p1  ;p2,front,back,left,right
facing = 1
sprpriority = 3
scale = 0.9,0.9
ownpal = 1
supermove = 1

[state 0]
type = playsnd
trigger1 = animelem = 3
value = S0,9

[State 0]
type = HitDef
trigger1 = AnimElem = 4
attr = S, NA
damage = 120,60
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
sparkno = -1
guard.sparkno = -1
hitsound = S0, 23
guardsound = S0, 23
ground.type = High
ground.slidetime = 0
ground.hittime  = 20
ground.velocity = -1
airguard.velocity = -1
air.type = High
air.velocity = -1
air.hittime = 20
fall = 1

[state 0]
type = envshake
trigger1 = movecontact = 1
ampl = 5
time = 10
ignorehitpause = 1

[State 0]
type = Explod
trigger1 = movecontact = 1
anim = 5995
pos = 40,-55
postype = p1  ;p2,front,back,left,right
removetime = -2
ontop = 1
scale = 1,1
ownpal = 1

[state 0]
type = playsnd
trigger1 = animelem = 2
value = S0,28

[state 0]
type = playsnd
trigger1 = animelem = 2
value = S0,6

[state 0]
type = playsnd
trigger1 = animelem = 2
value = S0,7

[state 0]
type = playsnd
trigger1 = animelem = 3
value = S0,29

[state 0]
type = playsnd
trigger1 = animelem = 3
value = S0,10

[state 0]
type = playsnd
trigger1 = animelem = 4
value = S0,30

[State 0]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
[StateDef 6045]
type = S
movetype= A
physics = S
ctrl = 0
poweradd = 75

[state 0]
type = changeanim
triggerall = var(7) = 0
trigger1 = time = 0
value = 6045

[State 0]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
damage = 20,10
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
sparkno = -1
guard.sparkno = -1
hitsound = S0, 14
guardsound = S0, 17
ground.type = High
ground.slidetime = 0
ground.hittime  = 20
ground.velocity = -2
airguard.velocity = -2
air.type = High
air.velocity = -2
air.hittime = 20

[State 0]
type = Explod
trigger1 = movehit = 1
anim = 5998
pos = 42,-61
postype = p1  ;p2,front,back,left,right
removetime = -2
ontop = 1
scale = 1,1
ownpal = 1

[State 0]
type = Explod
trigger1 = movehit = 0
trigger1 = movecontact = 1
anim = 5999
pos = 42,-61
postype = p1  ;p2,front,back,left,right
removetime = -2
ontop = 1
scale = 1,1
ownpal = 1

[state 0]
type = playsnd
trigger1 = animelem = 2
value = S0,11

[State 0]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 0]
type = ChangeState
triggerall = var(10) = 1
trigger1 = movecontact && Time = 15
value = 6046
ctrl = 0
;---------------------------------------------------------------------------
[StateDef 6046]
type = S
movetype= A
physics = S
ctrl = 0
poweradd = 75

[state 0]
type = changeanim
triggerall = var(7) = 0
trigger1 = time = 0
value = 6046

[State 0]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
damage = 10,5
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
sparkno = -1
guard.sparkno = -1
hitsound = S0, 13
guardsound = S0, 17
ground.type = High
ground.slidetime = 0
ground.hittime  = 30
ground.velocity = -2
airguard.velocity = -2
air.type = High
air.velocity = -2
air.hittime = 30

[State 0]
type = Explod
trigger1 = movehit = 1
anim = 5998
pos = 40,-55
postype = p1  ;p2,front,back,left,right
removetime = -2
ontop = 1
scale = 1,1
ownpal = 1

[State 0]
type = Explod
trigger1 = movehit = 0
trigger1 = movecontact = 1
anim = 5999
pos = 40,-55
postype = p1  ;p2,front,back,left,right
removetime = -2
ontop = 1
scale = 1,1
ownpal = 1

[state 0]
type = playsnd
trigger1 = animelem = 2
value = S0,11

[State 0]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 0]
type = ChangeState
triggerall = var(10) = 1
trigger1 = movecontact && Time = 15
value = 6047
ctrl = 0
;---------------------------------------------------------------------------
[StateDef 6047]
type = S
movetype= A
physics = S
ctrl = 0
poweradd = 75

[state 0]
type = changeanim
triggerall = var(7) = 0
trigger1 = time = 0
value = 6047

[state 0]
type = posadd
trigger1 = animelem = 5
x = (p2dist x) +20

[state 0]
type = turn
trigger1 = animelem = 6

[State 0]
type = HitDef
trigger1 = AnimElem = 11
attr = S, NA
damage = 10,5
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
sparkno = -1
guard.sparkno = -1
hitsound = S0, 16
guardsound = S0, 17
ground.type = High
ground.slidetime = 20
ground.hittime  = 40
ground.velocity = -15
airguard.velocity = -15
air.type = High
air.velocity = -15
air.hittime = 40

[state 0]
type = envshake
trigger1 = movecontact = 1
ampl = 2
time = 5

[State 0]
type = Explod
trigger1 = movehit = 1
anim = 5995
pos = 50,-40
postype = p1  ;p2,front,back,left,right
removetime = -2
ontop = 1
scale = 1,1
ownpal = 1

[State 0]
type = Explod
trigger1 = movehit = 0
trigger1 = movecontact = 1
anim = 5999
pos = 50,-40
postype = p1  ;p2,front,back,left,right
removetime = -2
ontop = 1
scale = 1,1
ownpal = 1

[state 0]
type = playsnd
trigger1 = time = 0
value = S0,31

[state 0]
type = playsnd
trigger1 = animelem = 5
value = S0,32

[state 0]
type = playsnd
trigger1 = animelem = 10
value = S0,12

[State 0]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 0]
type = ChangeState
triggerall = var(10) = 1
trigger1 = movecontact && Time = 20
value = 6048
ctrl = 0
;---------------------------------------------------------------------------
[StateDef 6048]
type = A
movetype= A
physics = S
ctrl = 0
poweradd = 75

[state 0]
type = changeanim
triggerall = var(7) = 0
trigger1 = time = 0
value = 6048

[state 0]
type = posadd
trigger1 = animelem = 5
x = (p2dist x) +20
y = (p2dist y) -50

[state 0]
type = turn
trigger1 = animelem = 6

[state 0]
type = velset
trigger1 = animelem = 10
x = 1
y = 1

[State 0]
type = HitDef
trigger1 = AnimElem = 10
attr = S, NA
damage = 20,10
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
sparkno = -1
guard.sparkno = -1
hitsound = S0, 15
guardsound = S0, 17
ground.type = High
ground.slidetime = 20
ground.hittime  = 40
ground.velocity = -2,10
airguard.velocity = -2,10
air.type = High
air.velocity = -2,10
air.hittime = 40
fall = 1

[state 0]
type = envshake
trigger1 = movecontact = 1
ampl = 2
time = 5

[State 0]
type = Explod
trigger1 = movehit = 1
anim = 5995
pos = 20,-25
postype = p1  ;p2,front,back,left,right
removetime = -2
ontop = 1
scale = 1,1
ownpal = 1

[State 0]
type = Explod
trigger1 = movehit = 0
trigger1 = movecontact = 1
anim = 5999
pos = 20,-25
postype = p1  ;p2,front,back,left,right
removetime = -2
ontop = 1
scale = 1,1
ownpal = 1

[state 0]
type = playsnd
trigger1 = time = 0
value = S0,31

[state 0]
type = playsnd
trigger1 = animelem = 5
value = S0,32

[state 0]
type = playsnd
trigger1 = animelem = 10
value = S0,11

[state 0]
type = velset
trigger1 = movecontact = 1
x = -6
y = -6

[State 0]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;---------------------------------------------------------------------------
[StateDef 6050]
type = A
movetype= A
physics = S
ctrl = 0
poweradd = -2000

[State 0]
type = SuperPause
trigger1 = time = 0
time = 200
anim = -1
movetime = 200
darken = 0

[state 0]
type = changeanim
triggerall = var(7) = 0
trigger1 = time = 0
value = 6050

[state 0]
type = velset
trigger1 = time = 0
y = -2

[state 0]
type = velset
trigger1 = animelem = 2
y = 0

[state 0]
type = envshake
triggerall = time > 30
triggerall = time < 310
trigger1 = timemod = 5,0
ampl = 2
time = 5

[state 0]
type = envshake
triggerall = time >= 310
triggerall = time < 365
trigger1 = timemod = 5,0
ampl = 4
time = 5

[State 0]
type = Explod
triggerall = time >= 30
triggerall = time < 190
trigger1 = timemod = 15,0
anim = 6052
pos = 0,-200
postype = p1  ;p2,front,back,left,right
removetime = -2
ontop = 1
scale = 1.25,1.25
ownpal = 1
supermove = 1

[State 0]
type = Helper
trigger1 = time = 40
helpertype = normal ;player
name = "Spirit Bomb"
ID = 6051
stateno = 6051
pos = 0,-200
postype = p1
ownpal = 1
supermovetime = 200

[State 0]
type = Helper
trigger1 = animelem = 3
helpertype = normal
name = "Spirit Bomb"
ID = 6052
stateno = 6052
pos = 0,-200
postype = p1
ownpal = 1

[State 0]
type = Explod
triggerall = var(7) = 0
trigger1 = animelem = 2
anim = 5995
pos = 0,-40
postype = p1  ;p2,front,back,left,right
facing = 1
sprpriority = 3
ownpal = 1
scale = 1,1
bindtime = -1
removetime = -2
supermove = 1

[State 0]
type = Explod
triggerall = var(7) = 0
trigger1 = animelem = 2
anim = 6004
pos = 5,-20
postype = p1  ;p2,front,back,left,right
facing = 1
sprpriority = 3
ownpal = 1
scale = 0.8,0.6
bindtime = -1
removetime = 385
supermove = 1
removeongethit = 1

[State 0]
type = Explod
triggerall = var(7) >= 1
trigger1 = animelem = 2
anim = 16004
pos = 5,-20
postype = p1  ;p2,front,back,left,right
facing = 1
sprpriority = 3
ownpal = 1
scale = 0.8,0.6
bindtime = -1
removetime = 385
supermove = 1
removeongethit = 1

[State 0]
type = Explod
triggerall = var(7) = 0
trigger1 = animelem = 2
anim = 6004
pos = 5,-30
postype = p1  ;p2,front,back,left,right
facing = 1
sprpriority = 3
ownpal = 1
scale = 0.8,0.4
bindtime = -1
removetime = 385
supermove = 1
vfacing = -1
removeongethit = 1

[State 0]
type = Explod
triggerall = var(7) >= 1
trigger1 = animelem = 2
anim = 16004
pos = 5,-30
postype = p1  ;p2,front,back,left,right
facing = 1
sprpriority = 3
ownpal = 1
scale = 0.8,0.4
bindtime = -1
removetime = 385
supermove = 1
vfacing = -1
removeongethit = 1

[State 0]
type = Explod
triggerall = var(7) = 0
trigger1 = animtime = 0
anim = 6005
pos = 5,-20
postype = p1  ;p2,front,back,left,right
facing = 1
sprpriority = 3
scale = 0.8,0.6
ownpal = 1
supermove = 1

[State 0]
type = Explod
triggerall = var(7) >= 1
trigger1 = animtime = 0
anim = 16005
pos = 5,-20
postype = p1  ;p2,front,back,left,right
facing = 1
sprpriority = 3
scale = 0.8,0.6
ownpal = 1
supermove = 1

[State 0]
type = Explod
triggerall = var(7) = 0
trigger1 = animtime = 0
anim = 6005
pos = 5,-40
postype = p1  ;p2,front,back,left,right
facing = 1
sprpriority = 3
scale = 0.8,0.4
ownpal = 1
supermove = 1
vfacing = -1

[State 0]
type = Explod
triggerall = var(7) >= 1
trigger1 = animtime = 0
anim = 16005
pos = 5,-40
postype = p1  ;p2,front,back,left,right
facing = 1
sprpriority = 3
scale = 0.8,0.4
ownpal = 1
supermove = 1
vfacing = -1

[state 0]
type = playsnd
trigger1 = time = 0
value = S0,10

[state 0]
type = playsnd
trigger1 = animelem = 2
value = S0,6

[state 0]
type = playsnd
trigger1 = animelem = 3
value = S0,36

[state 0]
type = playsnd
trigger1 = animelem = 2
value = S0,35

[State 0]
type = playsnd
triggerall = time >= 30
trigger1 = timemod = 72,0
value = S0,7

[state 0]
type = playsnd
trigger1 = animelem = 2
value = S0,33

[state 0]
type = playsnd
trigger1 = animelem = 3
value = S0,34

[state 0]
type = playsnd
trigger1 = animelem = 4
value = S0,37

[state 0]
type = playsnd
trigger1 = animtime = 0
value = S0,9

[State 0]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;---------------------------------------------------------------------------
[StateDef 6051]
type = S
physics = S
ctrl = 0
anim = 6051
sprpriority = 5
juggle = 1

[State 0]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256,256

[state 0]
type = angledraw
trigger1 = 1
scale = 0.25+(time/140.000),0.25+(time/140.000)

[state 0]
type = bindtoroot
trigger1 = 1
pos = 0,-200

[state 0]
type = destroyself
trigger1 = time = 170
;---------------------------------------------------------------------------
[StateDef 6052]
type = S
movetype = A
physics = S
ctrl = 0
sprpriority = 5
juggle = 1

[state 0]
type = changeanim
triggerall = var(7) = 0
trigger1 = time = 0
value = 6051

[state 0]
type = changeanim
triggerall = var(7) = 0
trigger1 = time = 149
value = 6053

[State 0]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256,256

[state 0]
type = angledraw
trigger1 = 1
scale = 1.5,1.5

[state 0]
type = velset
triggerall = time < 60
trigger1 = 1
x = 3

[state 0]
type = velset
trigger1 = time = 0
y = 3

[state 0]
type = velset
triggerall = time >= 60
trigger1 = 1
x = 1
y = 0

[State 0]
type = HitDef
triggerall = Time < 149
trigger1 = 1
attr = S, NA
damage = 0,0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
sparkno = -1
guard.sparkno = -1
ground.type = High
ground.slidetime = 20
ground.hittime  = 40
ground.velocity = -2
airguard.velocity = -2,2
air.type = High
air.velocity = -2,2
air.hittime = 40

[State 0]
type = HitDef
trigger1 = Time = 149
attr = S, NA
damage = 250,150
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
sparkno = -1
guard.sparkno = -1
ground.type = High
ground.slidetime = 20
ground.hittime  = 40
ground.velocity = -2,-8
airguard.velocity = -2,-8
air.type = High
air.velocity = -2,-8
air.hittime = 40
fall = 1

[state 0]
type = envshake
trigger1 = animtime = 0
ampl = 10
time = 50

[State 0]
type = Explod
trigger1 = time = 149
anim = 6054
pos = 0,0
postype = p1  ;p2,front,back,left,right
removetime = -2
ontop = 1
scale = 2,2
ownpal = 1

[State 0]
type = Explod
trigger1 = time = 149
anim = 6017
pos = 0,0
postype = p1  ;p2,front,back,left,right
removetime = -2
ontop = 1
scale = 2,2
ownpal = 1

[state 0]
type = playsnd
trigger1 = time = 149
value = S0,38

[state 0]
type = playsnd
trigger1 = time = 149
value = S0,39

[state 0]
type = destroyself
trigger1 = time = 150
;---------------------------------------------------------------------------
[StateDef 6055]
type = S
movetype= A
physics = S
ctrl = 0
poweradd = 100

[state 0]
type = changeanim
triggerall = var(7) = 0
trigger1 = time = 0
value = 6055

[State 0]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
damage = 20,10
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
sparkno = -1
guard.sparkno = -1
hitsound = S0, 14
guardsound = S0, 17
ground.type = High
ground.slidetime = 0
ground.hittime  = 30
ground.velocity = -2
airguard.velocity = -2
air.type = High
air.velocity = -2
air.hittime = 30

[State 0]
type = Explod
trigger1 = movehit = 1
anim = 5998
pos = 42,-40
postype = p1  ;p2,front,back,left,right
removetime = -2
ontop = 1
scale = 1,1
ownpal = 1

[State 0]
type = Explod
trigger1 = movehit = 0
trigger1 = movecontact = 1
anim = 5999
pos = 42,-40
postype = p1  ;p2,front,back,left,right
removetime = -2
ontop = 1
scale = 1,1
ownpal = 1

[state 0]
type = playsnd
trigger1 = animelem = 2
value = S0,11

[State 0]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 0]
type = ChangeState
triggerall = var(10) = 1
trigger1 = movecontact && Time = 15
value = 6056
ctrl = 0
;---------------------------------------------------------------------------
[StateDef 6056]
type = S
movetype= A
physics = S
ctrl = 0
poweradd = 100

[state 0]
type = changeanim
triggerall = var(7) = 0
trigger1 = time = 0
value = 6056

[state 0]
type = posadd
trigger1 = animelem = 5
x = (p2dist x) +20

[state 0]
type = turn
trigger1 = animelem = 6

[State 0]
type = HitDef
trigger1 = AnimElem = 10
attr = S, NA
damage = 20,10
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
sparkno = -1
guard.sparkno = -1
hitsound = S0, 13
guardsound = S0, 17
ground.type = High
ground.slidetime = 20
ground.hittime  = 30
ground.velocity = -2
airguard.velocity = -2
air.type = High
air.velocity = -2
air.hittime = 40

[State 0]
type = Explod
trigger1 = movehit = 1
anim = 5998
pos = 50,-50
postype = p1  ;p2,front,back,left,right
removetime = -2
ontop = 1
scale = 1,1
ownpal = 1

[State 0]
type = Explod
trigger1 = movehit = 0
trigger1 = movecontact = 1
anim = 5999
pos = 50,-50
postype = p1  ;p2,front,back,left,right
removetime = -2
ontop = 1
scale = 1,1
ownpal = 1

[state 0]
type = playsnd
trigger1 = time = 0
value = S0,31

[state 0]
type = playsnd
trigger1 = animelem = 5
value = S0,32

[state 0]
type = playsnd
trigger1 = animelem = 10
value = S0,11

[State 0]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 0]
type = ChangeState
triggerall = var(10) = 1
trigger1 = movecontact && Time = 20
value = 3000
ctrl = 0
;---------------------------------------------------------------------------
[StateDef 6057]
type = A
movetype= A
physics = S
ctrl = 0
velset = 0,0
sprpriority = 0
poweradd = 75

[state 0]
type = changeanim
triggerall = var(7) = 0
trigger1 = time = 0
value = 6057

[state 0]
type = posadd
trigger1 = animelem = 5
x = (p2dist x) +100
y = (p2dist y) -50

[state 0]
type = turn
trigger1 = animelem = 6

[State 0]
type = Helper
trigger1 = animelem = 10
helpertype = normal ;player
name = "Kamehameha"
ID = 6058
stateno = 6058
pos = 20,-40
postype = p1
ownpal = 1

[state 0]
type = envshake
triggerall = time > 18
trigger1 = timemod = 5,0
ampl = 2
time = 5

[state 0]
type = playsnd
trigger1 = time = 0
value = S0,31

[state 0]
type = playsnd
trigger1 = animelem = 5
value = S0,32

[state 0]
type = playsnd
trigger1 = animelem = 10
value = S0,40

[State 0]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;---------------------------------------------------------------------------
[StateDef 6058]
type = S
movetype= A
physics = S
anim = 6058
sprpriority = 5
juggle = 1

[State 0]
type = AngleDraw
trigger1 = 1
scale = 1,0.75

[State 0]
type = Angleset
trigger1 = 1
value = -30

[State 0]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256,256

[state 0]
type = bindtoroot
trigger1 = 1
pos = 28,-39

[state 0]
type = assertspecial
trigger1 = 1
flag = noshadow

[State 0]
type = HitDef
triggerall = time < 18
trigger1 = timemod = 2,0
attr = S, NA
damage = 2,1
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
sparkno = -1
guard.sparkno = -1
ground.type = High
ground.slidetime = 5
ground.hittime  = 5
ground.velocity = -2
airguard.velocity = -2,1
air.type = High
air.velocity = -2,1
air.hittime = 5

[State 0]
type = HitDef
trigger1 = time = 18
attr = S, NA
damage = 2,1
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
sparkno = -1
guard.sparkno = -1
ground.type = High
ground.slidetime = 5
ground.hittime  = 5
ground.velocity = -5,5
airguard.velocity = -5,5
air.type = High
air.velocity = -5,5
air.hittime = 5
fall = 1

[State 6014]
type = Destroyself
trigger1 = AnimTime = 0
trigger2 = parent,stateno != 6057
;---------------------------------------------------------------------------
[StateDef 6060]
type = S
movetype= A
physics = S
ctrl = 0
poweradd = 100

[state 0]
type = changeanim
triggerall = var(7) = 1
trigger1 = time = 0
value = 6060

[State 0]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
damage = 20,10
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
sparkno = -1
guard.sparkno = -1
hitsound = S0, 13
guardsound = S0, 17
ground.type = High
ground.slidetime = 0
ground.hittime  = 20
ground.velocity = -2
airguard.velocity = -2
air.type = High
air.velocity = -2
air.hittime = 20

[State 0]
type = Explod
trigger1 = movehit = 1
anim = 5998
pos = 40,-55
postype = p1  ;p2,front,back,left,right
removetime = -2
ontop = 1
scale = 1,1
ownpal = 1

[State 0]
type = Explod
trigger1 = movehit = 0
trigger1 = movecontact = 1
anim = 5999
pos = 40,-55
postype = p1  ;p2,front,back,left,right
removetime = -2
ontop = 1
scale = 1,1
ownpal = 1

[state 0]
type = playsnd
trigger1 = animelem = 2
value = S0,11

[State 0]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 0]
type = ChangeState
triggerall = var(10) = 1
trigger1 = movecontact && Time = 15
value = 6061
ctrl = 0
;---------------------------------------------------------------------------
[StateDef 6061]
type = S
movetype= A
physics = S
ctrl = 0
poweradd = 100

[state 0]
type = changeanim
triggerall = var(7) = 1
trigger1 = time = 0
value = 6061

[State 0]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
damage = 20,10
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
sparkno = -1
guard.sparkno = -1
hitsound = S0, 15
guardsound = S0, 17
ground.type = High
ground.slidetime = 30
ground.hittime  = 40
ground.velocity = -15
airguard.velocity = -15
air.type = High
air.velocity = -15
air.hittime = 40

[state 0]
type = envshake
trigger1 = movecontact = 1
ampl = 2
time = 5

[State 0]
type = Explod
trigger1 = movehit = 1
anim = 5995
pos = 40,-55
postype = p1  ;p2,front,back,left,right
removetime = -2
ontop = 1
scale = 1,1
ownpal = 1

[State 0]
type = Explod
trigger1 = movehit = 0
trigger1 = movecontact = 1
anim = 5999
pos = 40,-55
postype = p1  ;p2,front,back,left,right
removetime = -2
ontop = 1
scale = 1,1
ownpal = 1

[state 0]
type = playsnd
trigger1 = animelem = 2
value = S0,11

[State 0]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 0]
type = ChangeState
triggerall = var(10) = 1
trigger1 = movecontact && Time = 15
value = 6062
ctrl = 0
;---------------------------------------------------------------------------
[StateDef 6062]
type = S
movetype= A
physics = S
ctrl = 0
poweradd = 100

[state 0]
type = changeanim
triggerall = var(7) = 1
trigger1 = time = 0
value = 6062

[state 0]
type = posadd
trigger1 = animelem = 5
x = (p2dist x) +20

[state 0]
type = turn
trigger1 = animelem = 6

[State 0]
type = HitDef
trigger1 = AnimElem = 10
attr = S, NA
damage = 20,10
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
sparkno = -1
guard.sparkno = -1
hitsound = S0, 16
guardsound = S0, 17
ground.type = High
ground.slidetime = 20
ground.hittime  = 40
ground.velocity = -15
airguard.velocity = -15
air.type = High
air.velocity = -15
air.hittime = 40
fall = 1

[state 0]
type = envshake
trigger1 = movecontact = 1
ampl = 2
time = 5

[State 0]
type = Explod
trigger1 = movehit = 1
anim = 5995
pos = 50,-40
postype = p1  ;p2,front,back,left,right
removetime = -2
ontop = 1
scale = 1,1
ownpal = 1

[State 0]
type = Explod
trigger1 = movehit = 0
trigger1 = movecontact = 1
anim = 5999
pos = 50,-40
postype = p1  ;p2,front,back,left,right
removetime = -2
ontop = 1
scale = 1,1
ownpal = 1

[state 0]
type = playsnd
trigger1 = time = 0
value = S0,31

[state 0]
type = playsnd
trigger1 = animelem = 5
value = S0,32

[state 0]
type = playsnd
trigger1 = animelem = 10
value = S0,12

[State 0]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
[StateDef 6065]
type = S
movetype= A
physics = S
ctrl = 0
poweradd = 100

[state 0]
type = changeanim
triggerall = var(7) = 1
trigger1 = time = 0
value = 6065

[State 0]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
damage = 20,10
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
sparkno = -1
guard.sparkno = -1
hitsound = S0, 13
guardsound = S0, 17
ground.type = High
ground.slidetime = 0
ground.hittime  = 20
ground.velocity = -2
airguard.velocity = -2
air.type = High
air.velocity = -2
air.hittime = 20

[State 0]
type = Explod
trigger1 = movehit = 1
anim = 5998
pos = 45,-55
postype = p1  ;p2,front,back,left,right
removetime = -2
ontop = 1
scale = 1,1
ownpal = 1

[State 0]
type = Explod
trigger1 = movehit = 0
trigger1 = movecontact = 1
anim = 5999
pos = 45,-55
postype = p1  ;p2,front,back,left,right
removetime = -2
ontop = 1
scale = 1,1
ownpal = 1

[state 0]
type = playsnd
trigger1 = animelem = 2
value = S0,11

[State 0]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 0]
type = ChangeState
triggerall = var(10) = 1
trigger1 = movecontact && Time = 15
value = 6066
ctrl = 0
;---------------------------------------------------------------------------
[StateDef 6066]
type = S
movetype= A
physics = S
ctrl = 0
poweradd = 75

[state 0]
type = changeanim
triggerall = var(7) = 1
trigger1 = time = 0
value = 6066

[State 0]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
damage = 10,5
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
sparkno = -1
guard.sparkno = -1
hitsound = S0, 14
guardsound = S0, 17
ground.type = High
ground.slidetime = 0
ground.hittime  = 20
ground.velocity = -2
airguard.velocity = -2
air.type = High
air.velocity = -2
air.hittime = 20

[State 0]
type = Explod
trigger1 = movehit = 1
anim = 5998
pos = 42,-61
postype = p1  ;p2,front,back,left,right
removetime = -2
ontop = 1
scale = 1,1
ownpal = 1

[State 0]
type = Explod
trigger1 = movehit = 0
trigger1 = movecontact = 1
anim = 5999
pos = 42,-61
postype = p1  ;p2,front,back,left,right
removetime = -2
ontop = 1
scale = 1,1
ownpal = 1

[state 0]
type = playsnd
trigger1 = animelem = 2
value = S0,11

[State 0]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 0]
type = ChangeState
triggerall = var(10) = 1
trigger1 = movecontact && Time = 15
value = 6067
ctrl = 0
;---------------------------------------------------------------------------
[StateDef 6067]
type = S
movetype= A
physics = S
ctrl = 0
poweradd = 75

[state 0]
type = changeanim
triggerall = var(7) = 1
trigger1 = time = 0
value = 6067

[State 0]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
damage = 10,5
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
sparkno = -1
guard.sparkno = -1
hitsound = S0, 16
guardsound = S0, 17
ground.type = High
ground.slidetime = 0
ground.hittime  = 20
ground.velocity = -3,-8
airguard.velocity = -3,-8
air.type = High
air.velocity = -3,-10
air.hittime = 20
fall = 1

[State 0]
type = Explod
trigger1 = movehit = 1
anim = 5995
pos = 40,-80
postype = p1  ;p2,front,back,left,right
removetime = -2
ontop = 1
scale = 1,1
ownpal = 1

[State 0]
type = Explod
trigger1 = movehit = 0
trigger1 = movecontact = 1
anim = 5999
pos = 40,-80
postype = p1  ;p2,front,back,left,right
removetime = -2
ontop = 1
scale = 1,1
ownpal = 1

[state 0]
type = playsnd
trigger1 = animelem = 2
value = S0,11

[State 0]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 0]
type = ChangeState
triggerall = var(10) = 1
trigger1 = movecontact && Time = 15
value = 22221
ctrl = 0
;---------------------------------------------------------------------------
[StateDef 6068]
type = A
movetype= A
physics = S
ctrl = 0
velset = 0,0
sprpriority = 0
poweradd = 75

[state 0]
type = changeanim
triggerall = var(7) = 1
trigger1 = time = 0
value = 6068

[state 0]
type = envshake
triggerall = time > 4
trigger1 = timemod = 5,0
ampl = 2
time = 5

[State 0]
type = Helper
trigger1 = animelem = 2
helpertype = normal ;player
name = "Kamehameha"
ID = 6069
stateno = 6069
pos = 20,-40
postype = p1
ownpal = 1

[state 0]
type = playsnd
trigger1 = animelem = 2
value = S0,40

[State 0]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
[StateDef 6069]
type = S
movetype= A
physics = S
anim = 6069
sprpriority = 5
juggle = 1

[State 0]
type = AngleDraw
trigger1 = 1
scale = 1,0.75

[State 0]
type = Angleset
trigger1 = 1
value = 30

[State 0]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256,256

[state 0]
type = bindtoroot
trigger1 = 1
pos = 15,-60

[state 0]
type = assertspecial
trigger1 = 1
flag = noshadow

[State 0]
type = HitDef
triggerall = time < 18
trigger1 = timemod = 2,0
attr = S, NA
damage = 2,1
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
sparkno = -1
guard.sparkno = -1
ground.type = High
ground.slidetime = 5
ground.hittime  = 5
ground.velocity = -4,-2
airguard.velocity = -4,-2
air.type = High
air.velocity = -4,-2
air.hittime = 5

[State 0]
type = HitDef
trigger1 = time = 18
attr = S, NA
damage = 2,1
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
sparkno = -1
guard.sparkno = -1
ground.type = High
ground.slidetime = 5
ground.hittime  = 5
ground.velocity = -6,-3
airguard.velocity = -6,-3
air.type = High
air.velocity = -6,-3
air.hittime = 5
fall = 1

[State 6014]
type = Destroyself
trigger1 = AnimTime = 0
trigger2 = parent,stateno != 6068
;---------------------------------------------------------------------------
[StateDef 6070]
type = S
movetype= A
physics = S
ctrl = 0
poweradd = 75

[state 0]
type = changeanim
triggerall = var(7) = 1
trigger1 = time = 0
value = 6070

[State 0]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
damage = 20,10
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
sparkno = -1
guard.sparkno = -1
hitsound = S0, 14
guardsound = S0, 17
ground.type = High
ground.slidetime = 0
ground.hittime  = 20
ground.velocity = -2
airguard.velocity = -2
air.type = High
air.velocity = -2
air.hittime = 20

[State 0]
type = Explod
trigger1 = movehit = 1
anim = 5998
pos = 42,-61
postype = p1  ;p2,front,back,left,right
removetime = -2
ontop = 1
scale = 1,1
ownpal = 1

[State 0]
type = Explod
trigger1 = movehit = 0
trigger1 = movecontact = 1
anim = 5999
pos = 42,-61
postype = p1  ;p2,front,back,left,right
removetime = -2
ontop = 1
scale = 1,1
ownpal = 1

[state 0]
type = playsnd
trigger1 = animelem = 2
value = S0,11

[State 0]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 0]
type = ChangeState
triggerall = var(10) = 1
trigger1 = movecontact && Time = 15
value = 6071
ctrl = 0
;---------------------------------------------------------------------------
[StateDef 6071]
type = S
movetype= A
physics = S
ctrl = 0
poweradd = 100

[state 0]
type = changeanim
triggerall = var(7) = 1
trigger1 = time = 0
value = 6071

[State 0]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
damage = 10,5
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
sparkno = -1
guard.sparkno = -1
hitsound = S0, 13
guardsound = S0, 17
ground.type = High
ground.slidetime = 0
ground.hittime  = 20
ground.velocity = -2
airguard.velocity = -2
air.type = High
air.velocity = -2
air.hittime = 20

[State 0]
type = Explod
trigger1 = movehit = 1
anim = 5998
pos = 40,-55
postype = p1  ;p2,front,back,left,right
removetime = -2
ontop = 1
scale = 1,1
ownpal = 1

[State 0]
type = Explod
trigger1 = movehit = 0
trigger1 = movecontact = 1
anim = 5999
pos = 40,-55
postype = p1  ;p2,front,back,left,right
removetime = -2
ontop = 1
scale = 1,1
ownpal = 1

[state 0]
type = playsnd
trigger1 = animelem = 2
value = S0,11

[State 0]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 0]
type = ChangeState
triggerall = var(10) = 1
trigger1 = movecontact && Time = 15
value = 6072
ctrl = 0
;---------------------------------------------------------------------------
[StateDef 6072]
type = S
movetype= A
physics = S
ctrl = 0
poweradd = 75

[state 0]
type = changeanim
triggerall = var(7) = 1
trigger1 = time = 0
value = 6072

[State 0]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
damage = 10,5
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
sparkno = -1
guard.sparkno = -1
hitsound = S0, 14
guardsound = S0, 17
ground.type = High
ground.slidetime = 0
ground.hittime  = 30
ground.velocity = -2
airguard.velocity = -2
air.type = High
air.velocity = -2
air.hittime = 30

[State 0]
type = Explod
trigger1 = movehit = 1
anim = 5998
pos = 42,-40
postype = p1  ;p2,front,back,left,right
removetime = -2
ontop = 1
scale = 1,1
ownpal = 1

[State 0]
type = Explod
trigger1 = movehit = 0
trigger1 = movecontact = 1
anim = 5999
pos = 42,-40
postype = p1  ;p2,front,back,left,right
removetime = -2
ontop = 1
scale = 1,1
ownpal = 1

[state 0]
type = playsnd
trigger1 = animelem = 2
value = S0,11

[State 0]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 0]
type = ChangeState
triggerall = var(10) = 1
trigger1 = movecontact && Time = 15
value = 22221
ctrl = 0
;---------------------------------------------------------------------------
[StateDef 6073]
type = A
movetype= A
physics = S
velset = 0,0
ctrl = 0
poweradd = 75
sprpriority = 0

[state 0]
type = changeanim
triggerall = var(7) = 1
trigger1 = time = 0
value = 6073

[State 0]
type = Helper
trigger1 = animelem = 2
helpertype = normal
name = "Beam"
ID = 6074
stateno = 6074
pos = -100,-65
postype = p1
ownpal = 1

[state 0]
type = envshake
triggerall = time > 4
trigger1 = timemod = 5,0
ampl = 2
time = 5

[state 0]
type = playsnd
trigger1 = time = 0
value = S0,40

[State 0]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
[StateDef 6074]
type = S
movetype= A
physics = S
ctrl = 0
anim = 6074
sprpriority = 10

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = 1,0.2-(time/100.000)

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256,256

[state 0]
type = bindtoroot
trigger1 = 1
pos = -80,-55

[State 0]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0]
type = HitDef
trigger1 = timemod = 2,0
attr = S, NA
damage = 2,1
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
sparkno = -1
guard.sparkno = -1
ground.type = High
ground.slidetime = 0
ground.hittime  = 5
ground.velocity = -5,-1
airguard.velocity = -5,-1
air.type = High
air.velocity = -5,-1
air.hittime = 5
fall = 1

[State 0]
type = Destroyself
trigger1 = AnimTime = 0
trigger2 = parent,stateno != 22221
;---------------------------------------------------------------------------
[StateDef 6075]
type = A
movetype= A
physics = S
ctrl = 0
velset = 0,0
sprpriority = 0
poweradd = -2000

[State 0]
type = SuperPause
trigger1 = time = 0
time = 71
anim = -1
movetime = 71
darken = 0

[state 0]
type = changeanim
triggerall = var(7) = 1
trigger1 = time = 0
value = 6075

[state 0]
type = posadd
trigger1 = animelem = 8
x = (p2dist x) +150
y = (p2dist y) -40

[state 0]
type = envshake
triggerall = time >= 75
trigger1 = timemod = 5,0
ampl = 2
time = 5

[state 0]
type = turn
trigger1 = animelem = 9

[state 0]
type = playsnd
trigger1 = animelem = 4
value = S0,31

[state 0]
type = playsnd
trigger1 = animelem = 8
value = S0,32

[state 0]
type = playsnd
trigger1 = animelem = 2
value = S0,21

[state 0]
type = playsnd
trigger1 = animelem = 2
value = S0,24

[state 0]
type = playsnd
trigger1 = animelem = 12
value = S0,25

[state 0]
type = playsnd
trigger1 = animelem = 12
value = S0,28

[State 0]
type = Helper
trigger1 = animelem = 2
helpertype = normal ;player
name = "Effect"
ID = 6021
stateno = 6021
pos = 0,0
postype = p1
ownpal = 1
supermovetime = 100

[State 0]
type = Helper
trigger1 = animelem = 12
helpertype = normal ;player
name = "Effect"
ID = 6076
stateno = 6076
pos = 0,0
postype = p1
ownpal = 1
supermovetime = 100

[State 0]
type = Helper
trigger1 = animelem = 12
helpertype = normal ;player
name = "Kamehameha"
ID = 6077
stateno = 6077
pos = 0,0
postype = p1
ownpal = 1

[State 0]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;---------------------------------------------------------------------------
[StateDef 6076]
type = S
physics = S
anim = 6024
sprpriority = 5

[State 0]
type = AngleDraw
trigger1 = 1
scale = 1,1

[State 0]
type = Angleset
trigger1 = 1
value = -30

[State 0]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256,256

[state 0]
type = bindtoroot
trigger1 = 1
pos = 40,-50

[state 0]
type = assertspecial
trigger1 = 1
flag = noshadow

[State 6014]
type = Destroyself
trigger1 = Time = 94
trigger2 = parent,stateno != 6075
;---------------------------------------------------------------------------
[StateDef 6077]
type = S
movetype= A
physics = S
anim = 6077
sprpriority = 5
juggle = 1

[State 0]
type = AngleDraw
trigger1 = 1
scale = 1,1.2

[State 0]
type = Angleset
trigger1 = 1
value = -30

[State 0]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256,256

[state 0]
type = bindtoroot
trigger1 = 1
pos = 30,-50

[state 0]
type = assertspecial
trigger1 = 1
flag = noshadow

[State 0]
type = HitDef
triggerall = time < 99
trigger1 = 1
attr = S, NA
damage = 2,1
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
sparkno = -1
guard.sparkno = -1
ground.type = High
ground.slidetime = 5
ground.hittime  = 5
ground.velocity = -1
airguard.velocity = -1,1
air.type = High
air.velocity = -1,1
air.hittime = 5

[State 0]
type = HitDef
trigger1 = time = 99
attr = S, NA
damage = 2,1
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
sparkno = -1
guard.sparkno = -1
ground.type = High
ground.slidetime = 5
ground.hittime  = 5
ground.velocity = -20,20
airguard.velocity = -20,20
air.type = High
air.velocity = -20,20
air.hittime = 5
fall = 1

[State 6014]
type = Destroyself
trigger1 = AnimTime = 0
trigger2 = parent,stateno != 6075
;---------------------------------------------------------------------------
[StateDef 6080]
type = S
movetype= A
physics = S
ctrl = 0
poweradd = 100

[state 0]
type = changeanim
triggerall = var(7) = 1
trigger1 = time = 0
value = 6080

[State 0]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
damage = 20,10
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
sparkno = -1
guard.sparkno = -1
hitsound = S0, 14
guardsound = S0, 17
ground.type = High
ground.slidetime = 0
ground.hittime  = 30
ground.velocity = -2
airguard.velocity = -2
air.type = High
air.velocity = -2
air.hittime = 30

[State 0]
type = Explod
trigger1 = movehit = 1
anim = 5998
pos = 42,-40
postype = p1  ;p2,front,back,left,right
removetime = -2
ontop = 1
scale = 1,1
ownpal = 1

[State 0]
type = Explod
trigger1 = movehit = 0
trigger1 = movecontact = 1
anim = 5999
pos = 42,-40
postype = p1  ;p2,front,back,left,right
removetime = -2
ontop = 1
scale = 1,1
ownpal = 1

[state 0]
type = playsnd
trigger1 = animelem = 2
value = S0,11

[State 0]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 0]
type = ChangeState
triggerall = var(10) = 1
trigger1 = movecontact && Time = 15
value = 6081
ctrl = 0
;---------------------------------------------------------------------------
[StateDef 6081]
type = S
movetype= A
physics = S
ctrl = 0
poweradd = 100

[state 0]
type = changeanim
triggerall = var(7) = 1
trigger1 = time = 0
value = 6081

[state 0]
type = posadd
trigger1 = animelem = 5
x = (p2dist x) +20

[state 0]
type = turn
trigger1 = animelem = 6

[State 0]
type = HitDef
trigger1 = AnimElem = 10
attr = S, NA
damage = 20,10
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
sparkno = -1
guard.sparkno = -1
hitsound = S0, 15
guardsound = S0, 17
ground.type = High
ground.slidetime = 20
ground.hittime  = 40
ground.velocity = -15
airguard.velocity = -15
air.type = High
air.velocity = -15
air.hittime = 40

[state 0]
type = envshake
trigger1 = movecontact = 1
ampl = 2
time = 5

[State 0]
type = Explod
trigger1 = movehit = 1
anim = 5995
pos = 50,-40
postype = p1  ;p2,front,back,left,right
removetime = -2
ontop = 1
scale = 1,1
ownpal = 1

[State 0]
type = Explod
trigger1 = movehit = 0
trigger1 = movecontact = 1
anim = 5999
pos = 50,-40
postype = p1  ;p2,front,back,left,right
removetime = -2
ontop = 1
scale = 1,1
ownpal = 1

[state 0]
type = playsnd
trigger1 = time = 0
value = S0,31

[state 0]
type = playsnd
trigger1 = animelem = 5
value = S0,32

[state 0]
type = playsnd
trigger1 = animelem = 10
value = S0,12

[State 0]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 0]
type = ChangeState
triggerall = var(10) = 1
trigger1 = movecontact && Time = 20
value = 6082
ctrl = 0
;---------------------------------------------------------------------------
[StateDef 6082]
type = A
movetype= A
physics = S
ctrl = 0
poweradd = 100

[state 0]
type = changeanim
triggerall = var(7) = 1
trigger1 = time = 0
value = 6082

[state 0]
type = posadd
trigger1 = animelem = 5
x = (p2dist x) +20
y = (p2dist y) -50

[state 0]
type = turn
trigger1 = animelem = 6

[state 0]
type = velset
trigger1 = animelem = 10
x = 2
y = 2

[State 0]
type = HitDef
trigger1 = AnimElem = 10
attr = S, NA
damage = 20,10
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
sparkno = -1
guard.sparkno = -1
hitsound = S0, 16
guardsound = S0, 17
ground.type = High
ground.slidetime = 0
ground.hittime  = 20
ground.velocity = -10,15
airguard.velocity = -10,15
air.type = High
air.velocity = -10,15
air.hittime = 20
fall = 1

[state 0]
type = envshake
trigger1 = movecontact = 1
ampl = 5
time = 10
ignorehitpause = 1

[State 0]
type = Explod
trigger1 = movehit = 1
anim = 5995
pos = 40,5
postype = p1  ;p2,front,back,left,right
removetime = -2
ontop = 1
scale = 1,1
ownpal = 1

[State 0]
type = Explod
trigger1 = movehit = 0
trigger1 = movecontact = 1
anim = 5999
pos = 40,5
postype = p1  ;p2,front,back,left,right
removetime = -2
ontop = 1
scale = 1,1
ownpal = 1

[state 0]
type = playsnd
trigger1 = time = 0
value = S0,31

[state 0]
type = playsnd
trigger1 = animelem = 5
value = S0,32

[state 0]
type = playsnd
trigger1 = animelem = 10
value = S0,12

[state 0]
type = velset
trigger1 = movecontact = 1
x = -5
y = -5

[State 0]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;---------------------------------------------------------------------------
[StateDef 6085]
type = S
movetype= A
physics = S
ctrl = 0
poweradd = 100

[state 0]
type = changeanim
triggerall = var(7) = 2
trigger1 = time = 0
value = 6085

[State 0]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
damage = 20,10
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
sparkno = -1
guard.sparkno = -1
hitsound = S0, 13
guardsound = S0, 17
ground.type = High
ground.slidetime = 0
ground.hittime  = 20
ground.velocity = -2
airguard.velocity = -2
air.type = High
air.velocity = -2
air.hittime = 20

[State 0]
type = Explod
trigger1 = movehit = 1
anim = 5998
pos = 40,-55
postype = p1  ;p2,front,back,left,right
removetime = -2
ontop = 1
scale = 1,1
ownpal = 1

[State 0]
type = Explod
trigger1 = movehit = 0
trigger1 = movecontact = 1
anim = 5999
pos = 40,-55
postype = p1  ;p2,front,back,left,right
removetime = -2
ontop = 1
scale = 1,1
ownpal = 1

[state 0]
type = playsnd
trigger1 = animelem = 2
value = S0,11

[State 0]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 0]
type = ChangeState
triggerall = var(10) = 1
trigger1 = movecontact && Time = 12
value = 6086
ctrl = 0
;---------------------------------------------------------------------------
[StateDef 6086]
type = S
movetype= A
physics = S
ctrl = 0
poweradd = 100

[state 0]
type = changeanim
triggerall = var(7) = 2
trigger1 = time = 0
value = 6086

[State 0]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
damage = 20,10
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
sparkno = -1
guard.sparkno = -1
hitsound = S0, 16
guardsound = S0, 17
ground.type = High
ground.slidetime = 0
ground.hittime  = 20
ground.velocity = -2,-10
airguard.velocity = -2,-10
air.type = High
air.velocity = -2,-10
air.hittime = 20
fall = 1

[State 0]
type = Explod
trigger1 = movehit = 1
anim = 5995
pos = 40,-80
postype = p1  ;p2,front,back,left,right
removetime = -2
ontop = 1
scale = 1,1
ownpal = 1

[State 0]
type = Explod
trigger1 = movehit = 0
trigger1 = movecontact = 1
anim = 5999
pos = 40,-80
postype = p1  ;p2,front,back,left,right
removetime = -2
ontop = 1
scale = 1,1
ownpal = 1

[state 0]
type = playsnd
trigger1 = animelem = 2
value = S0,11

[State 0]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 0]
type = ChangeState
triggerall = var(10) = 1
trigger1 = movecontact && Time = 12
value = 6087
ctrl = 0
;---------------------------------------------------------------------------
[StateDef 6087]
type = A
movetype= A
physics = S
ctrl = 0
poweradd = 100

[state 0]
type = changeanim
triggerall = var(7) = 2
trigger1 = time = 0
value = 6087

[state 0]
type = posadd
trigger1 = animelem = 5
x = (p2dist x) -20
y = (p2dist y) -50

[state 0]
type = velset
trigger1 = animelem = 10
x = 1
y = 1

[State 0]
type = HitDef
trigger1 = AnimElem = 10
attr = S, NA
damage = 20,10
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
sparkno = -1
guard.sparkno = -1
hitsound = S0, 15
guardsound = S0, 17
ground.type = High
ground.slidetime = 20
ground.hittime  = 40
ground.velocity = -2,10
airguard.velocity = -2,10
air.type = High
air.velocity = -2,10
air.hittime = 40
fall = 1

[state 0]
type = envshake
trigger1 = movecontact = 1
ampl = 2
time = 5

[State 0]
type = Explod
trigger1 = movehit = 1
anim = 5995
pos = 20,-25
postype = p1  ;p2,front,back,left,right
removetime = -2
ontop = 1
scale = 1,1
ownpal = 1

[State 0]
type = Explod
trigger1 = movehit = 0
trigger1 = movecontact = 1
anim = 5999
pos = 20,-25
postype = p1  ;p2,front,back,left,right
removetime = -2
ontop = 1
scale = 1,1
ownpal = 1

[state 0]
type = playsnd
trigger1 = time = 0
value = S0,31

[state 0]
type = playsnd
trigger1 = animelem = 5
value = S0,32

[state 0]
type = playsnd
trigger1 = animelem = 10
value = S0,11

[state 0]
type = velset
trigger1 = movecontact = 1
x = -6
y = -4

[State 0]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;---------------------------------------------------------------------------
[StateDef 6090]
type = S
movetype= A
physics = S
ctrl = 0
poweradd = 75

[state 0]
type = changeanim
triggerall = var(7) = 2
trigger1 = time = 0
value = 6090

[State 0]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
damage = 20,10
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
sparkno = -1
guard.sparkno = -1
hitsound = S0, 13
guardsound = S0, 17
ground.type = High
ground.slidetime = 0
ground.hittime  = 20
ground.velocity = -2
airguard.velocity = -2
air.type = High
air.velocity = -2
air.hittime = 20

[State 0]
type = Explod
trigger1 = movehit = 1
anim = 5998
pos = 45,-55
postype = p1  ;p2,front,back,left,right
removetime = -2
ontop = 1
scale = 1,1
ownpal = 1

[State 0]
type = Explod
trigger1 = movehit = 0
trigger1 = movecontact = 1
anim = 5999
pos = 45,-55
postype = p1  ;p2,front,back,left,right
removetime = -2
ontop = 1
scale = 1,1
ownpal = 1

[state 0]
type = playsnd
trigger1 = animelem = 2
value = S0,11

[State 0]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 0]
type = ChangeState
triggerall = var(10) = 1
trigger1 = movecontact && Time = 12
value = 6091
ctrl = 0
;---------------------------------------------------------------------------
[StateDef 6091]
type = S
movetype= A
physics = S
ctrl = 0
poweradd = 75

[state 0]
type = changeanim
triggerall = var(7) = 2
trigger1 = time = 0
value = 6091

[State 0]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
damage = 10,5
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
sparkno = -1
guard.sparkno = -1
hitsound = S0, 13
guardsound = S0, 17
ground.type = High
ground.slidetime = 0
ground.hittime  = 25
ground.velocity = -2
airguard.velocity = -2
air.type = High
air.velocity = -2
air.hittime = 25

[State 0]
type = Explod
trigger1 = movehit = 1
anim = 5998
pos = 40,-55
postype = p1  ;p2,front,back,left,right
removetime = -2
ontop = 1
scale = 1,1
ownpal = 1

[State 0]
type = Explod
trigger1 = movehit = 0
trigger1 = movecontact = 1
anim = 5999
pos = 40,-55
postype = p1  ;p2,front,back,left,right
removetime = -2
ontop = 1
scale = 1,1
ownpal = 1

[state 0]
type = playsnd
trigger1 = animelem = 2
value = S0,11

[State 0]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 0]
type = ChangeState
triggerall = var(10) = 1
trigger1 = movecontact && Time = 12
value = 6092
ctrl = 0
;---------------------------------------------------------------------------
[StateDef 6092]
type = S
movetype= A
physics = S
ctrl = 0
poweradd = 75

[state 0]
type = changeanim
triggerall = var(7) = 2
trigger1 = time = 0
value = 6092

[state 0]
type = posadd
trigger1 = animelem = 5
x = (p2dist x) +20

[state 0]
type = turn
trigger1 = animelem = 6

[State 0]
type = HitDef
trigger1 = AnimElem = 10
attr = S, NA
damage = 10,5
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
sparkno = -1
guard.sparkno = -1
hitsound = S0, 14
guardsound = S0, 17
ground.type = High
ground.slidetime = 0
ground.hittime  = 25
ground.velocity = -2
airguard.velocity = -2
air.type = High
air.velocity = -2
air.hittime = 25

[State 0]
type = Explod
trigger1 = movehit = 1
anim = 5998
pos = 42,-61
postype = p1  ;p2,front,back,left,right
removetime = -2
ontop = 1
scale = 1,1
ownpal = 1

[State 0]
type = Explod
trigger1 = movehit = 0
trigger1 = movecontact = 1
anim = 5999
pos = 42,-61
postype = p1  ;p2,front,back,left,right
removetime = -2
ontop = 1
scale = 1,1
ownpal = 1

[state 0]
type = playsnd
trigger1 = time = 0
value = S0,31

[state 0]
type = playsnd
trigger1 = animelem = 5
value = S0,32

[state 0]
type = playsnd
trigger1 = animelem = 10
value = S0,12

[State 0]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 0]
type = ChangeState
triggerall = var(10) = 1
trigger1 = movecontact && Time = 18
value = 6093
ctrl = 0
;---------------------------------------------------------------------------
[StateDef 6093]
type = S
movetype= A
physics = S
ctrl = 0
poweradd = 75

[state 0]
type = changeanim
triggerall = var(7) = 2
trigger1 = time = 0
value = 6093

[state 0]
type = posadd
trigger1 = animelem = 5
x = (p2dist x) +20

[state 0]
type = turn
trigger1 = animelem = 6

[State 0]
type = HitDef
trigger1 = AnimElem = 10
attr = S, NA
damage = 20,10
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
sparkno = -1
guard.sparkno = -1
hitsound = S0, 15
guardsound = S0, 17
ground.type = High
ground.slidetime = 0
ground.hittime  = 25
ground.velocity = -10
airguard.velocity = -10
air.type = High
air.velocity = -10
air.hittime = 25
fall = 1

[state 0]
type = envshake
trigger1 = movecontact = 1
ampl = 2
time = 5

[State 0]
type = Explod
trigger1 = movehit = 1
anim = 5995
pos = 42,-61
postype = p1  ;p2,front,back,left,right
removetime = -2
ontop = 1
scale = 1,1
ownpal = 1

[State 0]
type = Explod
trigger1 = movehit = 0
trigger1 = movecontact = 1
anim = 5999
pos = 42,-61
postype = p1  ;p2,front,back,left,right
removetime = -2
ontop = 1
scale = 1,1
ownpal = 1

[state 0]
type = playsnd
trigger1 = time = 0
value = S0,31

[state 0]
type = playsnd
trigger1 = animelem = 5
value = S0,32

[state 0]
type = playsnd
trigger1 = animelem = 11
value = S0,11

[State 0]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
[StateDef 6095]
type = S
movetype= A
physics = S
ctrl = 0
poweradd = 75

[state 0]
type = changeanim
triggerall = var(7) = 2
trigger1 = time = 0
value = 6095

[State 0]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
damage = 20,10
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
sparkno = -1
guard.sparkno = -1
hitsound = S0, 14
guardsound = S0, 17
ground.type = High
ground.slidetime = 0
ground.hittime  = 25
ground.velocity = -2
airguard.velocity = -2
air.type = High
air.velocity = -2
air.hittime = 25

[State 0]
type = Explod
trigger1 = movehit = 1
anim = 5998
pos = 42,-61
postype = p1  ;p2,front,back,left,right
removetime = -2
ontop = 1
scale = 1,1
ownpal = 1

[State 0]
type = Explod
trigger1 = movehit = 0
trigger1 = movecontact = 1
anim = 5999
pos = 42,-61
postype = p1  ;p2,front,back,left,right
removetime = -2
ontop = 1
scale = 1,1
ownpal = 1

[state 0]
type = playsnd
trigger1 = animelem = 2
value = S0,11

[State 0]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 0]
type = ChangeState
triggerall = var(10) = 1
trigger1 = movecontact && Time = 12
value = 6096
ctrl = 0
;---------------------------------------------------------------------------
[StateDef 6096]
type = S
movetype= A
physics = S
ctrl = 0
poweradd = 75

[state 0]
type = changeanim
triggerall = var(7) = 2
trigger1 = time = 0
value = 6096

[state 0]
type = posadd
trigger1 = animelem = 5
x = (p2dist x) +20

[state 0]
type = turn
trigger1 = animelem = 6

[State 0]
type = HitDef
trigger1 = AnimElem = 10
attr = S, NA
damage = 10,5
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
sparkno = -1
guard.sparkno = -1
hitsound = S0, 13
guardsound = S0, 17
ground.type = High
ground.slidetime = 0
ground.hittime  = 25
ground.velocity = -2
airguard.velocity = -2
air.type = High
air.velocity = -2
air.hittime = 25

[State 0]
type = Explod
trigger1 = movehit = 1
anim = 5998
pos = 40,-55
postype = p1  ;p2,front,back,left,right
removetime = -2
ontop = 1
scale = 1,1
ownpal = 1

[State 0]
type = Explod
trigger1 = movehit = 0
trigger1 = movecontact = 1
anim = 5999
pos = 40,-55
postype = p1  ;p2,front,back,left,right
removetime = -2
ontop = 1
scale = 1,1
ownpal = 1

[state 0]
type = playsnd
trigger1 = time = 0
value = S0,31

[state 0]
type = playsnd
trigger1 = animelem = 5
value = S0,32

[state 0]
type = playsnd
trigger1 = animelem = 10
value = S0,12

[State 0]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 0]
type = ChangeState
triggerall = var(10) = 1
trigger1 = movecontact && Time = 18
value = 6097
ctrl = 0
;---------------------------------------------------------------------------
[StateDef 6097]
type = S
movetype= A
physics = S
ctrl = 0
poweradd = 75

[state 0]
type = changeanim
triggerall = var(7) = 2
trigger1 = time = 0
value = 6097

[State 0]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
damage = 10,5
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
sparkno = -1
guard.sparkno = -1
hitsound = S0, 16
guardsound = S0, 17
ground.type = High
ground.slidetime = 20
ground.hittime  = 30
ground.velocity = -15
airguard.velocity = -15
air.type = High
air.velocity = -15
air.hittime = 30

[state 0]
type = envshake
trigger1 = movecontact = 1
ampl = 2
time = 5

[State 0]
type = Explod
trigger1 = movehit = 1
anim = 5995
pos = 42,-40
postype = p1  ;p2,front,back,left,right
removetime = -2
ontop = 1
scale = 1,1
ownpal = 1

[State 0]
type = Explod
trigger1 = movehit = 0
trigger1 = movecontact = 1
anim = 5999
pos = 42,-40
postype = p1  ;p2,front,back,left,right
removetime = -2
ontop = 1
scale = 1,1
ownpal = 1

[state 0]
type = playsnd
trigger1 = animelem = 2
value = S0,11

[State 0]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 0]
type = ChangeState
triggerall = var(10) = 1
trigger1 = movecontact && Time = 12
value = 6098
ctrl = 0
;---------------------------------------------------------------------------
[StateDef 6098]
type = S
movetype= A
physics = S
ctrl = 0
velset = 0,0
sprpriority = 0
poweradd = 75

[state 0]
type = changeanim
triggerall = var(7) = 2
trigger1 = time = 0
value = 6098

[state 0]
type = playsnd
trigger1 = animelem = 2
value = S0,22

[State 0]
type = Helper
trigger1 = animelem = 2
helpertype = normal ;player
name = "Ki Ball"
ID = 6017
stateno = 6017
pos = 30,-55
postype = p1    ;p2,front,back,left,right
facing = 1
ownpal = 1

[State 0]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
 ;---------------------------------------------------------------------------
[StateDef 6100]
type = S
movetype= A
physics = S
ctrl = 0
velset = 0,0
sprpriority = 0
poweradd = -2000

[State 0]
type = SuperPause
trigger1 = time = 0
time = 95
anim = -1
movetime = 95
darken = 0

[state 0]
type = changeanim
triggerall = var(7) = 2
trigger1 = time = 0
value = 6100

[state 0]
type = velset
triggerall = time > 105
trigger1 = 1
x = 15

[State 0]
type = Explod
triggerall = time > 105
trigger1 = timemod = 4,0
anim = 6008
pos = 0,10
postype = p1  ;p2,front,back,left,right
removetime = -2
ontop = 1
scale = 0.75,0.75
ownpal = 1
supermove = 1

[state 0]
type = assertspecial
trigger1 = 1
flag = unguardable

[State 0]
type = HitDef
trigger1 = AnimElem = 6
attr = S, NA
damage = 0,0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
sparkno = -1
guard.sparkno = -1
ground.type = High
ground.slidetime = 20
ground.hittime  = 30
ground.velocity = 0
airguard.velocity = 0
air.type = High
air.velocity = 0
air.hittime = 30
p2stateno = 6101

[state 0]
type = playsnd
trigger1 = animelem = 6
value = S0,10

[state 0]
type = playsnd
trigger1 = animelem = 2
value = S0,45

[State 0]
type = ChangeState
trigger1 = Movehit = 1
value = 6102
ctrl = 0

[State 0]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
[StateDef 6101]
type = S
physics = S
ctrl = 0
velset = 0,0
sprpriority = 0

[state 0]
type = changeanim
triggerall = var(7) = 0
trigger1 = time = 0
value = 5000

[state 0]
type = changeanim
triggerall = var(7) = 1
trigger1 = time = 0
value = 15000

[state 0]
type = changeanim
triggerall = var(7) = 2
trigger1 = time = 0
value = 25000

[state 0]
type = changeanim
triggerall = var(7) = 3
trigger1 = time = 0
value = 35000

[state 0]
type = turn
triggerall = (p2dist x) < 0
trigger1 = time = 0

[state 0]
type = posadd
trigger1 = time = 1
x = (p2dist x) -20
y = (p2dist y) -0

[State 0]
type = SelfState
trigger1 = Time = 100
value = 0
ctrl = 1
;---------------------------------------------------------------------------
[StateDef 6102]
type = S
movetype= A
physics = S
ctrl = 0
velset = 0,0
sprpriority = 0

[State 0]
type = SuperPause
trigger1 = animelem = 60
time = 70
anim = -1
movetime = 70
darken = 0

[state 0]
type = playerpush
triggerall = time > 110
trigger1 = 1
value = 0

[state 0]
type = changeanim
triggerall = var(7) = 2
trigger1 = time = 0
value = 6102

[state 0]
type = velset
triggerall = time < 95
trigger1 = timemod = 2,0
x = 1

[state 0]
type = posadd
trigger1 = animelem = 26
trigger2 = animelem = 36
trigger3 = animelem = 46
x = (p2dist x) +40
y = (p2dist y) -0

[state 0]
type = posadd
trigger1 = animelem = 56
x = (p2dist x) +20
y = (p2dist y) -75

[state 0]
type = turn
trigger1 = animelem = 27
trigger2 = animelem = 37
trigger3 = animelem = 47
trigger4 = animelem = 57

[State 0]
type = HitDef
trigger1 = AnimElem = 2
trigger2 = animelem = 6
trigger3 = animelem = 12
trigger4 = animelem = 14
trigger5 = animelem = 18
attr = S, NA
damage = 10,5
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
sparkno = -1
guard.sparkno = -1
hitsound = S0, 13
guardsound = S0, 17
ground.type = High
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -1
airguard.velocity = -1
air.type = High
air.velocity = -1
air.hittime = 20
kill = 0

[State 0]
type = HitDef
trigger1 = AnimElem = 4
trigger2 = animelem = 8
trigger3 = animelem = 10
trigger4 = animelem = 16
attr = S, NA
damage = 10,5
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
sparkno = -1
guard.sparkno = -1
hitsound = S0, 14
guardsound = S0, 17
ground.type = High
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -1
airguard.velocity = -1
air.type = High
air.velocity = -1
air.hittime = 20
kill = 0

[State 0]
type = HitDef
trigger1 = AnimElem = 21
attr = S, NA
damage = 0,0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
sparkno = -1
guard.sparkno = -1
hitsound = S0, 15
guardsound = S0, 17
ground.type = High
ground.slidetime = 20
ground.hittime  = 50
ground.velocity = -10
airguard.velocity = -10
air.type = High
air.velocity = -10
air.hittime = 50
kill = 0

[State 0]
type = HitDef
trigger1 = AnimElem = 31
trigger2 = AnimElem = 41
trigger3 = animelem = 51
attr = S, NA
damage = 20,10
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
sparkno = -1
guard.sparkno = -1
hitsound = S0, 16
guardsound = S0, 17
ground.type = High
ground.slidetime = 20
ground.hittime  = 50
ground.velocity = -2,-7
airguard.velocity = -2,-7
air.type = High
air.velocity = -2,-7
air.hittime = 50
fall = 1
kill = 0

[state 0]
type = envshake
trigger1 = movecontact = 1
ampl = 4
time = 5

[State 0]
type = Explod
triggerall = time >= 95
trigger1 = movecontact = 1
anim = 5995
pos = 40,-45
postype = p1  ;p2,front,back,left,right
removetime = -2
ontop = 1
scale = 1,1
ownpal = 1

[State 0]
type = Explod
triggerall = time < 95
trigger1 = movecontact = 1
anim = 5998
pos = 40,-50
postype = p1  ;p2,front,back,left,right
removetime = -2
ontop = 1
scale = 1,1
ownpal = 1

[state 0]
type = playsnd
trigger1 = animelem = 22
trigger2 = animelem = 32
trigger3 = animelem = 42
trigger4 = animelem = 52
value = S0,31

[state 0]
type = playsnd
trigger1 = animelem = 26
trigger2 = animelem = 36
trigger3 = animelem = 46
trigger4 = animelem = 56
value = S0,32

[state 0]
type = playsnd
trigger1 = animelem = 60
value = S0,46

[state 0]
type = playsnd
trigger1 = animelem = 60
value = S0,21

[state 0]
type = playsnd
trigger1 = animelem = 61
value = S0,28

[state 0]
type = playsnd
trigger1 = animelem = 61
value = S0,25

[State 0]
type = Helper
trigger1 = animelem = 60
helpertype = normal ;player
name = "Effect"
ID = 6103
stateno = 6103
pos = 0,0
postype = p1
ownpal = 1
supermovetime = 70

[State 0]
type = Helper
trigger1 = animelem = 61
helpertype = normal ;player
name = "Kamehameha"
ID = 6104
stateno = 6104
pos = 0,0
postype = p1
ownpal = 1

[State 0]
type = Helper
trigger1 = animelem = 61
helpertype = normal ;player
name = "Effect"
ID = 6105
stateno = 6105
pos = 0,0
postype = p1
ownpal = 1

[State 0]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;---------------------------------------------------------------------------
[StateDef 6103]
type = S
movetype = A
physics = S
ctrl = 0
anim = 6021
sprpriority = 5
juggle = 1

[State 0]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256,256

[State 0]
type = AngleDraw
trigger1 = 1
scale = 0.5,0.5

[State 0, AngleAdd]
type = AngleAdd
trigger1 = 1
value = -5

[state 0]
type = bindtoroot
trigger1 = 1
pos = 8,-32

[state 0]
type = destroyself
trigger1 = time = 70
trigger2 = parent,stateno != 6102
;---------------------------------------------------------------------------
[StateDef 6104]
type = S
movetype= A
physics = S
anim = 6104
sprpriority = 5
juggle = 1

[State 0]
type = AngleDraw
trigger1 = 1
scale = 1,1.5

[State 0]
type = Angleset
trigger1 = 1
value = -90

[State 0]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256,256

[state 0]
type = bindtoroot
trigger1 = 1
pos = 10,-5

[state 0]
type = assertspecial
trigger1 = 1
flag = noshadow

[State 0]
type = HitDef
triggerall = time < 49
trigger1 = 1
attr = S, NA
damage = 2,1
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
sparkno = -1
guard.sparkno = -1
ground.type = High
ground.slidetime = 5
ground.hittime  = 5
ground.velocity = 0,2
airguard.velocity = 1,2
air.type = High
air.velocity = 0,2
air.hittime = 5

[State 0]
type = HitDef
trigger1 = time = 49
attr = S, NA
damage = 2,1
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
sparkno = -1
guard.sparkno = -1
ground.type = High
ground.slidetime = 5
ground.hittime  = 5
ground.velocity = 0,20
airguard.velocity = 0,20
air.type = High
air.velocity = 0,20
air.hittime = 5
fall = 1

[State 6014]
type = Destroyself
trigger1 = AnimTime = 0
trigger2 = parent,stateno != 6102
;---------------------------------------------------------------------------
[StateDef 6105]
type = S
movetype = A
physics = S
ctrl = 0
anim = 6024
sprpriority = 5
juggle = 1

[State 0]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256,256

[State 0]
type = AngleDraw
trigger1 = 1
scale = 1,1

[State 0, AngleAdd]
type = Angleset
trigger1 = 1
value = -90

[state 0]
type = bindtoroot
trigger1 = 1
pos = 15,-20

[state 0]
type = destroyself
trigger1 = time = 46
trigger2 = parent,stateno != 6102
;---------------------------------------------------------------------------
[StateDef 6110]
type = S
movetype= A
physics = S
ctrl = 0
poweradd = 100

[state 0]
type = changeanim
triggerall = var(7) = 2
trigger1 = time = 0
value = 6110

[State 0]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
damage = 20,10
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
sparkno = -1
guard.sparkno = -1
hitsound = S0, 14
guardsound = S0, 17
ground.type = High
ground.slidetime = 0
ground.hittime  = 25
ground.velocity = -2
airguard.velocity = -2
air.type = High
air.velocity = -2
air.hittime = 25

[State 0]
type = Explod
trigger1 = movehit = 1
anim = 5998
pos = 42,-40
postype = p1  ;p2,front,back,left,right
removetime = -2
ontop = 1
scale = 1,1
ownpal = 1

[State 0]
type = Explod
trigger1 = movehit = 0
trigger1 = movecontact = 1
anim = 5999
pos = 42,-40
postype = p1  ;p2,front,back,left,right
removetime = -2
ontop = 1
scale = 1,1
ownpal = 1

[state 0]
type = playsnd
trigger1 = animelem = 2
value = S0,11

[State 0]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 0]
type = ChangeState
triggerall = var(10) = 1
trigger1 = movecontact && Time = 12
value = 6111
ctrl = 0
;---------------------------------------------------------------------------
[StateDef 6111]
type = S
movetype= A
physics = S
ctrl = 0
poweradd = 100

[state 0]
type = changeanim
triggerall = var(7) = 2
trigger1 = time = 0
value = 6111

[state 0]
type = posadd
trigger1 = animelem = 5
x = (p2dist x) +20

[state 0]
type = turn
trigger1 = animelem = 6

[State 0]
type = HitDef
trigger1 = AnimElem = 10
attr = S, NA
damage = 20,10
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
sparkno = -1
guard.sparkno = -1
hitsound = S0, 13
guardsound = S0, 17
ground.type = High
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -2
airguard.velocity = -2
air.type = High
air.velocity = -2
air.hittime = 20

[State 0]
type = Explod
trigger1 = movehit = 1
anim = 5998
pos = 50,-50
postype = p1  ;p2,front,back,left,right
removetime = -2
ontop = 1
scale = 1,1
ownpal = 1

[State 0]
type = Explod
trigger1 = movehit = 0
trigger1 = movecontact = 1
anim = 5999
pos = 50,-50
postype = p1  ;p2,front,back,left,right
removetime = -2
ontop = 1
scale = 1,1
ownpal = 1

[state 0]
type = playsnd
trigger1 = time = 0
value = S0,31

[state 0]
type = playsnd
trigger1 = animelem = 5
value = S0,32

[state 0]
type = playsnd
trigger1 = animelem = 10
value = S0,11

[State 0]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 0]
type = ChangeState
triggerall = var(10) = 1
trigger1 = movecontact && Time = 18
value = 6112
ctrl = 0
;---------------------------------------------------------------------------
[StateDef 6112]
type = S
movetype= A
physics = S
ctrl = 0
poweradd = 100

[state 0]
type = changeanim
triggerall = var(7) = 2
trigger1 = time = 0
value = 6112

[State 0]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
damage = 20,10
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
sparkno = -1
guard.sparkno = -1
hitsound = S0, 16
guardsound = S0, 17
ground.type = High
ground.slidetime = 0
ground.hittime  = 20
ground.velocity = -2,-10
airguard.velocity = -2,-10
air.type = High
air.velocity = -2,-10
air.hittime = 20
fall = 1

[State 0]
type = Explod
trigger1 = movehit = 1
anim = 5995
pos = 40,-80
postype = p1  ;p2,front,back,left,right
removetime = -2
ontop = 1
scale = 1,1
ownpal = 1

[State 0]
type = Explod
trigger1 = movehit = 0
trigger1 = movecontact = 1
anim = 5999
pos = 40,-80
postype = p1  ;p2,front,back,left,right
removetime = -2
ontop = 1
scale = 1,1
ownpal = 1

[state 0]
type = playsnd
trigger1 = animelem = 2
value = S0,11

[State 0]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
[StateDef 6120]
type = S
movetype= A
physics = S
ctrl = 0
poweradd = 100

[state 0]
type = changeanim
triggerall = var(7) = 3
trigger1 = time = 0
value = 6120

[State 0]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
damage = 20,10
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
sparkno = -1
guard.sparkno = -1
hitsound = S0, 13
guardsound = S0, 17
ground.type = High
ground.slidetime = 0
ground.hittime  = 20
ground.velocity = -2
airguard.velocity = -2
air.type = High
air.velocity = -2
air.hittime = 20

[State 0]
type = Explod
trigger1 = movehit = 1
anim = 5998
pos = 40,-55
postype = p1  ;p2,front,back,left,right
removetime = -2
ontop = 1
scale = 1,1
ownpal = 1

[State 0]
type = Explod
trigger1 = movehit = 0
trigger1 = movecontact = 1
anim = 5999
pos = 40,-55
postype = p1  ;p2,front,back,left,right
removetime = -2
ontop = 1
scale = 1,1
ownpal = 1

[state 0]
type = playsnd
trigger1 = animelem = 2
value = S0,11

[State 0]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 0]
type = ChangeState
triggerall = var(10) = 1
trigger1 = movecontact && Time = 12
value = 6121
ctrl = 0
;---------------------------------------------------------------------------
[StateDef 6121]
type = S
movetype= A
physics = S
ctrl = 0
poweradd = 100

[state 0]
type = changeanim
triggerall = var(7) = 3
trigger1 = time = 0
value = 6121

[State 0]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
damage = 20,10
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
sparkno = -1
guard.sparkno = -1
hitsound = S0, 16
guardsound = S0, 17
ground.type = High
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -15
airguard.velocity = -15
air.type = High
air.velocity = -15
air.hittime = 20

[state 0]
type = envshake
trigger1 = movecontact = 1
ampl = 2
time = 5

[State 0]
type = Explod
trigger1 = movehit = 1
anim = 5995
pos = 42,-40
postype = p1  ;p2,front,back,left,right
removetime = -2
ontop = 1
scale = 1,1
ownpal = 1

[State 0]
type = Explod
trigger1 = movehit = 0
trigger1 = movecontact = 1
anim = 5999
pos = 42,-40
postype = p1  ;p2,front,back,left,right
removetime = -2
ontop = 1
scale = 1,1
ownpal = 1

[state 0]
type = playsnd
trigger1 = animelem = 2
value = S0,11

[State 0]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 0]
type = ChangeState
triggerall = var(10) = 1
trigger1 = movecontact && Time = 12
value = 6122
ctrl = 0
;---------------------------------------------------------------------------
[StateDef 6122]
type = A
movetype= A
physics = S
ctrl = 0
velset = 0,0
sprpriority = 0
poweradd = 100

[state 0]
type = changeanim
triggerall = var(7) = 3
trigger1 = time = 0
value = 6122

[State 0]
type = Helper
trigger1 = animelem = 2
helpertype = normal ;player
name = "Kamehameha"
ID = 6123
stateno = 6123
pos = 20,-40
postype = p1
ownpal = 1

[State 0]
type = Explod
trigger1 = animelem = 2
anim = 6024
pos = 20,-48
postype = p1  ;p2,front,back,left,right
removetime = 16
ontop = 1
scale = 0.75,0.5
ownpal = 1

[state 0]
type = envshake
triggerall = time > 4
trigger1 = timemod = 5,0
ampl = 2
time = 5

[state 0]
type = playsnd
trigger1 = animelem = 2
value = S0,40

[State 0]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;---------------------------------------------------------------------------
[StateDef 6123]
type = S
movetype= A
physics = S
anim = 6123
sprpriority = 5
juggle = 1

[State 0]
type = AngleDraw
trigger1 = 1
scale = 1,0.75

[State 0]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256,256

[state 0]
type = bindtoroot
trigger1 = 1
pos = 15,-48

[state 0]
type = assertspecial
trigger1 = 1
flag = noshadow

[State 0]
type = HitDef
triggerall = time < 18
trigger1 = timemod = 2,0
attr = S, NA
damage = 2,1
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
sparkno = -1
guard.sparkno = -1
ground.type = High
ground.slidetime = 5
ground.hittime  = 5
ground.velocity = -2
airguard.velocity = -2
air.type = High
air.velocity = -2
air.hittime = 5

[State 0]
type = HitDef
trigger1 = time = 18
attr = S, NA
damage = 2,1
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
sparkno = -1
guard.sparkno = -1
ground.type = High
ground.slidetime = 5
ground.hittime  = 5
ground.velocity = -5
airguard.velocity = -5
air.type = High
air.velocity = -5
air.hittime = 5
fall = 1

[State 6014]
type = Destroyself
trigger1 = AnimTime = 0
trigger2 = parent,stateno != 6122
;---------------------------------------------------------------------------
[StateDef 6125]
type = S
movetype= A
physics = S
ctrl = 0
poweradd = 75

[state 0]
type = changeanim
triggerall = var(7) = 3
trigger1 = time = 0
value = 6125

[State 0]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
damage = 20,10
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
sparkno = -1
guard.sparkno = -1
hitsound = S0, 13
guardsound = S0, 17
ground.type = High
ground.slidetime = 0
ground.hittime  = 20
ground.velocity = -2
airguard.velocity = -2
air.type = High
air.velocity = -2
air.hittime = 20

[State 0]
type = Explod
trigger1 = movehit = 1
anim = 5998
pos = 45,-55
postype = p1  ;p2,front,back,left,right
removetime = -2
ontop = 1
scale = 1,1
ownpal = 1

[State 0]
type = Explod
trigger1 = movehit = 0
trigger1 = movecontact = 1
anim = 5999
pos = 45,-55
postype = p1  ;p2,front,back,left,right
removetime = -2
ontop = 1
scale = 1,1
ownpal = 1

[state 0]
type = playsnd
trigger1 = animelem = 2
value = S0,11

[State 0]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 0]
type = ChangeState
triggerall = var(10) = 1
trigger1 = movecontact && Time = 12
value = 6126
ctrl = 0
;---------------------------------------------------------------------------
[StateDef 6126]
type = S
movetype= A
physics = S
ctrl = 0
poweradd = 75

[state 0]
type = changeanim
triggerall = var(7) = 3
trigger1 = time = 0
value = 6126

[State 0]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
damage = 10,5
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
sparkno = -1
guard.sparkno = -1
hitsound = S0, 16
guardsound = S0, 17
ground.type = High
ground.slidetime = 0
ground.hittime  = 20
ground.velocity = -2,-10
airguard.velocity = -2,-10
air.type = High
air.velocity = -2,-10
air.hittime = 20
fall = 1

[State 0]
type = Explod
trigger1 = movehit = 1
anim = 5995
pos = 45,-55
postype = p1  ;p2,front,back,left,right
removetime = -2
ontop = 1
scale = 1,1
ownpal = 1

[State 0]
type = Explod
trigger1 = movehit = 0
trigger1 = movecontact = 1
anim = 5999
pos = 45,-55
postype = p1  ;p2,front,back,left,right
removetime = -2
ontop = 1
scale = 1,1
ownpal = 1

[state 0]
type = playsnd
trigger1 = animelem = 2
value = S0,11

[State 0]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 0]
type = ChangeState
triggerall = var(10) = 1
trigger1 = movecontact && Time = 12
value = 6127
ctrl = 0
;---------------------------------------------------------------------------
[StateDef 6127]
type = A
movetype= A
physics = S
ctrl = 0
poweradd = 75

[state 0]
type = changeanim
triggerall = var(7) = 3
trigger1 = time = 0
value = 6127

[state 0]
type = posadd
trigger1 = animelem = 5
x = (p2dist x) +20
y = (p2dist y) -50

[state 0]
type = turn
trigger1 = animelem = 6

[state 0]
type = velset
trigger1 = animelem = 10
x = 1
y = 1

[State 0]
type = HitDef
trigger1 = AnimElem = 10
attr = S, NA
damage = 10,5
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
sparkno = -1
guard.sparkno = -1
hitsound = S0, 15
guardsound = S0, 17
ground.type = High
ground.slidetime = 20
ground.hittime  = 40
ground.velocity = -1,10
airguard.velocity = -1,10
air.type = High
air.velocity = -1,10
air.hittime = 40
fall = 1

[state 0]
type = envshake
trigger1 = movecontact = 1
ampl = 2
time = 5

[State 0]
type = Explod
trigger1 = movehit = 1
anim = 5995
pos = 20,-25
postype = p1  ;p2,front,back,left,right
removetime = -2
ontop = 1
scale = 1,1
ownpal = 1

[State 0]
type = Explod
trigger1 = movehit = 0
trigger1 = movecontact = 1
anim = 5999
pos = 20,-25
postype = p1  ;p2,front,back,left,right
removetime = -2
ontop = 1
scale = 1,1
ownpal = 1

[state 0]
type = playsnd
trigger1 = time = 0
value = S0,31

[state 0]
type = playsnd
trigger1 = animelem = 5
value = S0,32

[state 0]
type = playsnd
trigger1 = animelem = 10
value = S0,11

[state 0]
type = velset
trigger1 = movecontact = 1
x = -6
y = -4

[State 0]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1

[State 0]
type = ChangeState
triggerall = var(10) = 1
trigger1 = movecontact && Time = 18
value = 6128
ctrl = 0
;---------------------------------------------------------------------------
[StateDef 6128]
type = C
movetype= A
physics = S
ctrl = 0
velset = 0,0
poweradd = 75

[state 0]
type = changeanim
triggerall = var(7) = 3
trigger1 = time = 0
value = 6128

[state 0]
type = posadd
trigger1 = animelem = 5
x = (p2dist x) -0

[state 0]
type = posset
trigger1 = animelem = 5
y = 0

[state 0]
type = playerpush
trigger1 = 1
value = 0

[state 0]
type = envshake
trigger1 = animelem = 10
ampl = 2
time = 20

[State 0]
type = Helper
trigger1 = animelem = 10
helpertype = normal ;player
name = "Kamehameha"
ID = 6129
stateno = 6129
pos = 20,-40
postype = p1
ownpal = 1

[State 0]
type = Helper
trigger1 = animelem = 10
helpertype = normal ;player
name = "Effect"
ID = 6130
stateno = 6130
pos = 20,-40
postype = p1
ownpal = 1

[state 0]
type = playsnd
trigger1 = time = 0
value = S0,31

[state 0]
type = playsnd
trigger1 = animelem = 5
value = S0,32

[state 0]
type = playsnd
trigger1 = animelem = 10
value = S0,40

[State 0]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
[StateDef 6129]
type = S
movetype= A
physics = S
anim = 6129
sprpriority = 5
juggle = 1

[State 0]
type = AngleDraw
trigger1 = 1
scale = 1,0.75

[state 0]
type = angleset
trigger1 = 1
value = -90

[State 0]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256,256

[state 0]
type = bindtoroot
trigger1 = 1
pos = 20,-20

[state 0]
type = assertspecial
trigger1 = 1
flag = noshadow

[State 0]
type = HitDef
triggerall = time < 18
trigger1 = timemod = 2,0
attr = S, NA
damage = 2,1
animtype = Light
guardflag = MA
hitflag = MAFD
priority = 3, Hit
sparkno = -1
guard.sparkno = -1
ground.type = High
ground.slidetime = 5
ground.hittime  = 5
ground.velocity = 0
airguard.velocity = 0
air.type = High
air.velocity = 0
air.hittime = 5
p2stateno = 6131

[State 0]
type = HitDef
trigger1 = time = 18
attr = S, NA
damage = 2,1
animtype = Light
guardflag = MA
hitflag = MAFD
priority = 3, Hit
sparkno = -1
guard.sparkno = -1
ground.type = High
ground.slidetime = 5
ground.hittime  = 5
ground.velocity = -5
airguard.velocity = -5
air.type = High
air.velocity = -5
air.hittime = 5
fall = 1

[State 6014]
type = Destroyself
trigger1 = AnimTime = 0
trigger2 = parent,stateno != 6128
;---------------------------------------------------------------------------
[StateDef 6130]
type = S
movetype = A
physics = S
ctrl = 0
anim = 6024
sprpriority = 5
juggle = 1

[State 0]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256,256

[State 0]
type = AngleDraw
trigger1 = 1
scale = 0.75,0.75

[State 0, AngleAdd]
type = Angleset
trigger1 = 1
value = -90

[state 0]
type = bindtoroot
trigger1 = 1
pos = 20,-10

[state 0]
type = destroyself
trigger1 = time = 16
trigger2 = parent,stateno != 6128
;---------------------------------------------------------------------------
[StateDef 6131]
type = S
movetype = H
physics = S
ctrl = 0
velset = 0,0
sprpriority = 0

[state 0]
type = changeanim
triggerall = var(7) = 0
trigger1 = time = 0
value = 5090

[state 0]
type = changeanim
triggerall = var(7) = 1
trigger1 = time = 0
value = 15090

[state 0]
type = changeanim
triggerall = var(7) = 2
trigger1 = time = 0
value = 25090

[state 0]
type = changeanim
triggerall = var(7) = 3
trigger1 = time = 0
value = 35090

[state 0]
type = posset
trigger1 = time = 0
y = (p2dist y) +20

[State 0]
type = SelfState
trigger1 = Time = 10
value = 0
ctrl = 1
;---------------------------------------------------------------------------
[StateDef 6135]
type = S
movetype= A
physics = S
ctrl = 0
poweradd = 75

[state 0]
type = changeanim
triggerall = var(7) = 3
trigger1 = time = 0
value = 6135

[State 0]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
damage = 20,10
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
sparkno = -1
guard.sparkno = -1
hitsound = S0, 14
guardsound = S0, 17
ground.type = High
ground.slidetime = 0
ground.hittime  = 25
ground.velocity = -2
airguard.velocity = -2
air.type = High
air.velocity = -2
air.hittime = 25

[State 0]
type = Explod
trigger1 = movehit = 1
anim = 5998
pos = 42,-61
postype = p1  ;p2,front,back,left,right
removetime = -2
ontop = 1
scale = 1,1
ownpal = 1

[State 0]
type = Explod
trigger1 = movehit = 0
trigger1 = movecontact = 1
anim = 5999
pos = 42,-61
postype = p1  ;p2,front,back,left,right
removetime = -2
ontop = 1
scale = 1,1
ownpal = 1

[state 0]
type = playsnd
trigger1 = animelem = 2
value = S0,11

[State 0]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 0]
type = ChangeState
triggerall = var(10) = 1
trigger1 = movecontact && Time = 12
value = 6136
ctrl = 0
;---------------------------------------------------------------------------
[StateDef 6136]
type = S
movetype= A
physics = S
ctrl = 0
poweradd = 75

[state 0]
type = changeanim
triggerall = var(7) = 3
trigger1 = time = 0
value = 6136

[State 0]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
damage = 10,5
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
sparkno = -1
guard.sparkno = -1
hitsound = S0, 13
guardsound = S0, 17
ground.type = High
ground.slidetime = 0
ground.hittime  = 20
ground.velocity = -2
airguard.velocity = -2
air.type = High
air.velocity = -2
air.hittime = 20

[State 0]
type = Explod
trigger1 = movehit = 1
anim = 5998
pos = 40,-55
postype = p1  ;p2,front,back,left,right
removetime = -2
ontop = 1
scale = 1,1
ownpal = 1

[State 0]
type = Explod
trigger1 = movehit = 0
trigger1 = movecontact = 1
anim = 5999
pos = 40,-55
postype = p1  ;p2,front,back,left,right
removetime = -2
ontop = 1
scale = 1,1
ownpal = 1

[state 0]
type = playsnd
trigger1 = animelem = 2
value = S0,11

[State 0]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 0]
type = ChangeState
triggerall = var(10) = 1
trigger1 = movecontact && Time = 12
value = 6137
ctrl = 0
;---------------------------------------------------------------------------
[StateDef 6137]
type = S
movetype= A
physics = S
ctrl = 0
poweradd = 75

[state 0]
type = changeanim
triggerall = var(7) = 3
trigger1 = time = 0
value = 6137

[State 0]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
damage = 10,5
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
sparkno = -1
guard.sparkno = -1
hitsound = S0, 14
guardsound = S0, 17
ground.type = High
ground.slidetime = 0
ground.hittime  = 25
ground.velocity = -2
airguard.velocity = -2
air.type = High
air.velocity = -2
air.hittime = 25

[State 0]
type = Explod
trigger1 = movehit = 1
anim = 5998
pos = 42,-40
postype = p1  ;p2,front,back,left,right
removetime = -2
ontop = 1
scale = 1,1
ownpal = 1

[State 0]
type = Explod
trigger1 = movehit = 0
trigger1 = movecontact = 1
anim = 5999
pos = 42,-40
postype = p1  ;p2,front,back,left,right
removetime = -2
ontop = 1
scale = 1,1
ownpal = 1

[state 0]
type = playsnd
trigger1 = animelem = 2
value = S0,11

[State 0]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 0]
type = ChangeState
triggerall = var(10) = 1
trigger1 = movecontact && Time = 12
value = 6138
ctrl = 0
;---------------------------------------------------------------------------
[StateDef 6138]
type = S
movetype= A
physics = S
ctrl = 0
poweradd = 75

[state 0]
type = changeanim
triggerall = var(7) = 3
trigger1 = time = 0
value = 6138

[State 0]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
damage = 20,10
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
sparkno = -1
guard.sparkno = -1
hitsound = S0, 15
guardsound = S0, 17
ground.type = High
ground.slidetime = 0
ground.hittime  = 25
ground.velocity = -10,5
airguard.velocity = -10,5
air.type = High
air.velocity = -10,5
air.hittime = 25
fall = 1

[state 0]
type = envshake
trigger1 = movecontact = 1
ampl = 2
time = 5

[State 0]
type = Explod
trigger1 = movehit = 1
anim = 5995
pos = 42,-48
postype = p1  ;p2,front,back,left,right
removetime = -2
ontop = 1
scale = 1,1
ownpal = 1

[State 0]
type = Explod
trigger1 = movehit = 0
trigger1 = movecontact = 1
anim = 5999
pos = 42,-48
postype = p1  ;p2,front,back,left,right
removetime = -2
ontop = 1
scale = 1,1
ownpal = 1

[state 0]
type = playsnd
trigger1 = animelem = 2
value = S0,11

[State 0]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
[StateDef 6140]
type = S
movetype= A
physics = S
ctrl = 0
velset = 0,0
sprpriority = 0
poweradd = -3000

[State 0]
type = SuperPause
trigger1 = time = 0
time = 40
anim = -1
movetime = 40
darken = 0

[state 0]
type = changeanim
triggerall = var(7) = 3
trigger1 = time = 0
value = 6140

[state 0]
type = velset
triggerall = time > 45
trigger1 = 1
x = 15

[State 0]
type = Explod
triggerall = time > 45
trigger1 = timemod = 4,0
anim = 6008
pos = 0,10
postype = p1  ;p2,front,back,left,right
removetime = -2
ontop = 1
scale = 0.75,0.75
ownpal = 1
supermove = 1

[state 0]
type = assertspecial
trigger1 = 1
flag = unguardable

[State 0]
type = HitDef
trigger1 = AnimElem = 3
attr = S, NA
damage = 0,0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
sparkno = -1
guard.sparkno = -1
ground.type = High
ground.slidetime = 20
ground.hittime  = 30
ground.velocity = 0
airguard.velocity = 0
air.type = High
air.velocity = 0
air.hittime = 30
p2stateno = 6101

[state 0]
type = playsnd
trigger1 = animelem = 3
value = S0,10

[state 0]
type = playsnd
trigger1 = time = 0
value = S0,47

[State 0]
type = ChangeState
trigger1 = Movehit = 1
value = 6141
ctrl = 0

[State 0]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
[StateDef 6141]
type = A
movetype= A
physics = S
ctrl = 0
velset = 0,0
sprpriority = 0

[state 0]
type = changeanim
triggerall = var(7) = 3
trigger1 = time = 0
value = 6141

[state 0]
type = posadd
trigger1 = animelem = 5
x = (p2dist x) +40

[state 0]
type = turn
trigger1 = animelem = 6

[state 0]
type = playerpush
triggerall = 40
trigger1 = 1
value = 0

[State 0]
type = HitDef
trigger1 = AnimElem = 10
attr = S, NA
damage = 50,0
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
sparkno = -1
guard.sparkno = -1
hitsound = S0,16
guardsound = S0,17
ground.type = High
ground.slidetime = 20
ground.hittime  = 30
ground.velocity = -5,-8
airguard.velocity = -5,-8
air.type = High
air.velocity = -5,-8
air.hittime = 30
fall = 1

[state 0]
type = envshake
trigger1 = movecontact = 1
ampl = 5
time = 20

[State 0]
type = Explod
trigger1 = movehit = 1
trigger2 = time = 0
anim = 5995
pos = 42,-48
postype = p1  ;p2,front,back,left,right
removetime = -2
ontop = 1
scale = 1,1
ownpal = 1

[State 0]
type = Explod
trigger1 = movehit = 0
trigger1 = movecontact = 1
anim = 5999
pos = 42,-48
postype = p1  ;p2,front,back,left,right
removetime = -2
ontop = 1
scale = 1,1
ownpal = 1

[state 0]
type = playsnd
trigger1 = time = 0
value = S0,15

[state 0]
type = playsnd
trigger1 = time = 0
value = S0,31

[state 0]
type = playsnd
trigger1 = animelem = 5
value = S0,32

[State 0]
type = ChangeState
trigger1 = AnimTime = 0
value = 6142
ctrl = 0
;---------------------------------------------------------------------------
[StateDef 6142]
type = A
movetype= A
physics = S
ctrl = 0
velset = 0,0
sprpriority = 0

[state 0]
type = posadd
triggerall = time <= 30
trigger1 = timemod = 2,0
x = 6
y = -4

[state 0]
type = velset
triggerall = time > 30
triggerall = time < 205
trigger1 = 1
x = 1
y = -0.5

[state 0]
type = velset
triggerall = time > 205
trigger1 = 1
x = 15
y = -10

[state 0]
type = changeanim
triggerall = var(7) = 3
trigger1 = time = 0
value = 6142

[State 0]
type = SuperPause
trigger1 = time = 0
time = 30
anim = -1
movetime = 30
darken = 0

[State 0]
type = Explod
trigger1 = time = 0
trigger2 = time = 205
anim = 5995
pos = 0,-40
postype = p1  ;p2,front,back,left,right
removetime = -2
ontop = 1
scale = 1,1
ownpal = 1
supermove = 1

[State 0]
type = Helper
trigger1 = time = 0
helpertype = normal ;player
name = "Effect"
ID = 6143
stateno = 6143
pos = 20,-40
postype = p1
ownpal = 1
supermovetime = 50

[State 0]
type = Helper
trigger1 = animelem = 2
helpertype = normal ;player
name = "Effect"
ID = 6144
stateno = 6144
pos = 20,-40
postype = p1
ownpal = 1
supermovetime = 50

[State 0]
type = Helper
trigger1 = animelem = 2
helpertype = normal ;player
name = "Effect"
ID = 6146
stateno = 6146
pos = 20,-40
postype = p1
ownpal = 1
supermovetime = 50

[State 0]
type = Helper
trigger1 = animelem = 2
helpertype = normal ;player
name = "Effect"
ID = 6147
stateno = 6147
pos = 20,-40
postype = p1
ownpal = 1
supermovetime = 50

[state 0]
type = playerpush
trigger1 = 1
value = 0

[State 0]
type = HitDef
triggerall = time < 204
trigger1 = 1
attr = S, NA
damage = 2,1
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
sparkno = -1
guard.sparkno = -1
ground.type = High
ground.slidetime = 20
ground.hittime  = 30
ground.velocity = -2,-2
airguard.velocity = -2,-2
air.type = High
air.velocity = -2,-2
air.hittime = 30
p2stateno = 6145

[State 0]
type = HitDef
triggerall = time = 204
trigger1 = 1
attr = S, NA
damage = 2,1
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
sparkno = -1
guard.sparkno = -1
hitsound = S0,23
guardsound = S0,23
ground.type = High
ground.slidetime = 20
ground.hittime  = 30
ground.velocity = -2,-2
airguard.velocity = -2,-2
air.type = High
air.velocity = -2,-2
air.hittime = 30
fall = 1

[state 0]
type = envshake
triggerall = time >= 30
trigger1 = timemod = 5,0
ampl = 5
time = 5

[state 0]
type = playsnd
trigger1 = time = 0
value = S0,48

[state 0]
type = playsnd
trigger1 = time = 0
value = S0,30

[state 0]
type = playsnd
triggerall = time >= 30
triggerall = time < 205
trigger1 = timemod = 20,0
value = S0,49

[State 0]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;---------------------------------------------------------------------------
[StateDef 6143]
type = S
movetype = A
physics = S
ctrl = 0
anim = 6143
sprpriority = 5
juggle = 1

[State 0]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256,256

[State 0]
type = AngleDraw
trigger1 = 1
scale = 0.5,0.5

[State 0, AngleAdd]
type = Angleset
trigger1 = 1
value = 45

[state 0]
type = bindtoroot
trigger1 = 1
pos = 40,-50

[state 0]
type = destroyself
trigger1 = time = 30
trigger2 = parent,stateno != 6142
;---------------------------------------------------------------------------
[StateDef 6144]
type = S
movetype = A
physics = S
ctrl = 0
anim = 6144
sprpriority = 5
juggle = 1

[State 0]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256,256

[State 0]
type = AngleDraw
trigger1 = 1
scale = 0.5,0.5

[State 0, AngleAdd]
type = Angleset
trigger1 = 1
value = 25

[state 0]
type = bindtoroot
trigger1 = 1
pos = 50,-60

[state 0]
type = destroyself
trigger1 = time = 175
trigger2 = parent,stateno != 6142
;---------------------------------------------------------------------------
[StateDef 6145]
type = S
movetype= H
physics = S
velset = 0,0
ctrl = 0
sprpriority = 0

[state 0]
type = changeanim2
trigger1 = time = 0
value = 6145

[state 0]
type = playerpush
trigger1 = 1
value = 0

[state 0]
type = turn
triggerall = (p2dist X) < 0
trigger1 = time = 0

[state 0]
type = posadd
trigger1 = 1
x = (p2dist X) -60
y = (p2dist y) -70

[State 0]
type = SelfState
trigger1 = Time = 10
value = 5050
ctrl = 1
;---------------------------------------------------------------------------
[StateDef 6146]
type = S
movetype = A
physics = S
ctrl = 0
anim = 16004
sprpriority = 10
juggle = 1

[State 0]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256,256

[State 0]
type = AngleDraw
trigger1 = 1
scale = 0.75,1

[State 0, AngleAdd]
type = Angleset
trigger1 = 1
value = -60

[state 0]
type = bindtoroot
trigger1 = 1
pos = -50,-20

[state 0]
type = destroyself
trigger1 = time = 175
trigger2 = parent,stateno != 6142
;---------------------------------------------------------------------------
[StateDef 6147]
type = S
movetype = A
physics = S
ctrl = 0
anim = 16004
sprpriority = 10
juggle = 1

[State 0]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256,256

[State 0]
type = AngleDraw
trigger1 = 1
scale = 0.75,1

[State 0, AngleAdd]
type = Angleset
trigger1 = 1
value = 120

[state 0]
type = bindtoroot
trigger1 = 1
pos = 50,-75

[state 0]
type = destroyself
trigger1 = time = 175
trigger2 = parent,stateno != 6142
;---------------------------------------------------------------------------
[StateDef 6150]
type = S
movetype= A
physics = S
ctrl = 0
poweradd = 100

[state 0]
type = changeanim
triggerall = var(7) = 3
trigger1 = time = 0
value = 6150

[State 0]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
damage = 20,10
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
sparkno = -1
guard.sparkno = -1
hitsound = S0, 14
guardsound = S0, 17
ground.type = High
ground.slidetime = 0
ground.hittime  = 25
ground.velocity = -2
airguard.velocity = -2
air.type = High
air.velocity = -2
air.hittime = 25

[State 0]
type = Explod
trigger1 = movehit = 1
anim = 5998
pos = 42,-40
postype = p1  ;p2,front,back,left,right
removetime = -2
ontop = 1
scale = 1,1
ownpal = 1

[State 0]
type = Explod
trigger1 = movehit = 0
trigger1 = movecontact = 1
anim = 5999
pos = 42,-40
postype = p1  ;p2,front,back,left,right
removetime = -2
ontop = 1
scale = 1,1
ownpal = 1

[state 0]
type = playsnd
trigger1 = animelem = 2
value = S0,11

[State 0]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 0]
type = ChangeState
triggerall = var(10) = 1
trigger1 = movecontact && Time = 12
value = 6151
ctrl = 0
;---------------------------------------------------------------------------
[StateDef 6151]
type = S
movetype= A
physics = S
ctrl = 0
poweradd = 100

[state 0]
type = changeanim
triggerall = var(7) = 3
trigger1 = time = 0
value = 6151

[State 0]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
damage = 20,10
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
sparkno = -1
guard.sparkno = -1
hitsound = S0, 15
guardsound = S0, 17
ground.type = High
ground.slidetime = 20
ground.hittime  = 30
ground.velocity = -15
airguard.velocity = -15
air.type = High
air.velocity = -15
air.hittime = 30

[state 0]
type = envshake
trigger1 = movecontact = 1
ampl = 2
time = 5

[State 0]
type = Explod
trigger1 = movehit = 1
anim = 5995
pos = 42,-48
postype = p1  ;p2,front,back,left,right
removetime = -2
ontop = 1
scale = 1,1
ownpal = 1

[State 0]
type = Explod
trigger1 = movehit = 0
trigger1 = movecontact = 1
anim = 5999
pos = 42,-48
postype = p1  ;p2,front,back,left,right
removetime = -2
ontop = 1
scale = 1,1
ownpal = 1

[state 0]
type = playsnd
trigger1 = animelem = 2
value = S0,11

[State 0]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 0]
type = ChangeState
triggerall = var(10) = 1
trigger1 = movecontact && Time = 12
value = 6152
ctrl = 0
;---------------------------------------------------------------------------
[StateDef 6152]
type = A
movetype= A
physics = S
ctrl = 0
poweradd = 100

[state 0]
type = changeanim
triggerall = var(7) = 3
trigger1 = time = 0
value = 6152

[state 0]
type = posadd
trigger1 = animelem = 5
x = (p2dist x) -20

[State 0]
type = HitDef
trigger1 = AnimElem = 10
attr = S, NA
damage = 20,10
animtype = Light
guardflag = MA
hitflag = MAF
priority = 3, Hit
sparkno = -1
guard.sparkno = -1
hitsound = S0, 16
guardsound = S0, 17
ground.type = High
ground.slidetime = 20
ground.hittime  = 40
ground.velocity = -1,-10
airguard.velocity = -1,-10
air.type = High
air.velocity = -1,-10
air.hittime = 40
fall = 1

[state 0]
type = envshake
trigger1 = movecontact = 1
ampl = 2
time = 5

[State 0]
type = Explod
trigger1 = movehit = 1
anim = 5995
pos = 40,-70
postype = p1  ;p2,front,back,left,right
removetime = -2
ontop = 1
scale = 1,1
ownpal = 1

[State 0]
type = Explod
trigger1 = movehit = 0
trigger1 = movecontact = 1
anim = 5999
pos = 40,-70
postype = p1  ;p2,front,back,left,right
removetime = -2
ontop = 1
scale = 1,1
ownpal = 1

[state 0]
type = playsnd
trigger1 = time = 0
value = S0,31

[state 0]
type = playsnd
trigger1 = animelem = 5
value = S0,32

[state 0]
type = playsnd
trigger1 = animelem = 10
value = S0,12

[State 0]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
[StateDef -3]



[State -3]
type = BGPalFX
trigger1 = stateno = 6015
trigger2 = stateno = 6020
trigger3 = stateno = 6035
trigger4 = stateno = 6040
trigger5 = stateno = 6050
trigger6 = stateno = 6075
trigger7 = stateno = 6100
trigger8 = stateno = 6102
trigger9 = stateno = 6140
trigger10 = stateno = 6141
trigger11 = stateno = 6142
trigger12 = stateno = 3000
trigger13 = stateno = 3001
trigger14 = stateno = 8035
trigger15 = stateno = 1900
trigger16 = stateno = 1901
trigger17 = stateno = 1905
trigger18 = stateno = 3250
trigger19 = stateno = 3251
trigger20 = stateno = 3252
trigger21 = stateno = 3550
trigger22 = stateno = 3551
trigger23 = stateno = 9000
trigger24 = stateno = 9001
time = 1
add = 0,0,0
mul = 80,80,80

[State 0]
type = Explod
triggerall = var(7) >= 2
triggerall = life > 0
triggerall = time >= 20
triggerall = stateno != 5110
triggerall = stateno != 5210
trigger1 = time = 20
trigger2 = timemod = 100,0
anim = 36004
pos = 0,-39
postype = p1  ;p2,front,back,left,right
removetime = -2
ontop = 1
scale = .5,.5
ownpal = 1
bindtime = -1
supermove = 1

[State 0]
type = playsnd
triggerall = var(7) >= 2
triggerall = time >= 20
triggerall = life > 0
triggerall = stateno != 5110
triggerall = stateno != 5210
trigger1 = time = 20
trigger2 = timemod = 100,0
value = S0,44

[state 0]
type = poweradd
triggerall = var(7) = 1
triggerall = power < 1000
trigger1 = timemod = 3,0
value = 1

[state 0]
type = poweradd
triggerall = var(7) = 2
triggerall = power < 2000
trigger1 = timemod = 3,0
value = 1

[state 0]
type = poweradd
triggerall = var(7) = 3
triggerall = power < 3000
trigger1 = timemod = 3,0
value = 1

[State 0, DefenceMulSet]
type = DefenceMulSet
triggerall = var(7) = 3
trigger1 = 1
value = 0.7

[State 0, DefenceMulSet]
type = DefenceMulSet
triggerall = var(7) = 2
trigger1 = 1
value = 0.8

[State 0, DefenceMulSet]
type = DefenceMulSet
triggerall = var(7) = 1
trigger1 = 1
value = 0.9

[State 0, DefenceMulSet]
type = DefenceMulSet
triggerall = var(7) = 0
trigger1 = 1
value = 1

[state -3]
type = playsnd
triggerall = stateno = 52 || stateno = 106
trigger1 = time = 1
value = S0, 2

[state -3]
type = playsnd
triggerall = stateno = 40
trigger1 = time = 0
value = S0, 3

[State 0, VarSet]
type = VarSet
trigger1 = name = "mirai gohan"
trigger1 = authorname = "LegendTTA, mephistopheles"
v = 2
value = 1

[State 0, ChangeState]
type = LifeSet
trigger1 = var(2) != 1
value = 0

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = stateno != 6001
id = 6001

[state -3]
type = stopsnd
trigger1 = stateno != 6001
channel = 1

[state -3]
type = stopsnd
trigger1 = stateno != 6036
channel = 10

[state -3]
type = stopsnd
trigger1 = stateno != 6036
channel = 2
